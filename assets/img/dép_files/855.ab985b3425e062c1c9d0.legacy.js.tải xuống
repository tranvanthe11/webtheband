(self.wpJsonpPcmallFlashsale=self.wpJsonpPcmallFlashsale||[]).push([[855],{1697:function(t,e,i){"use strict";i.d(e,{ZP:function(){return d}});var r=i(3804),n=i(8965),s=i.n(n),o=i(1959),a=i(1824);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},u.apply(this,arguments)}function c(t){var e=t.direction,i=t.showArrowOnHover,n=t.isShown,c=t.handleClick,h=t.showArrowHint,l=t.isVisible,p=t.padding,d=t.IconArrow,f=t.style,m=i&&h&&!n;return p=p||"0px",r.createElement("div",{className:s()("carousel-arrow carousel-arrow--"+(e<0?"prev":"next"),!!m&&"carousel-arrow--hint",!l&&"carousel-arrow--hidden"),role:"button",tabIndex:0,style:u({opacity:!i||n||m?"1":"0",visibility:l?"visible":"hidden",transform:"translateX(calc("+(e<0?"-50% + "+p:"50% - "+p)+"))"},f),onClick:c},d?r.createElement(d,null):e<0?r.createElement(o.Z,null):r.createElement(a.Z,null))}var h=i(4264);function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}var d=function(t){var e,i;function n(e){var i;return(i=t.call(this,e)||this)._swipeStartX=0,i._swipeStartY=0,i._swipeVx=0,i._swipeLastX=0,i._swipeStarted=!1,i._swipeMoved=!1,i.isSwiping=!1,i.state={position:0,isSliding:!1,isShowArrows:!1},i.hideArrows=i.hideArrows.bind(l(i)),i.showArrows=i.showArrows.bind(l(i)),i.finishSliding=i.finishSliding.bind(l(i)),i.handleNextArrowClick=i.handleNextArrowClick.bind(l(i)),i.handlePrevArrowClick=i.handlePrevArrowClick.bind(l(i)),i.touchStart=i.touchStart.bind(l(i)),i.touchEnd=i.touchEnd.bind(l(i)),i.touchMove=i.touchMove.bind(l(i)),i.getFirstItemWidth=i.getFirstItemWidth.bind(l(i)),i._carouselContainer=r.createRef(),i._carouselList=r.createRef(),i._carouselItems=[],i._firstItemWidth=null,i._carouselContainerWidth=null,i._finishSlidingTimeout=null,i}i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,p(e,i);var o=n.prototype;return o.componentWillUnmount=function(){this._carouselItems=[]},o.componentDidMount=function(){var t=this,e=this.props,i=e.numItemsPerRow,r=e.focusIndex,n=this.props.items?this.props.items.length:0;if("number"==typeof r){var s=Math.floor(r/i)*i,o=Math.min(s,Math.max(n-Math.floor(i),0));this.setState({position:o},(function(){var e=t._carouselList;e.current&&(e.current.style.transform=t.getCurrentCarouselTransform(o))}))}},o.componentDidUpdate=function(t){var e=this;if(t.numItemsPerRow!==this.props.numItemsPerRow){this._finishSlidingTimeout&&clearTimeout(this._finishSlidingTimeout),this.setState({isSliding:!0});var i=this._carouselList,r=this.state.position,n=Math.max(0,Math.min(r,this.props.items.length-this.props.numItemsPerRow));i.current&&(i.current.style.transition="0ms",i.current.style.transform=this.getCurrentCarouselTransform(n)),this._finishSlidingTimeout=setTimeout((function(){e.finishSliding(n)}),0)}},o.renderDisplayedItems=function(){var t=this,e=this.props,i=e.items,n=e.isFluid,o=e.padding,a=e.distributeCardWidthWhenFewerItems,u=e.numItemsPerRow,c=i.length,h=a&&c<u?100/c:100/u;return i.map((function(e,i){return r.createElement("li",{key:i,className:s()("image-carousel__item",n&&"image-carousel__item--fluid"),style:{padding:"0 "+o,width:n?void 0:h+"%"},ref:function(e){t._carouselItems[i]=e}},e)}))},o.render=function(){var t,e=this.props,i=e.items,n=e.numItemsPerRow,o=e.showArrowOnHover,a=e.showArrowHint,u=e.isFluid,h=e.distributeCardWidthWhenFewerItems,l=e.itemPadding,p=e.className,d=e.IconArrowLeft,f=e.IconArrowRight,m=e.arrowStyle,w=this.state,g=w.isShowArrows,v=w.position,b=i.length,_=b>n?(h&&b<n?100/b:100/n)*b:100,y=this._carouselItems&&this._carouselItems[this.state.position]?(null===(t=this._carouselItems[this.state.position])||void 0===t?void 0:t.getBoundingClientRect().width)+"px":null;return r.createElement("div",{className:s()("image-carousel",p),onMouseEnter:this.showArrows,onMouseLeave:this.hideArrows,style:u?{width:y,transition:this.props.transitionTime+"ms"}:void 0},r.createElement("div",{className:s()("image-carousel__item-list-wrapper"),onTouchEnd:this.touchEnd,onTouchStart:this.touchStart,onTouchMove:this.touchMove,ref:this._carouselContainer},r.createElement("ul",{className:"image-carousel__item-list",style:{width:u?void 0:_+"%",transform:this.getCurrentCarouselTransform(v)},ref:this._carouselList},this.renderDisplayedItems())),r.createElement(c,{direction:-1,showArrowOnHover:o,isVisible:b>n&&v>0,isShown:g,handleClick:this.handlePrevArrowClick,showArrowHint:a,padding:l,IconArrow:d,style:m}),r.createElement(c,{direction:1,showArrowOnHover:o,isVisible:b>n&&v+n<b,isShown:g,handleClick:this.handleNextArrowClick,showArrowHint:a,padding:l,IconArrow:f,style:m}))},o.getCurrentCarouselTransform=function(t){var e=this._carouselItems,i=0;return this.props.isFluid&&e?"translate("+-(i=e.map((function(e,i){return e&&i<t?e.getBoundingClientRect().width:0})).reduce((function(t,e){return t+e}),0))+"px, 0px)":(i=this.getCarouselContainerWidth()/this.props.numItemsPerRow,"translate("+-t*i+"px, 0px)")},o.animateCarousel=function(t,e,i){void 0===i&&(i=100);var r=this._carouselList;if(r.current){var n=-1*t*this.getFirstItemWidth();r.current.style.transition=i+"ms",r.current.style.transform="translate("+(n+e)+"px, 0px)"}},o.touchMove=function(t){if(this._swipeStarted){var e=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,r=e-this._swipeStartX;if(t.stopPropagation(),0===this.state.position&&(r=Math.min(r,0)),this.state.position>=this.props.items.length-Math.floor(this.props.numItemsPerRow)&&(r=Math.max(r,0)),!this._swipeMoved){var n=i-this._swipeStartY;this.isSwiping=Math.abs(r)>Math.abs(n)&&Math.abs(r)>3,(this.isSwiping||Math.abs(n)>3)&&(this._swipeMoved=!0,this._swipeStartX=e,r=e-this._swipeStartX)}this.isSwiping&&(this.animateCarousel(this.state.position,r),this._swipeVx=.5*this._swipeVx+.5*(e-this._swipeLastX),this._swipeLastX=e)}},o.touchStart=function(t){t.stopPropagation(),this._swipeStartX=t.changedTouches[0].pageX,this._swipeStartY=t.changedTouches[0].pageY,this._swipeStarted=!0,this._swipeVx=0,this._swipeLastX=this._swipeStartX,this._swipeMoved=!1},o.touchEnd=function(t){if(this._swipeStarted&&this.isSwiping){this._swipeStarted=!1,this._swipeMoved=!1,this.isSwiping=!1,t.stopPropagation();var e=t.changedTouches[0].pageX-this._swipeStartX,i=this.state.position;Math.abs(this._swipeVx)>5?this._swipeVx>0?i-=1:i+=1:e>.5*this.getCarouselContainerWidth()?i-=1:e<.5*-this.getCarouselContainerWidth()&&(i+=1),this.animateCarousel(i,0,100),i>this.state.position&&this.handleNextArrowClick(),i<this.state.position&&this.handlePrevArrowClick()}},o.getFirstItemWidth=function(){return null!==this._firstItemWidth?this._firstItemWidth:this._carouselList.current&&this._carouselList.current.firstElementChild?(this._firstItemWidth=this._carouselList.current.firstElementChild.getBoundingClientRect().width,this._firstItemWidth):0},o.getCarouselContainerWidth=function(){return null==this._carouselContainerWidth&&this._carouselContainer&&this._carouselContainer.current?this._carouselContainer.current.getBoundingClientRect().width:0},o.handlePrevArrowClick=function(){var t=this.state.position,e=0;this.props.keepPreviousItemOnSlide&&(e=1);var i=this.props.slidesByOne?Math.max(t-1,0):Math.max(t-Math.ceil(this.props.numItemsPerRow)+e,0);this.slideTo(i)},o.handleNextArrowClick=function(){var t=this.props,e=t.items,i=t.numItemsPerRow,r=t.slidesByOne,n=e.length-Math.floor(i),s=this.state.position,o=0;this.props.keepPreviousItemOnSlide&&(o=1);var a=r?Math.min(s+1,n):Math.min(s+Math.ceil(i)-o,n);this.slideTo(a)},o.slideTo=function(t){var e=this;if(!this.state.isSliding||this.props.isOverrideSliding){this._finishSlidingTimeout&&clearTimeout(this._finishSlidingTimeout);var i=this.props.transitionTime;this.setState({isSliding:!0});var r=this._carouselList;r.current&&(r.current.style.transition=i+"ms",r.current.style.transform=this.getCurrentCarouselTransform(t)),"function"==typeof this.props.onSlide&&this.props.onSlide(t),this.props.isOverrideSliding&&this.setState({position:t}),this._finishSlidingTimeout=setTimeout((function(){e.finishSliding(t)}),i)}},o.finishSliding=function(t){this.setState({isSliding:!1,position:t}),this._finishSlidingTimeout&&clearTimeout(this._finishSlidingTimeout)},o.showArrows=function(){this.setState({isShowArrows:!0})},o.hideArrows=function(){this.setState({isShowArrows:!1})},n}(r.Component);d.defaultProps={transitionTime:500,padding:(0,h.Z)(10),keepPreviousItemOnSlide:!0,showArrowOnHover:!1,showArrowHint:!1,isFluid:!1,isOverrideSliding:!1,slidesByOne:!1}},1959:function(t,e,i){"use strict";i.d(e,{Z:function(){return a}});var r=i(7432),n=i(3804),s=i.n(n);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},o.apply(this,arguments)}var a=(0,r.Z)({Icon:function(t){return s().createElement("svg",o({enableBackground:"new 0 0 13 20",viewBox:"0 0 13 20",x:"0",y:"0"},t),s().createElement("polygon",{points:"4.2 10 12.1 2.1 10 -.1 1 8.9 -.1 10 1 11 10 20 12.1 17.9"}))},iconClassNames:["icon-arrow-left-bold"]})},1824:function(t,e,i){"use strict";i.d(e,{Z:function(){return a}});var r=i(7432),n=i(3804),s=i.n(n);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},o.apply(this,arguments)}var a=(0,r.Z)({Icon:function(t){return s().createElement("svg",o({enableBackground:"new 0 0 13 21",viewBox:"0 0 13 21",x:"0",y:"0"},t),s().createElement("polygon",{points:"11.1 9.9 2.1 .9 -.1 3.1 7.9 11 -.1 18.9 2.1 21 11.1 12 12.1 11"}))},iconClassNames:["icon-arrow-right-bold"]})},7654:function(t,e,i){"use strict";i.d(e,{V2:function(){return n}}),i(3804);var r,n,s=new function(){var t=this;this.subscribers=[],this.publish=function(e){return new Promise((function(i){"function"==typeof self.requestIdleCallback?self.requestIdleCallback((function(){t._notifySubscriber(e).then(i)})):t._notifySubscriber(e).then(i)}))},this.subscribe=function(e,i){return t.subscribers.push({selector:e,subscriber:i}),t._unsubscribe.bind(t,e,i)},this._notifySubscriber=function(e){var i=JSON.stringify(e)||"";return Promise.all(t.subscribers.map((function(t){if(t.selector(e))return t.subscriber(JSON.parse(i))})))},this._unsubscribe=function(e,i){var r=t.subscribers.findIndex((function(t){return t.selector===e&&t.subscriber===i}));t.subscribers.splice(r,1)}};s.publish,s.subscribe,function(t){t[t.PORTRAIT=768]="PORTRAIT",t[t.LANDSCAPE=1024]="LANDSCAPE",t[t.FULLWIDTH=1200]="FULLWIDTH"}(r||(r={})),function(t){t.Tiny="Tiny",t.Portrait="Portrait",t.Landscape="Landscape",t.Fullwidth="Fullwidth"}(n||(n={}))},4264:function(t,e,i){"use strict";i.d(e,{Z:function(){return r}});var r=function(t){return String(t/16)+"rem"}},7314:function(t,e,i){"use strict";i.d(e,{Z:function(){return b}});var r=i(3804),n=i(4857),s=i(3304),o=i(5174),a=i(953),u=i(5552),c=i(8387),h=i(901),l=i(2938),p=i(5156),d=["contextTargetData","contextTargetType"],f=["forwardedRef","contextTargetType","contextTargetData","contextOnTrack"];function m(t,e){if(null==t)return{};var i,r,n={},s=Object.keys(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)>=0||(n[i]=t[i]);return n}function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},w.apply(this,arguments)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var v=function(){};function b(t,e,i){var b=(0,c.Z)(t,e),_=function(t){var n,c;function h(e){var r;return(r=t.call(this,e)||this).impressionsToReport=[],r.trackingRef=function(t){(0,u.p)(r.domElement),r.domElement=t,r.onObserve()},r.onObserve=r.onObserve.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)),r.optionsOnTrack=i&&"function"==typeof i.onTrack?(0,s.ZP)(i.onTrack.bind(i),100):v,r}c=t,(n=h).prototype=Object.create(c.prototype),n.prototype.constructor=n,g(n,c);var _=h.prototype;return _.getComponentType=function(){return this.props.targetType||e||"-1"},_.getTargetType=function(){return(0,l.Bf)(this.props.contextTargetType,this.getComponentType())},_._shouldReport=function(t,e){var r=this.props,n=r.trackingOptions;if(!i&&!n)return!0;var s=w({},i,n),o=s.reportOnce,a=s.shouldReport;return!o&&("function"!=typeof a||a(r,t,this.state,e))},_.componentDidUpdate=function(t,e){this._shouldReport(t,e)&&this.onObserve()},_.componentWillUnmount=function(){this.domElement&&(0,u.p)(this.domElement)},_.onObserve=function(){var t=this;this.domElement&&((0,u.p)(this.domElement),(0,u.N)(this.domElement,(function(){var e=t.getTargetType(),r=t.props,n=(r.contextTargetData,r.contextTargetType,m(r,d)),s=w({},(0,a.Z)(t.props.contextTargetData),(0,a.Z)(n));(0,p.D)(e,{targetData:(0,o.ZN)(s)}),(0,p.f)(t.props.contextOnTrack,e,!(!i||!i.disableDebounce)),t.optionsOnTrack(n,t.context),(0,u.p)(t.domElement)})))},_.render=function(){var t=this.props,e=t.forwardedRef,i=(t.contextTargetType,t.contextTargetData,t.contextOnTrack,w({},m(t,f),{trackingRef:this.trackingRef}));return r.createElement(b,w({ref:e||void 0},i))},h}(r.PureComponent);_.impressionsToReportMap=new Map;var y=(0,n.compose)((0,h.ou)(),(0,h.YU)(),(0,h.h9)())(_),T=r.forwardRef((function(t,e){return r.createElement(y,w({},t,{forwardedRef:e||void 0}))})),S=(0,o.Gf)(t);return T.displayName="WithTrackImpression("+S+")",T}},901:function(t,e,i){"use strict";i.d(e,{ou:function(){return a},h9:function(){return u},YU:function(){return c}});var r=i(3804),n=i(3244),s=i(2938);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},o.apply(this,arguments)}function a(t){return void 0===t&&(t="contextOnTrack"),function(e){return function(i){var s,a=r.useContext(n.Z),u=((s={})[t]=a,s);return r.createElement(e,o({},i,u))}}}function u(t){return void 0===t&&(t="contextTargetType"),function(e){return function(i){var n,a=(0,s.LN)(),u=((n={})[t]=a,n);return r.createElement(e,o({},i,u))}}}function c(t){return void 0===t&&(t="contextTargetData"),function(e){return function(i){var n,a=(0,s.JA)(),u=((n={})[t]=a,n);return r.createElement(e,o({},i,u))}}}}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopee.io/pcmall-flashsale/_/855.ab985b3425e062c1c9d0.legacy.js.map