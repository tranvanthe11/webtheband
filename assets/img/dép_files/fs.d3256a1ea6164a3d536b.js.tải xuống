/*! For license information please see fs.d3256a1ea6164a3d536b.js.LICENSE.txt */
"use strict";(self.miniJsonp=self.miniJsonp||[]).push([[580],{46583:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Vn});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var o,a,l,s,c,u,d,p,m,h,b,y,f,Z,G,X,v=r((function(t){var e,n,r,o,a,l,s,c,u,d,p,m,h,b,y,f,Z,G,X,v,g,K,S,I;!function(x){var L="object"==typeof i?i:"object"==typeof self?self:"object"==typeof this?this:{};function W(t,e){return t!==L&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,i){return t[n]=e?e(n,i):i}}!function(t){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};e=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},o=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=function(t,e){return function(n,i){e(n,i,t)}},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?n(t.value):r(t.value).then(a,l)}s((i=i.apply(t,e||[])).next())}))},c=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(t){return function(e){return s([t,e])}}function s(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||I(e,t,n)},I=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},m=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t},h=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,r++)i[r]=o[a];return i},b=function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},y=function(t){return this instanceof y?(this.v=t,this):new y(t)},f=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||l(t,e)}))})}function l(t,e){try{!function(t){t.value instanceof y?Promise.resolve(t.value.v).then(s,c):u(o[0][2],t)}(r[t](e))}catch(t){u(o[0][3],t)}}function s(t){l("next",t)}function c(t){l("throw",t)}function u(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}},Z=function(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}},G=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}},X=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&I(e,t,n);return x(e,t),e},g=function(t){return t&&t.__esModule?t:{default:t}},K=function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)},S=function(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n},t("__extends",e),t("__assign",n),t("__rest",r),t("__decorate",o),t("__param",a),t("__metadata",l),t("__awaiter",s),t("__generator",c),t("__exportStar",u),t("__createBinding",I),t("__values",d),t("__read",p),t("__spread",m),t("__spreadArrays",h),t("__spreadArray",b),t("__await",y),t("__asyncGenerator",f),t("__asyncDelegator",Z),t("__asyncValues",G),t("__makeTemplateObject",X),t("__importStar",v),t("__importDefault",g),t("__classPrivateFieldGet",K),t("__classPrivateFieldSet",S)}(W(L,W(t.exports)))}()})),g=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,i=function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function a(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function l(t){return t.nodeType===t.ELEMENT_NODE}function s(t){var e,n=null===(e=t)||void 0===e?void 0:e.host;return Boolean(n&&n.shadowRoot&&n.shadowRoot===t)}function c(t){var e=t.maskInputOptions,n=t.tagName,i=t.type,r=t.value,o=t.maskInputFn,a=r||"";return(e[n.toLowerCase()]||e[i])&&(a=o?o(a):"*".repeat(a.length)),a}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(n||(n={}));var u,d,p=1,m=new RegExp("[^a-z0-9-_:]");function h(t){try{var e=t.rules||t.cssRules;return e?Array.from(e).map(b).join(""):null}catch(t){return null}}function b(t){var e=t.cssText;if(function(t){return"styleSheet"in t}(t))try{e=h(t.styleSheet)||e}catch(t){}return e}var y=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,f=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,Z=/^(data:)([^,]*),(.*)/i;function G(t,e){return(t||"").replace(y,(function(t,n,i,r,o,a){var l=i||o||a,s=n||r||"";if(!l)return t;if(!f.test(l))return"url("+s+l+s+")";if(Z.test(l))return"url("+s+l+s+")";if("/"===l[0])return"url("+s+(function(t){return(t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]}(e)+l)+s+")";var c=e.split("/"),u=l.split("/");c.pop();for(var d=0,p=u;d<p.length;d++){var m=p[d];"."!==m&&(".."===m?c.pop():c.push(m))}return"url("+s+c.join("/")+s+")"}))}var X=/^[^ \t\n\r\u000c]+/,v=/^[, \t\n\r\u000c]+/;function g(t,e){if(!e||""===e.trim())return e;var n=t.createElement("a");return n.href=e,n.href}function K(){var t=document.createElement("a");return t.href="",t.href}function S(t,e,n,i){return"src"===n||"href"===n&&i||"xlink:href"===n&&i&&"#"!==i[0]?g(t,i):"background"!==n||!i||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===n&&i?function(t,e){if(""===e.trim())return e;var n=0;function i(t){var i,r=t.exec(e.substring(n));return r?(i=r[0],n+=i.length,i):""}for(var r=[];i(v),!(n>=e.length);){var o=i(X);if(","===o.slice(-1))o=g(t,o.substring(0,o.length-1)),r.push(o);else{var a="";o=g(t,o);for(var l=!1;;){var s=e.charAt(n);if(""===s){r.push((o+a).trim());break}if(l)")"===s&&(l=!1);else{if(","===s){n+=1,r.push((o+a).trim());break}"("===s&&(l=!0)}a+=s,n+=1}}}return r.join(", ")}(t,i):"style"===n&&i?G(i,K()):"object"===e&&"data"===n&&i?g(t,i):i:g(t,i)}function I(t,e,n){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){if("string"==typeof e){if(t.classList.contains(e))return!0}else for(var i=0;i<t.classList.length;i++){var r=t.classList[i];if(e.test(r))return!0}return!(!n||!t.matches(n))||I(t.parentNode,e,n)}return t.nodeType,t.TEXT_NODE,I(t.parentNode,e,n)}function x(t,e){var i,r,o,a,l=e.doc,s=e.blockClass,p=e.blockSelector,b=e.maskTextClass,y=e.maskTextSelector,f=e.inlineStylesheet,Z=e.maskInputOptions,X=void 0===Z?{}:Z,v=e.maskTextFn,g=e.maskInputFn,x=e.dataURLOptions,L=void 0===x?{}:x,W=e.inlineImages,V=e.recordCanvas,w=e.keepIframeSrcFn;if(l.__sn){var T=l.__sn.id;r=1===T?void 0:T}switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:n.Document,childNodes:[],compatMode:t.compatMode,rootId:r}:{type:n.Document,childNodes:[],rootId:r};case t.DOCUMENT_TYPE_NODE:return{type:n.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:r};case t.ELEMENT_NODE:for(var C=function(t,e,n){if("string"==typeof e){if(t.classList.contains(e))return!0}else for(var i=0;i<t.classList.length;i++){var r=t.classList[i];if(e.test(r))return!0}return!!n&&t.matches(n)}(t,s,p),M=function(t){if(t instanceof HTMLFormElement)return"form";var e=t.tagName.toLowerCase().trim();return m.test(e)?"div":e}(t),Y={},R=0,H=Array.from(t.attributes);R<H.length;R++){var k=H[R],P=k.name,N=k.value;Y[P]=S(l,M,P,N)}if("link"===M&&f){var J=Array.from(l.styleSheets).find((function(e){return e.href===t.href})),j=null;J&&(j=h(J)),j&&(delete Y.rel,delete Y.href,Y._cssText=G(j,J.href))}if("style"===M&&t.sheet&&!(t.innerText||t.textContent||"").trim().length&&(j=h(t.sheet))&&(Y._cssText=G(j,K())),"input"!==M&&"textarea"!==M&&"select"!==M||(N=t.value,"radio"!==Y.type&&"checkbox"!==Y.type&&"submit"!==Y.type&&"button"!==Y.type&&N?Y.value=c({type:Y.type,tagName:M,value:N,maskInputOptions:X,maskInputFn:g}):t.checked&&(Y.checked=t.checked)),"option"===M&&(t.selected&&!X.select?Y.selected=!0:delete Y.selected),"canvas"===M&&V)if("2d"===t.__context)(function(t){var e=t.getContext("2d");if(!e)return!0;for(var n=0;n<t.width;n+=50)for(var i=0;i<t.height;i+=50){var r=e.getImageData,o="__rrweb_original__"in r?r.__rrweb_original__:r;if(new Uint32Array(o.call(e,n,i,Math.min(50,t.width-n),Math.min(50,t.height-i)).data.buffer).some((function(t){return 0!==t})))return!1}return!0})(t)||(Y.rr_dataURL=t.toDataURL(L.type,L.quality));else if(!("__context"in t)){var z=t.toDataURL(L.type,L.quality),U=document.createElement("canvas");U.width=t.width,U.height=t.height,z!==U.toDataURL(L.type,L.quality)&&(Y.rr_dataURL=z)}if("img"===M&&W){u||(u=l.createElement("canvas"),d=u.getContext("2d"));var D=t,F=D.crossOrigin;D.crossOrigin="anonymous";var E=function(){try{u.width=D.naturalWidth,u.height=D.naturalHeight,d.drawImage(D,0,0),Y.rr_dataURL=u.toDataURL(L.type,L.quality)}catch(t){console.warn("Cannot inline img src="+D.currentSrc+"! Error: "+t)}F?Y.crossOrigin=F:delete Y.crossOrigin};D.complete&&0!==D.naturalWidth?E():D.onload=E}if("audio"!==M&&"video"!==M||(Y.rr_mediaState=t.paused?"paused":"played",Y.rr_mediaCurrentTime=t.currentTime),t.scrollLeft&&(Y.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(Y.rr_scrollTop=t.scrollTop),C){var B=t.getBoundingClientRect(),Q=B.width,O=B.height;Y={class:Y.class,rr_width:Q+"px",rr_height:O+"px"}}return"iframe"!==M||w(Y.src)||(t.contentDocument||(Y.rr_src=Y.src),delete Y.src),{type:n.Element,tagName:M,attributes:Y,childNodes:[],isSVG:(a=t,Boolean("svg"===a.tagName||a.ownerSVGElement)||void 0),needBlock:C,rootId:r};case t.TEXT_NODE:var _=t.parentNode&&t.parentNode.tagName,A=t.textContent,q="STYLE"===_||void 0,$="SCRIPT"===_||void 0;if(q&&A){try{t.nextSibling||t.previousSibling||(null===(i=t.parentNode.sheet)||void 0===i?void 0:i.cssRules)&&(A=(o=t.parentNode.sheet).cssRules?Array.from(o.cssRules).map((function(t){return t.cssText||""})).join(""):"")}catch(e){console.warn("Cannot get CSS styles from text's parentNode. Error: "+e,t)}A=G(A,K())}return $&&(A="SCRIPT_PLACEHOLDER"),!q&&!$&&I(t,b,y)&&A&&(A=v?v(A):A.replace(/[\S]/g,"*")),{type:n.Text,textContent:A||"",isStyle:q,rootId:r};case t.CDATA_SECTION_NODE:return{type:n.CDATA,textContent:"",rootId:r};case t.COMMENT_NODE:return{type:n.Comment,textContent:t.textContent||"",rootId:r};default:return!1}}function L(t){return void 0===t?"":t.toLowerCase()}function W(t,e){var i,r=e.doc,o=e.map,a=e.blockClass,c=e.blockSelector,u=e.maskTextClass,d=e.maskTextSelector,m=e.skipChild,h=void 0!==m&&m,b=e.inlineStylesheet,y=void 0===b||b,f=e.maskInputOptions,Z=void 0===f?{}:f,G=e.maskTextFn,X=e.maskInputFn,v=e.slimDOMOptions,g=e.dataURLOptions,K=void 0===g?{}:g,S=e.inlineImages,I=void 0!==S&&S,V=e.recordCanvas,w=void 0!==V&&V,T=e.onSerialize,C=e.onIframeLoad,M=e.iframeLoadTimeout,Y=void 0===M?5e3:M,R=e.keepIframeSrcFn,H=void 0===R?function(){return!1}:R,k=e.preserveWhiteSpace,P=void 0===k||k,N=x(t,{doc:r,blockClass:a,blockSelector:c,maskTextClass:u,maskTextSelector:d,inlineStylesheet:y,maskInputOptions:Z,maskTextFn:G,maskInputFn:X,dataURLOptions:K,inlineImages:I,recordCanvas:w,keepIframeSrcFn:H});if(!N)return console.warn(t,"not serialized"),null;i="__sn"in t?t.__sn.id:!function(t,e){if(e.comment&&t.type===n.Comment)return!0;if(t.type===n.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&"preload"===t.attributes.rel&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(L(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===L(t.attributes.name)||"icon"===L(t.attributes.rel)||"apple-touch-icon"===L(t.attributes.rel)||"shortcut icon"===L(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&L(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(L(t.attributes.property).match(/^(og|twitter|fb):/)||L(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===L(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===L(t.attributes.name)||"googlebot"===L(t.attributes.name)||"bingbot"===L(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===L(t.attributes.name)||"generator"===L(t.attributes.name)||"framework"===L(t.attributes.name)||"publisher"===L(t.attributes.name)||"progid"===L(t.attributes.name)||L(t.attributes.property).match(/^article:/)||L(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===L(t.attributes.name)||"yandex-verification"===L(t.attributes.name)||"csrf-token"===L(t.attributes.name)||"p:domain_verify"===L(t.attributes.name)||"verify-v1"===L(t.attributes.name)||"verification"===L(t.attributes.name)||"shopify-checkout-api-token"===L(t.attributes.name)))return!0}}return!1}(N,v)&&(P||N.type!==n.Text||N.isStyle||N.textContent.replace(/^\s+|\s+$/gm,"").length)?p++:-2;var J=Object.assign(N,{id:i});if(t.__sn=J,-2===i)return null;o[i]=t,T&&T(t);var j=!h;if(J.type===n.Element&&(j=j&&!J.needBlock,delete J.needBlock,t.shadowRoot&&(J.isShadowHost=!0)),(J.type===n.Document||J.type===n.Element)&&j){v.headWhitespace&&N.type===n.Element&&"head"===N.tagName&&(P=!1);for(var z={doc:r,map:o,blockClass:a,blockSelector:c,maskTextClass:u,maskTextSelector:d,skipChild:h,inlineStylesheet:y,maskInputOptions:Z,maskTextFn:G,maskInputFn:X,slimDOMOptions:v,dataURLOptions:K,inlineImages:I,recordCanvas:w,preserveWhiteSpace:P,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:Y,keepIframeSrcFn:H},U=0,D=Array.from(t.childNodes);U<D.length;U++)(B=W(D[U],z))&&J.childNodes.push(B);if(l(t)&&t.shadowRoot)for(var F=0,E=Array.from(t.shadowRoot.childNodes);F<E.length;F++){var B;(B=W(E[F],z))&&(B.isShadow=!0,J.childNodes.push(B))}}return t.parentNode&&s(t.parentNode)&&(J.isShadow=!0),J.type===n.Element&&"iframe"===J.tagName&&function(t,e,n){var i=t.contentWindow;if(i){var r,o=!1;try{r=i.document.readyState}catch(t){return}if("complete"===r){var a="about:blank";i.location.href===a&&t.src!==a&&""!==t.src?t.addEventListener("load",e):setTimeout(e,0)}else{var l=setTimeout((function(){o||(e(),o=!0)}),n);t.addEventListener("load",(function(){clearTimeout(l),o=!0,e()}))}}}(t,(function(){var e=t.contentDocument;if(e&&C){var n=W(e,{doc:e,map:o,blockClass:a,blockSelector:c,maskTextClass:u,maskTextSelector:d,skipChild:!1,inlineStylesheet:y,maskInputOptions:Z,maskTextFn:G,maskInputFn:X,slimDOMOptions:v,dataURLOptions:K,inlineImages:I,recordCanvas:w,preserveWhiteSpace:P,onSerialize:T,onIframeLoad:C,iframeLoadTimeout:Y,keepIframeSrcFn:H});n&&C(t,n)}}),Y),J}var V=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function w(t,e){void 0===e&&(e={});var n=1,i=1;function r(t){var e=t.match(/\n/g);e&&(n+=e.length);var r=t.lastIndexOf("\n");i=-1===r?i+t.length:t.length-r}function o(){var t={line:n,column:i};return function(e){return e.position=new a(t),m(),e}}var a=function(t){this.start=t,this.end={line:n,column:i},this.source=e.source};a.prototype.content=t;var l=[];function s(r){var o=new Error(e.source+":"+n+":"+i+": "+r);if(o.reason=r,o.filename=e.source,o.line=n,o.column=i,o.source=t,!e.silent)throw o;l.push(o)}function c(){return p(/^{\s*/)}function u(){return p(/^}/)}function d(){var e,n=[];for(m(),h(n);t.length&&"}"!==t.charAt(0)&&(e=I()||x());)!1!==e&&(n.push(e),h(n));return n}function p(e){var n=e.exec(t);if(n){var i=n[0];return r(i),t=t.slice(i.length),n}}function m(){p(/^\s*/)}function h(t){var e;for(void 0===t&&(t=[]);e=b();)!1!==e&&t.push(e),e=b();return t}function b(){var e=o();if("/"===t.charAt(0)&&"*"===t.charAt(1)){for(var n=2;""!==t.charAt(n)&&("*"!==t.charAt(n)||"/"!==t.charAt(n+1));)++n;if(n+=2,""===t.charAt(n-1))return s("End of comment missing");var a=t.slice(2,n-2);return i+=2,r(a),t=t.slice(n),i+=2,e({type:"comment",comment:a})}}function y(){var t=p(/^([^{]+)/);if(t)return T(t[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(t){return t.replace(/,/g,"â€Œ")})).split(/\s*(?![^(]*\)),\s*/).map((function(t){return t.replace(/\u200C/g,",")}))}function f(){var t=o(),e=p(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(e){var n=T(e[0]);if(!p(/^:\s*/))return s("property missing ':'");var i=p(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),r=t({type:"declaration",property:n.replace(V,""),value:i?T(i[0]).replace(V,""):""});return p(/^[;\s]*/),r}}function Z(){var t,e=[];if(!c())return s("missing '{'");for(h(e);t=f();)!1!==t&&(e.push(t),h(e)),t=f();return u()?e:s("missing '}'")}function G(){for(var t,e=[],n=o();t=p(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)e.push(t[1]),p(/^,\s*/);if(e.length)return n({type:"keyframe",values:e,declarations:Z()})}var X,v=S("import"),g=S("charset"),K=S("namespace");function S(t){var e=new RegExp("^@"+t+"\\s*([^;]+);");return function(){var n=o(),i=p(e);if(i){var r={type:t};return r[t]=i[1].trim(),n(r)}}}function I(){if("@"===t[0])return function(){var t=o(),e=p(/^@([-\w]+)?keyframes\s*/);if(e){var n=e[1];if(!(e=p(/^([-\w]+)\s*/)))return s("@keyframes missing name");var i,r=e[1];if(!c())return s("@keyframes missing '{'");for(var a=h();i=G();)a.push(i),a=a.concat(h());return u()?t({type:"keyframes",name:r,vendor:n,keyframes:a}):s("@keyframes missing '}'")}}()||function(){var t=o(),e=p(/^@media *([^{]+)/);if(e){var n=T(e[1]);if(!c())return s("@media missing '{'");var i=h().concat(d());return u()?t({type:"media",media:n,rules:i}):s("@media missing '}'")}}()||function(){var t=o(),e=p(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(e)return t({type:"custom-media",name:T(e[1]),media:T(e[2])})}()||function(){var t=o(),e=p(/^@supports *([^{]+)/);if(e){var n=T(e[1]);if(!c())return s("@supports missing '{'");var i=h().concat(d());return u()?t({type:"supports",supports:n,rules:i}):s("@supports missing '}'")}}()||v()||g()||K()||function(){var t=o(),e=p(/^@([-\w]+)?document *([^{]+)/);if(e){var n=T(e[1]),i=T(e[2]);if(!c())return s("@document missing '{'");var r=h().concat(d());return u()?t({type:"document",document:i,vendor:n,rules:r}):s("@document missing '}'")}}()||function(){var t=o();if(p(/^@page */)){var e=y()||[];if(!c())return s("@page missing '{'");for(var n,i=h();n=f();)i.push(n),i=i.concat(h());return u()?t({type:"page",selectors:e,declarations:i}):s("@page missing '}'")}}()||function(){var t=o();if(p(/^@host\s*/)){if(!c())return s("@host missing '{'");var e=h().concat(d());return u()?t({type:"host",rules:e}):s("@host missing '}'")}}()||function(){var t=o();if(p(/^@font-face\s*/)){if(!c())return s("@font-face missing '{'");for(var e,n=h();e=f();)n.push(e),n=n.concat(h());return u()?t({type:"font-face",declarations:n}):s("@font-face missing '}'")}}()}function x(){var t=o(),e=y();return e?(h(),t({type:"rule",selectors:e,declarations:Z()})):s("selector missing")}return C((X=d(),{type:"stylesheet",stylesheet:{source:e.source,rules:X,parsingErrors:l}}))}function T(t){return t?t.replace(/^\s+|\s+$/g,""):""}function C(t,e){for(var n=t&&"string"==typeof t.type,i=n?t:e,r=0,o=Object.keys(t);r<o.length;r++){var a=t[o[r]];Array.isArray(a)?a.forEach((function(t){C(t,i)})):a&&"object"==typeof a&&C(a,i)}return n&&Object.defineProperty(t,"parent",{configurable:!0,writable:!0,enumerable:!1,value:e||null}),t}var M,Y,R,H={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"},k=/([^\\]):hover/,P=new RegExp(k.source,"g");function N(t,e){var n=null==e?void 0:e.stylesWithHoverClass.get(t);if(n)return n;var i=w(t,{silent:!0});if(!i.stylesheet)return t;var r=[];if(i.stylesheet.rules.forEach((function(t){"selectors"in t&&(t.selectors||[]).forEach((function(t){k.test(t)&&r.push(t)}))})),0===r.length)return t;var o=new RegExp(r.filter((function(t,e){return r.indexOf(t)===e})).sort((function(t,e){return e.length-t.length})).map((function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})).join("|"),"g"),a=t.replace(o,(function(t){var e=t.replace(P,"$1.\\:hover");return t+", "+e}));return null==e||e.stylesWithHoverClass.set(t,a),a}function J(){return{stylesWithHoverClass:new Map}}function j(t,e){var i=e.doc,r=e.map,o=e.skipChild,a=void 0!==o&&o,s=e.hackCss,c=void 0===s||s,u=e.afterAppend,d=e.cache,p=function(t,e){var i=e.doc,r=e.hackCss,o=e.cache;switch(t.type){case n.Document:return i.implementation.createDocument(null,"",null);case n.DocumentType:return i.implementation.createDocumentType(t.name||"html",t.publicId,t.systemId);case n.Element:var a,l=function(t){var e=H[t.tagName]?H[t.tagName]:t.tagName;return"link"===e&&t.attributes._cssText&&(e="style"),e}(t);a=t.isSVG?i.createElementNS("http://www.w3.org/2000/svg",l):i.createElement(l);var s=function(e){if(!t.attributes.hasOwnProperty(e))return"continue";var n=t.attributes[e];if("option"===l&&"selected"===e&&!1===n)return"continue";if(n="boolean"==typeof n||"number"==typeof n?"":n,e.startsWith("rr_")){if("canvas"===l&&"rr_dataURL"===e){var s=document.createElement("img");s.src=n,s.onload=function(){var t=a.getContext("2d");t&&t.drawImage(s,0,0,s.width,s.height)}}else if("img"===l&&"rr_dataURL"===e){var c=a;c.currentSrc.startsWith("data:")||(c.setAttribute("rrweb-original-src",t.attributes.src),c.src=n)}if("rr_width"===e)a.style.width=n;else if("rr_height"===e)a.style.height=n;else if("rr_mediaCurrentTime"===e)a.currentTime=t.attributes.rr_mediaCurrentTime;else if("rr_mediaState"===e)switch(n){case"played":a.play().catch((function(t){return console.warn("media playback error",t)}));break;case"paused":a.pause()}}else{var u="textarea"===l&&"value"===e,d="style"===l&&"_cssText"===e;if(d&&r&&(n=N(n,o)),u||d){for(var p=i.createTextNode(n),m=0,h=Array.from(a.childNodes);m<h.length;m++){var b=h[m];b.nodeType===a.TEXT_NODE&&a.removeChild(b)}return a.appendChild(p),"continue"}try{if(t.isSVG&&"xlink:href"===e)a.setAttributeNS("http://www.w3.org/1999/xlink",e,n);else if("onload"===e||"onclick"===e||"onmouse"===e.substring(0,7))a.setAttribute("_"+e,n);else{if("meta"===l&&"Content-Security-Policy"===t.attributes["http-equiv"]&&"content"===e)return a.setAttribute("csp-content",n),"continue";"link"===l&&"preload"===t.attributes.rel&&"script"===t.attributes.as||"link"===l&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")||("img"===l&&t.attributes.srcset&&t.attributes.rr_dataURL?a.setAttribute("rrweb-original-srcset",t.attributes.srcset):a.setAttribute(e,n))}}catch(t){}}};for(var c in t.attributes)s(c);if(t.isShadowHost)if(a.shadowRoot)for(;a.shadowRoot.firstChild;)a.shadowRoot.removeChild(a.shadowRoot.firstChild);else a.attachShadow({mode:"open"});return a;case n.Text:return i.createTextNode(t.isStyle&&r?N(t.textContent,o):t.textContent);case n.CDATA:return i.createCDATASection(t.textContent);case n.Comment:return i.createComment(t.textContent);default:return null}}(t,{doc:i,hackCss:c,cache:d});if(!p)return null;if(t.rootId&&console.assert(r[t.rootId]===i,"Target document should has the same root id."),t.type===n.Document&&(i.close(),i.open(),"BackCompat"===t.compatMode&&t.childNodes&&t.childNodes[0].type!==n.DocumentType&&(t.childNodes[0].type===n.Element&&"xmlns"in t.childNodes[0].attributes&&"http://www.w3.org/1999/xhtml"===t.childNodes[0].attributes.xmlns?i.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):i.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),p=i),p.__sn=t,r[t.id]=p,(t.type===n.Document||t.type===n.Element)&&!a)for(var m=0,h=t.childNodes;m<h.length;m++){var b=h[m],y=j(b,{doc:i,map:r,skipChild:!1,hackCss:c,afterAppend:u,cache:d});y?(b.isShadow&&l(p)&&p.shadowRoot?p.shadowRoot.appendChild(y):p.appendChild(y),u&&u(y)):console.warn("Failed to rebuild",b)}return p}function z(t,e){var i=e.doc,r=e.onVisit,o=e.hackCss,a={},l=j(t,{doc:i,map:a,skipChild:!1,hackCss:void 0===o||o,afterAppend:e.afterAppend,cache:e.cache});return function(t,e){for(var n in t)t[n]&&e(t[n])}(a,(function(t){r&&r(t),function(t){var e=t.__sn;if(e.type===n.Element){var i=t;for(var r in e.attributes)if(e.attributes.hasOwnProperty(r)&&r.startsWith("rr_")){var o=e.attributes[r];"rr_scrollLeft"===r&&(i.scrollLeft=o),"rr_scrollTop"===r&&(i.scrollTop=o)}}}(t)})),[l,a]}function U(t,e,n){void 0===n&&(n=document);var i={capture:!0,passive:!0};return n.addEventListener(t,e,i),function(){return n.removeEventListener(t,e,i)}}e.EventType=void 0,function(t){t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin"}(e.EventType||(e.EventType={})),e.IncrementalSource=void 0,function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration"}(e.IncrementalSource||(e.IncrementalSource={})),e.MouseInteractions=void 0,function(t){t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel"}(e.MouseInteractions||(e.MouseInteractions={})),function(t){t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2"}(M||(M={})),function(t){t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange"}(Y||(Y={})),e.ReplayerEvents=void 0,(R=e.ReplayerEvents||(e.ReplayerEvents={})).Start="start",R.Pause="pause",R.Resume="resume",R.Resize="resize",R.Finish="finish",R.FullsnapshotRebuilded="fullsnapshot-rebuilded",R.LoadStylesheetStart="load-stylesheet-start",R.LoadStylesheetEnd="load-stylesheet-end",R.SkipStart="skip-start",R.SkipEnd="skip-end",R.MouseInteraction="mouse-interaction",R.EventCast="event-cast",R.CustomEvent="custom-event",R.Flush="flush",R.StateChange="state-change",R.PlayBack="play-back";var D="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";function F(t,e,n){void 0===n&&(n={});var i=null,r=0;return function(o){var a=Date.now();r||!1!==n.leading||(r=a);var l=e-(a-r),s=this,c=arguments;l<=0||l>e?(i&&(clearTimeout(i),i=null),r=a,t.apply(s,c)):i||!1===n.trailing||(i=setTimeout((function(){r=!1===n.leading?0:Date.now(),i=null,t.apply(s,c)}),l))}}function E(t,e,n,i,r){void 0===r&&(r=window);var o=r.Object.getOwnPropertyDescriptor(t,e);return r.Object.defineProperty(t,e,i?n:{set:function(t){var e=this;setTimeout((function(){n.set.call(e,t)}),0),o&&o.set&&o.set.call(this,t)}}),function(){return E(t,e,o||{},!0)}}function B(t,e,n){try{if(!(e in t))return function(){};var i=t[e],r=n(i);return"function"==typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:i}})),t[e]=r,function(){t[e]=i}}catch(t){return function(){}}}function Q(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function O(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function _(t,e){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){var n=!1;if("string"==typeof e){if(void 0!==t.closest)return null!==t.closest("."+e);n=t.classList.contains(e)}else t.classList.forEach((function(t){e.test(t)&&(n=!0)}));return n||_(t.parentNode,e)}return t.nodeType,t.TEXT_NODE,_(t.parentNode,e)}function A(t){return"__sn"in t&&-2===t.__sn.id}function q(t,e){if(s(t))return!1;var n=e.getId(t);return!e.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||q(t.parentNode,e))}function $(t){return Boolean(t.changedTouches)}function tt(t){void 0===t&&(t=window),"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(t){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}e.mirror={map:{},getId:function(){return console.error(D),-1},getNode:function(){return console.error(D),null},removeNodeFromMap:function(){console.error(D)},has:function(){return console.error(D),!1},reset:function(){console.error(D)}},"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(e.mirror=new Proxy(e.mirror,{get:function(t,e,n){return"map"===e&&console.error(D),Reflect.get(t,e,n)}}));var et=function(){function t(){this.reset()}return t.prototype.add=function(t){var e=this.indexes.get(t.parentId),n={id:t.node.id,mutation:t,children:[],texts:[],attributes:[]};e?(n.parent=e,e.children[n.id]=n):this.tree[n.id]=n,this.indexes.set(n.id,n)},t.prototype.remove=function(t,e){var n=this,i=this.indexes.get(t.parentId),r=this.indexes.get(t.id),o=function(t){n.removeIdSet.add(t);var i=e.getNode(t);null==i||i.childNodes.forEach((function(t){"__sn"in t&&o(t.__sn.id)}))},a=function(e){n.removeIdSet.add(e.id),Object.values(e.children).forEach((function(t){return a(t)}));var i=n.indexes.get(e.id);if(i){var r=i.parent;r&&(delete i.parent,delete r.children[i.id],n.indexes.delete(t.id))}};r?i?(delete r.parent,delete i.children[r.id],this.indexes.delete(t.id),a(r)):(delete this.tree[r.id],this.indexes.delete(r.id),a(r)):(this.removeNodeMutations.push(t),o(t.id))},t.prototype.text=function(t){var e=this.indexes.get(t.id);e?e.texts.push(t):this.textMutations.push(t)},t.prototype.attribute=function(t){var e=this.indexes.get(t.id);e?e.attributes.push(t):this.attributeMutations.push(t)},t.prototype.scroll=function(t){this.scrollMap.set(t.id,t)},t.prototype.input=function(t){this.inputMap.set(t.id,t)},t.prototype.flush=function(){var t,n,i,o,a=this,l=this,s=l.tree,c=l.removeNodeMutations,u=l.textMutations,d=l.attributeMutations,p={source:e.IncrementalSource.Mutation,removes:c,texts:u,attributes:d,adds:[]},m=function(t,e){e&&a.removeIdSet.add(t.id),p.texts=p.texts.concat(e?[]:t.texts).filter((function(t){return!a.removeIdSet.has(t.id)})),p.attributes=p.attributes.concat(e?[]:t.attributes).filter((function(t){return!a.removeIdSet.has(t.id)})),a.removeIdSet.has(t.id)||a.removeIdSet.has(t.mutation.parentId)||e?Object.values(t.children).forEach((function(t){return m(t,!0)})):(p.adds.push(t.mutation),t.children&&Object.values(t.children).forEach((function(t){return m(t,!1)})))};Object.values(s).forEach((function(t){return m(t,!1)}));try{for(var h=r(this.scrollMap.keys()),b=h.next();!b.done;b=h.next()){var y=b.value;this.removeIdSet.has(y)&&this.scrollMap.delete(y)}}catch(e){t={error:e}}finally{try{b&&!b.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}try{for(var f=r(this.inputMap.keys()),Z=f.next();!Z.done;Z=f.next())y=Z.value,this.removeIdSet.has(y)&&this.inputMap.delete(y)}catch(t){i={error:t}}finally{try{Z&&!Z.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var G=new Map(this.scrollMap),X=new Map(this.inputMap);return this.reset(),{mutationData:p,scrollMap:G,inputMap:X}},t.prototype.reset=function(){this.tree=[],this.indexes=new Map,this.removeNodeMutations=[],this.textMutations=[],this.attributeMutations=[],this.removeIdSet=new Set,this.scrollMap=new Map,this.inputMap=new Map},t.prototype.idRemoved=function(t){return this.removeIdSet.has(t)},t}();function nt(t){var e,n,i={},o=function(t,e){var n={value:t,parent:e,children:[]};return i[t.node.id]=n,n},a=[];try{for(var l=r(t),s=l.next();!s.done;s=l.next()){var c=s.value,u=c.nextId,d=c.parentId;if(u&&u in i){var p=i[u];if(p.parent){var m=p.parent.children.indexOf(p);p.parent.children.splice(m,0,o(c,p.parent))}else m=a.indexOf(p),a.splice(m,0,o(c,null))}else if(d in i){var h=i[d];h.children.push(o(c,h))}else a.push(o(c,null))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return a}function it(t,e){e(t.value);for(var n=t.children.length-1;n>=0;n--)it(t.children[n],e)}function rt(t){return"__sn"in t&&t.__sn.type===n.Element&&"iframe"===t.__sn.tagName}function ot(t,e){var n,i,r=null===(i=null===(n=t.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===i?void 0:i.frameElement;if(!r||r===e)return{x:0,y:0,relativeScale:1,absoluteScale:1};var o=r.getBoundingClientRect(),a=ot(r,e),l=o.height/r.clientHeight;return{x:o.x*a.relativeScale+a.x,y:o.y*a.relativeScale+a.y,relativeScale:l,absoluteScale:a.absoluteScale*l}}function at(t){return Boolean(null==t?void 0:t.shadowRoot)}var lt=Object.freeze({__proto__:null,on:U,createMirror:function(){return{map:{},getId:function(t){return t&&t.__sn?t.__sn.id:-1},getNode:function(t){return this.map[t]||null},removeNodeFromMap:function(t){var e=this,n=t.__sn&&t.__sn.id;delete this.map[n],t.childNodes&&t.childNodes.forEach((function(t){return e.removeNodeFromMap(t)}))},has:function(t){return this.map.hasOwnProperty(t)},reset:function(){this.map={}}}},get _mirror(){return e.mirror},throttle:F,hookSetter:E,patch:B,getWindowHeight:Q,getWindowWidth:O,isBlocked:_,isIgnored:A,isAncestorRemoved:q,isTouchEvent:$,polyfill:tt,TreeIndex:et,queueToResolveTrees:nt,iterateResolveTree:it,isIframeINode:rt,getBaseDimension:ot,hasShadowRoot:at});function st(t){return"__ln"in t}var ct=function(){function t(){this.length=0,this.head=null}return t.prototype.get=function(t){if(t>=this.length)throw new Error("Position outside of list range");for(var e=this.head,n=0;n<t;n++)e=(null==e?void 0:e.next)||null;return e},t.prototype.addNode=function(t){var e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&st(t.previousSibling)){var n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else t.nextSibling&&st(t.nextSibling)&&t.nextSibling.__ln.previous?(n=t.nextSibling.__ln.previous,e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)):(this.head&&(this.head.previous=e),e.next=this.head,this.head=e);this.length++},t.prototype.removeNode=function(t){var e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next&&(e.next.previous=e.previous)):(this.head=e.next,this.head&&(this.head.previous=null)),t.__ln&&delete t.__ln,this.length--)},t}(),ut=function(t,e){return"".concat(t,"@").concat(e)};function dt(t){return"__sn"in t}var pt=function(){function t(){var t=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(e){e.forEach(t.processMutation),t.emit()},this.emit=function(){var e,n,i,o;if(!t.frozen&&!t.locked){for(var a=[],l=new ct,c=function(e){for(var n=e,i=-2;-2===i;)i=(n=n&&n.nextSibling)&&t.mirror.getId(n);return i},u=function(e){for(var n,i,r,o,u,d=e.getRootNode?null===(n=e.getRootNode())||void 0===n?void 0:n.host:null,p=d;null===(r=null===(i=null==p?void 0:p.getRootNode)||void 0===i?void 0:i.call(p))||void 0===r?void 0:r.host;)p=(null===(u=null===(o=null==p?void 0:p.getRootNode)||void 0===o?void 0:o.call(p))||void 0===u?void 0:u.host)||null;var m=!(t.doc.contains(e)||null!==p&&t.doc.contains(p));if(e.parentNode&&!m){var h=s(e.parentNode)?t.mirror.getId(d):t.mirror.getId(e.parentNode),b=c(e);if(-1===h||-1===b)return l.addNode(e);var y=W(e,{doc:t.doc,map:t.mirror.map,blockClass:t.blockClass,blockSelector:t.blockSelector,maskTextClass:t.maskTextClass,maskTextSelector:t.maskTextSelector,skipChild:!0,inlineStylesheet:t.inlineStylesheet,maskInputOptions:t.maskInputOptions,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:t.slimDOMOptions,recordCanvas:t.recordCanvas,inlineImages:t.inlineImages,onSerialize:function(n){rt(n)&&t.iframeManager.addIframe(n),at(e)&&t.shadowDomManager.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,n){t.iframeManager.attachIframe(e,n),t.shadowDomManager.observeAttachShadow(e)}});y&&a.push({parentId:h,nextId:b,node:y})}};t.mapRemoves.length;)t.mirror.removeNodeFromMap(t.mapRemoves.shift());try{for(var d=r(t.movedSet),p=d.next();!p.done;p=d.next()){var m=p.value;ht(t.removes,m,t.mirror)&&!t.movedSet.has(m.parentNode)||u(m)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}try{for(var h=r(t.addedSet),b=h.next();!b.done;b=h.next())m=b.value,bt(t.droppedSet,m)||ht(t.removes,m,t.mirror)?bt(t.movedSet,m)?u(m):t.droppedSet.add(m):u(m)}catch(t){i={error:t}}finally{try{b&&!b.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}for(var y=null;l.length;){var f=null;if(y){var Z=t.mirror.getId(y.value.parentNode),G=c(y.value);-1!==Z&&-1!==G&&(f=y)}if(!f)for(var X=l.length-1;X>=0;X--){var v=l.get(X);if(v&&(Z=t.mirror.getId(v.value.parentNode),G=c(v.value),-1!==Z&&-1!==G)){f=v;break}}if(!f){for(;l.head;)l.removeNode(l.head.value);break}y=f.previous,l.removeNode(f.value),u(f.value)}var g={texts:t.texts.map((function(e){return{id:t.mirror.getId(e.node),value:e.value}})).filter((function(e){return t.mirror.has(e.id)})),attributes:t.attributes.map((function(e){return{id:t.mirror.getId(e.node),attributes:e.attributes}})).filter((function(e){return t.mirror.has(e.id)})),removes:t.removes,adds:a};(g.texts.length||g.attributes.length||g.removes.length||g.adds.length)&&(t.texts=[],t.attributes=[],t.removes=[],t.addedSet=new Set,t.movedSet=new Set,t.droppedSet=new Set,t.movedMap={},t.mutationCb(g))}},this.processMutation=function(e){var n,i,o,a;if(!A(e.target))switch(e.type){case"characterData":var l=e.target.textContent;_(e.target,t.blockClass)||l===e.oldValue||t.texts.push({value:I(e.target,t.maskTextClass,t.maskTextSelector)&&l?t.maskTextFn?t.maskTextFn(l):l.replace(/[\S]/g,"*"):l,node:e.target});break;case"attributes":var u=e.target;if(l=e.target.getAttribute(e.attributeName),"value"===e.attributeName&&(l=c({maskInputOptions:t.maskInputOptions,tagName:e.target.tagName,type:e.target.getAttribute("type"),value:l,maskInputFn:t.maskInputFn})),_(e.target,t.blockClass)||l===e.oldValue)return;var d=t.attributes.find((function(t){return t.node===e.target}));if(d||(d={node:e.target,attributes:{}},t.attributes.push(d)),"style"===e.attributeName){var p=t.doc.createElement("span");e.oldValue&&p.setAttribute("style",e.oldValue),void 0!==d.attributes.style&&null!==d.attributes.style||(d.attributes.style={});var m=d.attributes.style;try{for(var h=r(Array.from(u.style)),b=h.next();!b.done;b=h.next()){var y=b.value,f=u.style.getPropertyValue(y),Z=u.style.getPropertyPriority(y);f===p.style.getPropertyValue(y)&&Z===p.style.getPropertyPriority(y)||(m[y]=""===Z?f:[f,Z])}}catch(t){n={error:t}}finally{try{b&&!b.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}try{for(var G=r(Array.from(p.style)),X=G.next();!X.done;X=G.next())y=X.value,""===u.style.getPropertyValue(y)&&(m[y]=!1)}catch(t){o={error:t}}finally{try{X&&!X.done&&(a=G.return)&&a.call(G)}finally{if(o)throw o.error}}}else d.attributes[e.attributeName]=S(t.doc,e.target.tagName,e.attributeName,l);break;case"childList":e.addedNodes.forEach((function(n){return t.genAdds(n,e.target)})),e.removedNodes.forEach((function(n){var i=t.mirror.getId(n),r=s(e.target)?t.mirror.getId(e.target.host):t.mirror.getId(e.target);_(e.target,t.blockClass)||A(n)||(t.addedSet.has(n)?(mt(t.addedSet,n),t.droppedSet.add(n)):t.addedSet.has(e.target)&&-1===i||q(e.target,t.mirror)||(t.movedSet.has(n)&&t.movedMap[ut(i,r)]?mt(t.movedSet,n):t.removes.push({parentId:r,id:i,isShadow:!!s(e.target)||void 0})),t.mapRemoves.push(n))}))}},this.genAdds=function(e,n){if(!n||!_(n,t.blockClass)){if(dt(e)){if(A(e))return;t.movedSet.add(e);var i=null;n&&dt(n)&&(i=n.__sn.id),i&&(t.movedMap[ut(e.__sn.id,i)]=!0)}else t.addedSet.add(e),t.droppedSet.delete(e);_(e,t.blockClass)||e.childNodes.forEach((function(e){return t.genAdds(e)}))}}}return t.prototype.init=function(t){var e=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach((function(n){e[n]=t[n]}))},t.prototype.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},t.prototype.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},t.prototype.isFrozen=function(){return this.frozen},t.prototype.lock=function(){this.locked=!0,this.canvasManager.lock()},t.prototype.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},t.prototype.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},t}();function mt(t,e){t.delete(e),e.childNodes.forEach((function(e){return mt(t,e)}))}function ht(t,e,n){var i=e.parentNode;if(!i)return!1;var r=n.getId(i);return!!t.some((function(t){return t.id===r}))||ht(t,i,n)}function bt(t,e){var n=e.parentNode;return!!n&&(!!t.has(n)||bt(t,n))}var yt=[],ft="undefined"!=typeof CSSGroupingRule,Zt="undefined"!=typeof CSSMediaRule,Gt="undefined"!=typeof CSSSupportsRule,Xt="undefined"!=typeof CSSConditionRule;function vt(t){try{if("composedPath"in t){var e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0];return t.target}catch(e){return t.target}}function gt(t,e){var n,i,r=new pt;yt.push(r),r.init(t);var o=window.MutationObserver||window.__rrMutationObserver,a=null===(i=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===i?void 0:i.call(n,"MutationObserver");a&&window[a]&&(o=window[a]);var l=new o(r.processMutations.bind(r));return l.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),l}function Kt(t){var e=t.scrollCb,n=t.doc,i=t.mirror,r=t.blockClass;return U("scroll",F((function(t){var o=vt(t);if(o&&!_(o,r)){var a=i.getId(o);if(o===n){var l=n.scrollingElement||n.documentElement;e({id:a,x:l.scrollLeft,y:l.scrollTop})}else e({id:a,x:o.scrollLeft,y:o.scrollTop})}}),t.sampling.scroll||100),n)}function St(t,e){var n=i({},t);return e||delete n.userTriggered,n}var It=["INPUT","TEXTAREA","SELECT"],xt=new WeakMap;function Lt(t){return function(t,e){if(ft&&t.parentRule instanceof CSSGroupingRule||Zt&&t.parentRule instanceof CSSMediaRule||Gt&&t.parentRule instanceof CSSSupportsRule||Xt&&t.parentRule instanceof CSSConditionRule){var n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else n=Array.from(t.parentStyleSheet.cssRules).indexOf(t),e.unshift(n);return e}(t,[])}function Wt(t,n){var l,s;void 0===n&&(n={});var u=t.doc.defaultView;if(!u)return function(){};!function(t,e){var n=t.mutationCb,i=t.mousemoveCb,r=t.mouseInteractionCb,l=t.scrollCb,s=t.viewportResizeCb,c=t.inputCb,u=t.mediaInteractionCb,d=t.styleSheetRuleCb,p=t.styleDeclarationCb,m=t.canvasMutationCb,h=t.fontCb;t.mutationCb=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e.mutation&&e.mutation.apply(e,a([],o(t),!1)),n.apply(void 0,a([],o(t),!1))},t.mousemoveCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.mousemove&&e.mousemove.apply(e,a([],o(t),!1)),i.apply(void 0,a([],o(t),!1))},t.mouseInteractionCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.mouseInteraction&&e.mouseInteraction.apply(e,a([],o(t),!1)),r.apply(void 0,a([],o(t),!1))},t.scrollCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.scroll&&e.scroll.apply(e,a([],o(t),!1)),l.apply(void 0,a([],o(t),!1))},t.viewportResizeCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.viewportResize&&e.viewportResize.apply(e,a([],o(t),!1)),s.apply(void 0,a([],o(t),!1))},t.inputCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.input&&e.input.apply(e,a([],o(t),!1)),c.apply(void 0,a([],o(t),!1))},t.mediaInteractionCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.mediaInteaction&&e.mediaInteaction.apply(e,a([],o(t),!1)),u.apply(void 0,a([],o(t),!1))},t.styleSheetRuleCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.styleSheetRule&&e.styleSheetRule.apply(e,a([],o(t),!1)),d.apply(void 0,a([],o(t),!1))},t.styleDeclarationCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.styleDeclaration&&e.styleDeclaration.apply(e,a([],o(t),!1)),p.apply(void 0,a([],o(t),!1))},t.canvasMutationCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.canvasMutation&&e.canvasMutation.apply(e,a([],o(t),!1)),m.apply(void 0,a([],o(t),!1))},t.fontCb=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.font&&e.font.apply(e,a([],o(t),!1)),h.apply(void 0,a([],o(t),!1))}}(t,n);var d=gt(t,t.doc),p=function(t){var n=t.mousemoveCb,i=t.sampling,r=t.doc,o=t.mirror;if(!1===i.mousemove)return function(){};var a,l="number"==typeof i.mousemove?i.mousemove:50,s="number"==typeof i.mousemoveCallback?i.mousemoveCallback:500,c=[],u=F((function(t){var e=Date.now()-a;n(c.map((function(t){return t.timeOffset-=e,t})),t),c=[],a=null}),s),d=F((function(t){var n=vt(t),i=$(t)?t.changedTouches[0]:t,r=i.clientX,l=i.clientY;a||(a=Date.now()),c.push({x:r,y:l,id:o.getId(n),timeOffset:Date.now()-a}),u("undefined"!=typeof DragEvent&&t instanceof DragEvent?e.IncrementalSource.Drag:t instanceof MouseEvent?e.IncrementalSource.MouseMove:e.IncrementalSource.TouchMove)}),l,{trailing:!1}),p=[U("mousemove",d,r),U("touchmove",d,r),U("drag",d,r)];return function(){p.forEach((function(t){return t()}))}}(t),m=function(t){var n=t.mouseInteractionCb,i=t.doc,r=t.mirror,o=t.blockClass,a=t.sampling;if(!1===a.mouseInteraction)return function(){};var l=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,s=[];return Object.keys(e.MouseInteractions).filter((function(t){return Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==l[t]})).forEach((function(t){var a=t.toLowerCase(),l=function(t){return function(i){var a=vt(i);if(!_(a,o)){var l=$(i)?i.changedTouches[0]:i;if(l){var s=r.getId(a),c=l.clientX,u=l.clientY;n({type:e.MouseInteractions[t],id:s,x:c,y:u})}}}}(t);s.push(U(a,l,i))})),function(){s.forEach((function(t){return t()}))}}(t),h=Kt(t),b=function(t){var e=t.viewportResizeCb,n=-1,i=-1;return U("resize",F((function(){var t=Q(),r=O();n===t&&i===r||(e({width:Number(r),height:Number(t)}),n=t,i=r)}),200),window)}(t),y=function(t){var e=t.inputCb,n=t.doc,r=t.mirror,l=t.blockClass,s=t.ignoreClass,u=t.maskInputOptions,d=t.maskInputFn,p=t.sampling,m=t.userTriggeredOnInput;function h(t){var e=vt(t),i=t.isTrusted;if(e&&"OPTION"===e.tagName&&(e=e.parentElement),e&&e.tagName&&!(It.indexOf(e.tagName)<0)&&!_(e,l)){var r=e.type;if(!e.classList.contains(s)){var o=e.value,a=!1;"radio"===r||"checkbox"===r?a=e.checked:(u[e.tagName.toLowerCase()]||u[r])&&(o=c({maskInputOptions:u,tagName:e.tagName,type:r,value:o,maskInputFn:d})),b(e,St({text:o,isChecked:a,userTriggered:i},m));var p=e.name;"radio"===r&&p&&a&&n.querySelectorAll('input[type="radio"][name="'.concat(p,'"]')).forEach((function(t){t!==e&&b(t,St({text:t.value,isChecked:!a,userTriggered:!1},m))}))}}}function b(t,n){var o=xt.get(t);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){xt.set(t,n);var a=r.getId(t);e(i(i({},n),{id:a}))}}var y=("last"===p.input?["change"]:["input","change"]).map((function(t){return U(t,h,n)})),f=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),Z=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]];return f&&f.set&&y.push.apply(y,a([],o(Z.map((function(t){return E(t[0],t[1],{set:function(){h({target:this})}})}))),!1)),function(){y.forEach((function(t){return t()}))}}(t),f=function(t){var e=t.mediaInteractionCb,n=t.blockClass,i=t.mirror,r=t.sampling,o=function(t){return F((function(r){var o=vt(r);if(o&&!_(o,n)){var a=o,l=a.currentTime,s=a.volume,c=a.muted;e({type:t,id:i.getId(o),currentTime:l,volume:s,muted:c})}}),r.media||500)},a=[U("play",o(0)),U("pause",o(1)),U("seeked",o(2)),U("volumechange",o(3))];return function(){a.forEach((function(t){return t()}))}}(t),Z=function(t,e){var n=t.styleSheetRuleCb,i=t.mirror,r=e.win,l=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=function(t,e){var r=i.getId(this.ownerNode);return-1!==r&&n({id:r,adds:[{rule:t,index:e}]}),l.apply(this,arguments)};var s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=function(t){var e=i.getId(this.ownerNode);return-1!==e&&n({id:e,removes:[{index:t}]}),s.apply(this,arguments)};var c={};ft?c.CSSGroupingRule=r.CSSGroupingRule:(Zt&&(c.CSSMediaRule=r.CSSMediaRule),Xt&&(c.CSSConditionRule=r.CSSConditionRule),Gt&&(c.CSSSupportsRule=r.CSSSupportsRule));var u={};return Object.entries(c).forEach((function(t){var e=o(t,2),r=e[0],l=e[1];u[r]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=function(t,e){var l=i.getId(this.parentStyleSheet.ownerNode);return-1!==l&&n({id:l,adds:[{rule:t,index:a(a([],o(Lt(this)),!1),[e||0],!1)}]}),u[r].insertRule.apply(this,arguments)},l.prototype.deleteRule=function(t){var e=i.getId(this.parentStyleSheet.ownerNode);return-1!==e&&n({id:e,removes:[{index:a(a([],o(Lt(this)),!1),[t],!1)}]}),u[r].deleteRule.apply(this,arguments)}})),function(){r.CSSStyleSheet.prototype.insertRule=l,r.CSSStyleSheet.prototype.deleteRule=s,Object.entries(c).forEach((function(t){var e=o(t,2),n=e[0],i=e[1];i.prototype.insertRule=u[n].insertRule,i.prototype.deleteRule=u[n].deleteRule}))}}(t,{win:u}),G=function(t,e){var n=t.styleDeclarationCb,i=t.mirror,r=e.win,o=r.CSSStyleDeclaration.prototype.setProperty;r.CSSStyleDeclaration.prototype.setProperty=function(t,e,r){var a,l,s=i.getId(null===(l=null===(a=this.parentRule)||void 0===a?void 0:a.parentStyleSheet)||void 0===l?void 0:l.ownerNode);return-1!==s&&n({id:s,set:{property:t,value:e,priority:r},index:Lt(this.parentRule)}),o.apply(this,arguments)};var a=r.CSSStyleDeclaration.prototype.removeProperty;return r.CSSStyleDeclaration.prototype.removeProperty=function(t){var e,r,o=i.getId(null===(r=null===(e=this.parentRule)||void 0===e?void 0:e.parentStyleSheet)||void 0===r?void 0:r.ownerNode);return-1!==o&&n({id:o,remove:{property:t},index:Lt(this.parentRule)}),a.apply(this,arguments)},function(){r.CSSStyleDeclaration.prototype.setProperty=o,r.CSSStyleDeclaration.prototype.removeProperty=a}}(t,{win:u}),X=t.collectFonts?function(t){var e=t.fontCb,n=t.doc,i=n.defaultView;if(!i)return function(){};var r=[],o=new WeakMap,a=i.FontFace;i.FontFace=function(t,e,n){var i=new a(t,e,n);return o.set(i,{family:t,buffer:"string"!=typeof e,descriptors:n,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),i};var l=B(n.fonts,"add",(function(t){return function(n){return setTimeout((function(){var t=o.get(n);t&&(e(t),o.delete(n))}),0),t.apply(this,[n])}}));return r.push((function(){i.FontFace=a})),r.push(l),function(){r.forEach((function(t){return t()}))}}(t):function(){},v=[];try{for(var g=r(t.plugins),K=g.next();!K.done;K=g.next()){var S=K.value;v.push(S.observer(S.callback,u,S.options))}}catch(t){l={error:t}}finally{try{K&&!K.done&&(s=g.return)&&s.call(g)}finally{if(l)throw l.error}}return function(){yt.forEach((function(t){return t.reset()})),d.disconnect(),p(),m(),h(),b(),y(),f(),Z(),G(),X(),v.forEach((function(t){return t()}))}}for(var Vt=function(){function t(t){this.iframes=new WeakMap,this.mutationCb=t.mutationCb}return t.prototype.addIframe=function(t){this.iframes.set(t,!0)},t.prototype.addLoadListener=function(t){this.loadListener=t},t.prototype.attachIframe=function(t,e){var n;this.mutationCb({adds:[{parentId:t.__sn.id,nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,t)},t}(),wt=function(){function t(t){this.restorePatches=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror;var e=this;this.restorePatches.push(B(HTMLElement.prototype,"attachShadow",(function(t){return function(){var n=t.apply(this,arguments);return this.shadowRoot&&e.addShadowRoot(this.shadowRoot,this.ownerDocument),n}})))}return t.prototype.addShadowRoot=function(t,e){gt(i(i({},this.bypassOptions),{doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t),Kt(i(i({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))},t.prototype.observeAttachShadow=function(t){if(t.contentWindow){var e=this;this.restorePatches.push(B(t.contentWindow.HTMLElement.prototype,"attachShadow",(function(n){return function(){var i=n.apply(this,arguments);return this.shadowRoot&&e.addShadowRoot(this.shadowRoot,t.contentDocument),i}})))}},t.prototype.reset=function(){this.restorePatches.forEach((function(t){return t()}))},t}(),Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ct="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Mt=0;Mt<Tt.length;Mt++)Ct[Tt.charCodeAt(Mt)]=Mt;var Yt=new Map,Rt=function(t,e,n){if(t&&(Pt(t,e)||"object"==typeof t)){var i=function(t,e){var n=Yt.get(t);return n||(n=new Map,Yt.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}(n,t.constructor.name),r=i.indexOf(t);return-1===r&&(r=i.length,i.push(t)),r}};function Ht(t,e,n){if(t instanceof Array)return t.map((function(t){return Ht(t,e,n)}));if(null===t)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};if(t instanceof ArrayBuffer){var i=t.constructor.name,r=function(t){var e,n=new Uint8Array(t),i=n.length,r="";for(e=0;e<i;e+=3)r+=Tt[n[e]>>2],r+=Tt[(3&n[e])<<4|n[e+1]>>4],r+=Tt[(15&n[e+1])<<2|n[e+2]>>6],r+=Tt[63&n[e+2]];return i%3==2?r=r.substring(0,r.length-1)+"=":i%3==1&&(r=r.substring(0,r.length-2)+"=="),r}(t);return{rr_type:i,base64:r}}return t instanceof DataView?{rr_type:t.constructor.name,args:[Ht(t.buffer,e,n),t.byteOffset,t.byteLength]}:t instanceof HTMLImageElement?{rr_type:t.constructor.name,src:t.src}:t instanceof ImageData?{rr_type:t.constructor.name,args:[Ht(t.data,e,n),t.width,t.height]}:Pt(t,e)||"object"==typeof t?{rr_type:t.constructor.name,index:Rt(t,e,n)}:t}var kt=function(t,e,n){return a([],o(t),!1).map((function(t){return Ht(t,e,n)}))},Pt=function(t,e){var n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((function(t){return"function"==typeof e[t]}));return Boolean(n.find((function(n){return t instanceof e[n]})))};function Nt(t,e,n,i,l,s){var c,u,d=[],p=Object.getOwnPropertyNames(t),m=function(r){try{if("function"!=typeof t[r])return"continue";var c=B(t,r,(function(c){return function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var p=c.apply(this,u);if(Rt(p,s,t),!_(this.canvas,i)){l.getId(this.canvas);var m=kt(a([],o(u),!1),s,t),h={type:e,property:r,args:m};n(this.canvas,h)}return p}}));d.push(c)}catch(i){var u=E(t,r,{set:function(t){n(this.canvas,{type:e,property:r,args:[t],setter:!0})}});d.push(u)}};try{for(var h=r(p),b=h.next();!b.done;b=h.next())m(b.value)}catch(t){c={error:t}}finally{try{b&&!b.done&&(u=h.return)&&u.call(h)}finally{if(c)throw c.error}}return d}var Jt,jt,zt=function(){function t(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(t,e){!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(t)||this.pendingCanvasMutations.set(t,[]),this.pendingCanvasMutations.get(t).push(e)},this.mutationCb=t.mutationCb,this.mirror=t.mirror,!0===t.recordCanvas&&this.initCanvasMutationObserver(t.win,t.blockClass)}return t.prototype.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},t.prototype.freeze=function(){this.frozen=!0},t.prototype.unfreeze=function(){this.frozen=!1},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t.prototype.initCanvasMutationObserver=function(t,e){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var n=function(t,e){var n=[];try{var i=B(t.HTMLCanvasElement.prototype,"getContext",(function(t){return function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return _(this,e)||"__context"in this||(this.__context=n),t.apply(this,a([n],o(i),!1))}}));n.push(i)}catch(t){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){n.forEach((function(t){return t()}))}}(t,e),i=function(t,e,n,i){var l,s,c=[],u=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype),d=function(i){try{if("function"!=typeof e.CanvasRenderingContext2D.prototype[i])return"continue";var r=B(e.CanvasRenderingContext2D.prototype,i,(function(e){return function(){for(var r=this,l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];return _(this.canvas,n)||setTimeout((function(){var e=a([],o(l),!1);if("drawImage"===i&&e[0]&&e[0]instanceof HTMLCanvasElement){var n=e[0],s=n.getContext("2d"),c=null==s?void 0:s.getImageData(0,0,n.width,n.height),u=null==c?void 0:c.data;e[0]=JSON.stringify(u)}t(r.canvas,{type:M["2D"],property:i,args:e})}),0),e.apply(this,l)}}));c.push(r)}catch(n){var l=E(e.CanvasRenderingContext2D.prototype,i,{set:function(e){t(this.canvas,{type:M["2D"],property:i,args:[e],setter:!0})}});c.push(l)}};try{for(var p=r(u),m=p.next();!m.done;m=p.next())d(m.value)}catch(t){l={error:t}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(l)throw l.error}}return function(){c.forEach((function(t){return t()}))}}(this.processMutation.bind(this),t,e,this.mirror),l=function(t,e,n,i){var r=[];return r.push.apply(r,a([],o(Nt(e.WebGLRenderingContext.prototype,M.WebGL,t,n,i,e)),!1)),void 0!==e.WebGL2RenderingContext&&r.push.apply(r,a([],o(Nt(e.WebGL2RenderingContext.prototype,M.WebGL2,t,n,i,e)),!1)),function(){r.forEach((function(t){return t()}))}}(this.processMutation.bind(this),t,e,this.mirror);this.resetObservers=function(){n(),i(),l()}},t.prototype.startPendingCanvasMutationFlusher=function(){var t=this;requestAnimationFrame((function(){return t.flushPendingCanvasMutations()}))},t.prototype.startRAFTimestamping=function(){var t=this,e=function(n){t.rafStamps.latestId=n,requestAnimationFrame(e)};requestAnimationFrame(e)},t.prototype.flushPendingCanvasMutations=function(){var t=this;this.pendingCanvasMutations.forEach((function(e,n){var i=t.mirror.getId(n);t.flushPendingCanvasMutationFor(n,i)})),requestAnimationFrame((function(){return t.flushPendingCanvasMutations()}))},t.prototype.flushPendingCanvasMutationFor=function(t,e){if(!this.frozen&&!this.locked){var n=this.pendingCanvasMutations.get(t);if(n&&-1!==e){var i=n.map((function(t){t.type;var e=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["type"]);return e})),r=n[0].type;this.mutationCb({id:e,type:r,commands:i}),this.pendingCanvasMutations.delete(t)}}},t}();function Ut(t){return i(i({},t),{timestamp:Date.now()})}var Dt={map:{},getId:function(t){return t&&t.__sn?t.__sn.id:-1},getNode:function(t){return this.map[t]||null},removeNodeFromMap:function(t){var e=this,n=t.__sn&&t.__sn.id;delete this.map[n],t.childNodes&&t.childNodes.forEach((function(t){return e.removeNodeFromMap(t)}))},has:function(t){return this.map.hasOwnProperty(t)},reset:function(){this.map={}}};function Ft(t){void 0===t&&(t={});var n=t.emit,a=t.onError,l=t.checkoutEveryNms,s=t.checkoutEveryNth,c=t.blockClass,u=void 0===c?"rr-block":c,d=t.blockSelector,p=void 0===d?null:d,m=t.ignoreClass,h=void 0===m?"rr-ignore":m,b=t.maskTextClass,y=void 0===b?"rr-mask":b,f=t.maskTextSelector,Z=void 0===f?null:f,G=t.inlineStylesheet,X=void 0===G||G,v=t.maskAllInputs,g=t.maskInputOptions,K=t.slimDOMOptions,S=t.maskInputFn,I=t.maskTextFn,x=t.hooks,L=t.packFn,V=t.sampling,w=void 0===V?{}:V,T=t.mousemoveWait,C=t.recordCanvas,M=void 0!==C&&C,Y=t.userTriggeredOnInput,R=void 0!==Y&&Y,H=t.collectFonts,k=void 0!==H&&H,P=t.inlineImages,N=void 0!==P&&P,J=t.plugins,j=t.keepIframeSrcFn,z=void 0===j?function(){return!1}:j;if(!n)throw new Error("emit function is required");void 0!==T&&void 0===w.mousemove&&(w.mousemove=T);var D,F=!0===v?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==g?g:{password:!0},E=!0===K||"all"===K?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===K,headMetaDescKeywords:"all"===K}:K||{};tt();var B=0;Jt=function(t,i){var o;try{if(!(null===(o=yt[0])||void 0===o?void 0:o.isFrozen())||t.type===e.EventType.FullSnapshot||t.type===e.EventType.IncrementalSnapshot&&t.data.source===e.IncrementalSource.Mutation||yt.forEach((function(t){return t.unfreeze()})),n(function(t){var e,n;try{for(var i=r(J||[]),o=i.next();!o.done;o=i.next()){var a=o.value;a.eventProcessor&&(t=a.eventProcessor(t))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return L&&(t=L(t)),t}(t),i),t.type===e.EventType.FullSnapshot)D=t,B=0;else if(t.type===e.EventType.IncrementalSnapshot){if(t.data.source===e.IncrementalSource.Mutation&&t.data.isAttachIframe)return;B++;var c=s&&B>=s,u=l&&t.timestamp-D.timestamp>l;(c||u)&&jt(!0)}}catch(t){a&&a(t)}};var _=function(t){Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.Mutation},t)}))},A=function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.Scroll},t)}))},q=function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.CanvasMutation},t)}))},$=new Vt({mutationCb:_}),et=new zt({recordCanvas:M,mutationCb:q,win:window,blockClass:u,mirror:Dt}),nt=new wt({mutationCb:_,scrollCb:A,bypassOptions:{blockClass:u,blockSelector:p,maskTextClass:y,maskTextSelector:Z,inlineStylesheet:X,maskInputOptions:F,maskTextFn:I,maskInputFn:S,recordCanvas:M,inlineImages:N,sampling:w,slimDOMOptions:E,iframeManager:$,canvasManager:et},mirror:Dt});jt=function(t){var n,i,r,a;void 0===t&&(t=!1),Jt(Ut({type:e.EventType.Meta,data:{href:window.location.href,width:O(),height:Q()}}),t),yt.forEach((function(t){return t.lock()}));var l=o(function(t,e){var n=e||{},i=n.blockClass,r=n.blockSelector,o=n.maskTextClass,a=n.maskTextSelector,l=n.inlineStylesheet,s=n.inlineImages,c=n.recordCanvas,u=n.maskAllInputs,d=void 0!==u&&u,p=n.slimDOM,m=void 0!==p&&p,h=n.keepIframeSrcFn,b={};return[W(t,{doc:t,map:b,blockClass:void 0===i?"rr-block":i,blockSelector:void 0===r?null:r,maskTextClass:void 0===o?"rr-mask":o,maskTextSelector:void 0===a?null:a,skipChild:!1,inlineStylesheet:void 0===l||l,maskInputOptions:!0===d?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===d?{password:!0}:d,maskTextFn:n.maskTextFn,maskInputFn:n.maskInputFn,slimDOMOptions:!0===m||"all"===m?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===m,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===m?{}:m,dataURLOptions:n.dataURLOptions,inlineImages:void 0!==s&&s,recordCanvas:void 0!==c&&c,preserveWhiteSpace:n.preserveWhiteSpace,onSerialize:n.onSerialize,onIframeLoad:n.onIframeLoad,iframeLoadTimeout:n.iframeLoadTimeout,keepIframeSrcFn:void 0===h?function(){return!1}:h}),b]}(document,{blockClass:u,blockSelector:p,maskTextClass:y,maskTextSelector:Z,inlineStylesheet:X,maskAllInputs:F,maskTextFn:I,slimDOM:E,recordCanvas:M,inlineImages:N,onSerialize:function(t){rt(t)&&$.addIframe(t),at(t)&&nt.addShadowRoot(t.shadowRoot,document)},onIframeLoad:function(t,e){$.attachIframe(t,e),nt.observeAttachShadow(t)},keepIframeSrcFn:z}),2),s=l[0],c=l[1];if(!s)return console.warn("Failed to snapshot the document");Dt.map=c,Jt(Ut({type:e.EventType.FullSnapshot,data:{node:s,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(i=null===(n=null===document||void 0===document?void 0:document.body)||void 0===n?void 0:n.parentElement)||void 0===i?void 0:i.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(a=null===(r=null===document||void 0===document?void 0:document.body)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),yt.forEach((function(t){return t.unlock()}))};try{var it=[];it.push(U("DOMContentLoaded",(function(){Jt(Ut({type:e.EventType.DomContentLoaded,data:{}}))})));var ot=function(t){var n;return Wt({mutationCb:_,mousemoveCb:function(t,n){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:{source:n,positions:t}}))},mouseInteractionCb:function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.MouseInteraction},t)}))},scrollCb:A,viewportResizeCb:function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.ViewportResize},t)}))},inputCb:function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.Input},t)}))},mediaInteractionCb:function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.MediaInteraction},t)}))},styleSheetRuleCb:function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.StyleSheetRule},t)}))},styleDeclarationCb:function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.StyleDeclaration},t)}))},canvasMutationCb:q,fontCb:function(t){return Jt(Ut({type:e.EventType.IncrementalSnapshot,data:i({source:e.IncrementalSource.Font},t)}))},blockClass:u,ignoreClass:h,maskTextClass:y,maskTextSelector:Z,maskInputOptions:F,inlineStylesheet:X,sampling:w,recordCanvas:M,inlineImages:N,userTriggeredOnInput:R,collectFonts:k,doc:t,maskInputFn:S,maskTextFn:I,blockSelector:p,slimDOMOptions:E,mirror:Dt,iframeManager:$,shadowDomManager:nt,canvasManager:et,plugins:(null===(n=null==J?void 0:J.filter((function(t){return t.observer})))||void 0===n?void 0:n.map((function(t){return{observer:t.observer,options:t.options,callback:function(n){return Jt(Ut({type:e.EventType.Plugin,data:{plugin:t.name,payload:n}}))}}})))||[]},x)};$.addLoadListener((function(t){it.push(ot(t.contentDocument))}));var lt=function(){jt(),it.push(ot(document))};return"interactive"===document.readyState||"complete"===document.readyState?lt():it.push(U("load",(function(){Jt(Ut({type:e.EventType.Load,data:{}})),lt()}),window)),function(){it.forEach((function(t){return t()}))}}catch(t){console.warn(t)}}function Et(t){return t=t||Object.create(null),{on:function(e,n){(t[e]||(t[e]=[])).push(n)},off:function(e,n){t[e]&&t[e].splice(t[e].indexOf(n)>>>0,1)},emit:function(e,n){(t[e]||[]).slice().map((function(t){t(n)})),(t["*"]||[]).slice().map((function(t){t(e,n)}))}}}Ft.addCustomEvent=function(t,n){if(!Jt)throw new Error("please add custom event after start recording");Jt(Ut({type:e.EventType.Custom,data:{tag:t,payload:n}}))},Ft.freezePage=function(){yt.forEach((function(t){return t.freeze()}))},Ft.takeFullSnapshot=function(t){if(!jt)throw new Error("please take full snapshot after start recording");jt(t)},Ft.mirror=Dt;var Bt=Object.freeze({__proto__:null,default:Et});function Qt(t,e){if(void 0===t&&(t=window),void 0===e&&(e=document),!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var n,i=t.HTMLElement||t.Element,r={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:i.prototype.scroll||l,scrollIntoView:i.prototype.scrollIntoView},o=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,a=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==s(arguments[0])?h.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):r.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(s(arguments[0])?r.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},i.prototype.scroll=i.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==s(arguments[0])){var t=arguments[0].left,e=arguments[0].top;h.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},i.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==s(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},i.prototype.scrollIntoView=function(){if(!0!==s(arguments[0])){var n=p(this),i=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==e.body?(h.call(this,n,n.scrollLeft+o.left-i.left,n.scrollTop+o.top-i.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function s(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+a<t.scrollHeight:"X"===e?t.clientWidth+a<t.scrollWidth:void 0}function u(e,n){var i=t.getComputedStyle(e,null)["overflow"+n];return"auto"===i||"scroll"===i}function d(t){var e=c(t,"Y")&&u(t,"Y"),n=c(t,"X")&&u(t,"X");return e||n}function p(t){for(;t!==e.body&&!1===d(t);)t=t.parentNode||t.host;return t}function m(e){var n,i,r,a,l=(o()-e.startTime)/468;a=l=l>1?1:l,n=.5*(1-Math.cos(Math.PI*a)),i=e.startX+(e.x-e.startX)*n,r=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,i,r),i===e.x&&r===e.y||t.requestAnimationFrame(m.bind(t,e))}function h(n,i,a){var s,c,u,d,p=o();n===e.body?(s=t,c=t.scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,d=r.scroll):(s=n,c=n.scrollLeft,u=n.scrollTop,d=l),m({scrollable:s,method:d,startTime:p,startX:c,startY:u,x:i,y:a})}}var Ot,_t=function(){function t(t,e){void 0===t&&(t=[]),this.timeOffset=0,this.raf=null,this.actions=t,this.speed=e}return t.prototype.addAction=function(t){var e=this.findActionIndex(t);this.actions.splice(e,0,t)},t.prototype.addActions=function(t){this.actions=this.actions.concat(t)},t.prototype.start=function(){this.timeOffset=0;var t=performance.now(),e=this.actions,n=this;this.raf=requestAnimationFrame((function i(){var r=performance.now();for(n.timeOffset+=(r-t)*n.speed,t=r;e.length;){var o=e[0];if(!(n.timeOffset>=o.delay))break;e.shift(),o.doAction()}(e.length>0||n.liveMode)&&(n.raf=requestAnimationFrame(i))}))},t.prototype.clear=function(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0},t.prototype.setSpeed=function(t){this.speed=t},t.prototype.toggleLiveMode=function(t){this.liveMode=t},t.prototype.isActive=function(){return null!==this.raf},t.prototype.findActionIndex=function(t){for(var e=0,n=this.actions.length-1;e<=n;){var i=Math.floor((e+n)/2);if(this.actions[i].delay<t.delay)e=i+1;else{if(!(this.actions[i].delay>t.delay))return i+1;n=i-1}}return e},t}();function At(t,n){if(t.type===e.EventType.IncrementalSnapshot&&t.data.source===e.IncrementalSource.MouseMove){var i=t.data.positions[0].timeOffset,r=t.timestamp+i;return t.delay=r-n,r-n}return t.delay=t.timestamp-n,t.delay}function qt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}!function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"}(Ot||(Ot={}));var $t={type:"xstate.init"};function te(t){return void 0===t?[]:[].concat(t)}function ee(t){return{type:"xstate.assign",assignment:t}}function ne(t,e){return"string"==typeof(t="string"==typeof t&&e&&e[t]?e[t]:t)?{type:t}:"function"==typeof t?{type:t.name,exec:t}:t}function ie(t){return function(e){return t===e}}function re(t){return"string"==typeof t?{type:t}:t}function oe(t,e){return{value:t,context:e,actions:[],changed:!1,matches:ie(t)}}function ae(t,e,n){var i=e,r=!1;return[t.filter((function(t){if("xstate.assign"===t.type){r=!0;var e=Object.assign({},i);return"function"==typeof t.assignment?e=t.assignment(i,n):Object.keys(t.assignment).forEach((function(r){e[r]="function"==typeof t.assignment[r]?t.assignment[r](i,n):t.assignment[r]})),i=e,!1}return!0})),i,r]}function le(t,e){void 0===e&&(e={});var n=qt(ae(te(t.states[t.initial].entry).map((function(t){return ne(t,e.actions)})),t.context,$t),2),i=n[0],r=n[1],o={config:t,_options:e,initialState:{value:t.initial,actions:i,context:r,matches:ie(t.initial)},transition:function(e,n){var i,r,a="string"==typeof e?{value:e,context:t.context}:e,l=a.value,s=a.context,c=re(n),u=t.states[l];if(u.on){var d=te(u.on[c.type]);try{for(var p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),m=p.next();!m.done;m=p.next()){var h=m.value;if(void 0===h)return oe(l,s);var b="string"==typeof h?{target:h}:h,y=b.target,f=b.actions,Z=void 0===f?[]:f,G=b.cond,X=void 0===G?function(){return!0}:G,v=void 0===y,g=null!=y?y:l,K=t.states[g];if(X(s,c)){var S=qt(ae((v?te(Z):[].concat(u.exit,Z,K.entry).filter((function(t){return t}))).map((function(t){return ne(t,o._options.actions)})),s,c),3),I=S[0],x=S[1],L=S[2],W=null!=y?y:l;return{value:W,context:x,actions:I,changed:y!==l||I.length>0||L,matches:ie(W)}}}}catch(t){i={error:t}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(i)throw i.error}}}return oe(l,s)}};return o}var se,ce=function(t,e){return t.actions.forEach((function(n){var i=n.exec;return i&&i(t.context,e)}))};function ue(t){var e=t.initialState,n=Ot.NotStarted,i=new Set,r={_machine:t,send:function(r){n===Ot.Running&&(e=t.transition(e,r),ce(e,re(r)),i.forEach((function(t){return t(e)})))},subscribe:function(t){return i.add(t),t(e),{unsubscribe:function(){return i.delete(t)}}},start:function(i){if(i){var o="object"==typeof i?i:{context:t.config.context,value:i};e={value:o.value,actions:[],context:o.context,matches:ie(o.value)}}return n=Ot.Running,ce(e,$t),r},stop:function(){return n=Ot.Stopped,i.clear(),r},get state(){return e},get status(){return n}};return r}function de(t,n){var o=n.getCastFn,a=n.applyEventsSynchronously,l=n.emitter,s=le({id:"player",context:t,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:ee({lastPlayedEvent:function(t,e){return"CAST_EVENT"===e.type?e.payload.event:t.lastPlayedEvent}}),recordTimeOffset:ee((function(t,e){var n=t.timeOffset;return"payload"in e&&"timeOffset"in e.payload&&(n=e.payload.timeOffset),i(i({},t),{timeOffset:n,baselineTime:t.events[0].timestamp+n})})),play:function(t){var n,i,s,c,u,d=t.timer,p=t.events,m=t.baselineTime,h=t.lastPlayedEvent;d.clear();try{for(var b=r(p),y=b.next();!y.done;y=b.next())At(y.value,m)}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=b.return)&&i.call(b)}finally{if(n)throw n.error}}var f=function(t,n){for(var i=t.length-1;i>=0;i--){var r=t[i];if(r.type===e.EventType.Meta&&r.timestamp<=n)return t.slice(i)}return t}(p,m),Z=null==h?void 0:h.timestamp;(null==h?void 0:h.type)===e.EventType.IncrementalSnapshot&&h.data.source===e.IncrementalSource.MouseMove&&(Z=h.timestamp+(null===(u=h.data.positions[0])||void 0===u?void 0:u.timeOffset)),m<(Z||0)&&l.emit(e.ReplayerEvents.PlayBack);var G=new Array,X=new Array,v=function(t){if(Z&&Z<m&&(t.timestamp<=Z||t===h))return"continue";if(t.timestamp<m)G.push(t);else{var e=o(t,!1);X.push({doAction:function(){e()},delay:t.delay})}};try{for(var g=r(f),K=g.next();!K.done;K=g.next())v(K.value)}catch(t){s={error:t}}finally{try{K&&!K.done&&(c=g.return)&&c.call(g)}finally{if(s)throw s.error}}a(G),l.emit(e.ReplayerEvents.Flush),d.addActions(X),d.start()},pause:function(t){t.timer.clear()},resetLastPlayedEvent:ee((function(t){return i(i({},t),{lastPlayedEvent:null})})),startLive:ee({baselineTime:function(t,e){return t.timer.toggleLiveMode(!0),t.timer.start(),"TO_LIVE"===e.type&&e.payload.baselineTime?e.payload.baselineTime:Date.now()}}),addEvent:ee((function(t,e){var n=t.baselineTime,r=t.timer,a=t.events;if("ADD_EVENT"===e.type){var l=e.payload.event;At(l,n);var s=a.length-1;if(!a[s]||a[s].timestamp<=l.timestamp)a.push(l);else{for(var c=-1,u=0;u<=s;){var d=Math.floor((u+s)/2);a[d].timestamp<=l.timestamp?u=d+1:s=d-1}-1===c&&(c=u),a.splice(c,0,l)}var p=l.timestamp<n,m=o(l,p);p?m():r.isActive()&&r.addAction({doAction:function(){m()},delay:l.delay})}return i(i({},t),{events:a})}))}});return ue(s)}function pe(t,e){var n=t[e[0]];return 1===e.length?n:pe(n.cssRules[e[1]].cssRules,e.slice(2))}function me(t){var e=a([],o(t),!1),n=e.pop();return{positions:e,index:n}}!function(t){t[t.Insert=0]="Insert",t[t.Remove=1]="Remove",t[t.Snapshot=2]="Snapshot",t[t.SetProperty=3]="SetProperty",t[t.RemoveProperty=4]="RemoveProperty"}(se||(se={}));var he=new Map;function be(t,e){var n=he.get(t);return n||(n=new Map,he.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}var ye=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];function fe(t,e){return function(n){if(n&&"object"==typeof n&&"rr_type"in n){if("index"in n){var i=n.rr_type,r=n.index;return be(e,i)[r]}if("args"in n){var l=n.rr_type,s=n.args,c=window[l];return new(c.bind.apply(c,a([void 0],o(s.map(fe(t,e))),!1)))}if("base64"in n)return function(t){var e,n,i,r,o,a=.75*t.length,l=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(e=0;e<l;e+=4)n=Ct[t.charCodeAt(e)],i=Ct[t.charCodeAt(e+1)],r=Ct[t.charCodeAt(e+2)],o=Ct[t.charCodeAt(e+3)],u[s++]=n<<2|i>>4,u[s++]=(15&i)<<4|r>>2,u[s++]=(3&r)<<6|63&o;return c}(n.base64);if("src"in n){var u=t.get(n.src);if(u)return u;var d=new Image;return d.src=n.src,t.set(n.src,d),d}}else if(Array.isArray(n))return n.map(fe(t,e));return n}}var Ze=Et||Bt,Ge="[replayer]",Xe={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function ve(t){return t.type==e.EventType.IncrementalSnapshot&&(t.data.source==e.IncrementalSource.TouchMove||t.data.source==e.IncrementalSource.MouseInteraction&&t.data.type==e.MouseInteractions.TouchStart)}var ge=function(){function t(t,n){var i=this;if(this.mouseTail=null,this.tailPositions=[],this.emitter=Ze(),this.legacy_missingNodeRetryMap={},this.cache=J(),this.imageMap=new Map,this.mirror={map:{},getId:function(t){return t&&t.__sn?t.__sn.id:-1},getNode:function(t){return this.map[t]||null},removeNodeFromMap:function(t){var e=this,n=t.__sn&&t.__sn.id;delete this.map[n],t.childNodes&&t.childNodes.forEach((function(t){return e.removeNodeFromMap(t)}))},has:function(t){return this.map.hasOwnProperty(t)},reset:function(){this.map={}}},this.firstFullSnapshot=null,this.newDocumentQueue=[],this.mousePos=null,this.touchActive=null,!(null==n?void 0:n.liveMode)&&t.length<2)throw new Error("Replayer need at least 2 events.");var o={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:Xe};this.config=Object.assign({},o,n),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(e.ReplayerEvents.Resize,this.handleResize),this.setupDom(),this.treeIndex=new et,this.fragmentParentMap=new Map,this.elementStateMap=new Map,this.virtualStyleRulesMap=new Map,this.emitter.on(e.ReplayerEvents.Flush,(function(){var t,e,n,o,a,l,s,c,u=i.treeIndex.flush(),d=u.scrollMap,p=u.inputMap,m=u.mutationData;i.fragmentParentMap.forEach((function(t,e){return i.restoreRealParent(e,t)}));try{for(var h=r(m.texts),b=h.next();!b.done;b=h.next()){var y=b.value;i.applyText(y,m)}}catch(e){t={error:e}}finally{try{b&&!b.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}try{for(var f=r(i.virtualStyleRulesMap.keys()),Z=f.next();!Z.done;Z=f.next()){var G=Z.value;i.restoreNodeSheet(G)}}catch(t){n={error:t}}finally{try{Z&&!Z.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}i.fragmentParentMap.clear(),i.elementStateMap.clear(),i.virtualStyleRulesMap.clear();try{for(var X=r(d.values()),v=X.next();!v.done;v=X.next())y=v.value,i.applyScroll(y,!0)}catch(t){a={error:t}}finally{try{v&&!v.done&&(l=X.return)&&l.call(X)}finally{if(a)throw a.error}}try{for(var g=r(p.values()),K=g.next();!K.done;K=g.next())y=K.value,i.applyInput(y)}catch(t){s={error:t}}finally{try{K&&!K.done&&(c=g.return)&&c.call(g)}finally{if(s)throw s.error}}})),this.emitter.on(e.ReplayerEvents.PlayBack,(function(){i.firstFullSnapshot=null,i.mirror.reset()}));var a=new _t([],(null==n?void 0:n.speed)||o.speed);this.service=de({events:t.map((function(t){return n&&n.unpackFn?n.unpackFn(t):t})).sort((function(t,e){return t.timestamp-e.timestamp})),timer:a,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe((function(t){i.emitter.emit(e.ReplayerEvents.StateChange,{player:t})})),this.speedService=ue(le({id:"speed",context:{normalSpeed:-1,timer:a},initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:function(t,e){"payload"in e&&t.timer.setSpeed(e.payload.speed)},recordSpeed:ee({normalSpeed:function(t){return t.timer.speed}}),restoreSpeed:function(t){t.timer.setSpeed(t.normalSpeed)}}})),this.speedService.start(),this.speedService.subscribe((function(t){i.emitter.emit(e.ReplayerEvents.StateChange,{speed:t})}));var l=this.service.state.context.events.find((function(t){return t.type===e.EventType.Meta})),s=this.service.state.context.events.find((function(t){return t.type===e.EventType.FullSnapshot}));if(l){var c=l.data,u=c.width,d=c.height;setTimeout((function(){i.emitter.emit(e.ReplayerEvents.Resize,{width:u,height:d})}),0)}s&&setTimeout((function(){i.firstFullSnapshot||(i.firstFullSnapshot=s,i.rebuildFullSnapshot(s),i.iframe.contentWindow.scrollTo(s.data.initialOffset))}),1),this.service.state.context.events.find(ve)&&this.mouse.classList.add("touch-device")}return Object.defineProperty(t.prototype,"timer",{get:function(){return this.service.state.context.timer},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e){return this.emitter.on(t,e),this},t.prototype.off=function(t,e){return this.emitter.off(t,e),this},t.prototype.setConfig=function(t){var e=this;Object.keys(t).forEach((function(n){e.config[n]=t[n]})),this.config.skipInactive||this.backToNormal(),void 0!==t.speed&&this.speedService.send({type:"SET_SPEED",payload:{speed:t.speed}}),void 0!==t.mouseTail&&(!1===t.mouseTail?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))},t.prototype.getMetaData=function(){var t=this.service.state.context.events[0],e=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:t.timestamp,endTime:e.timestamp,totalTime:e.timestamp-t.timestamp}},t.prototype.getCurrentTime=function(){return this.timer.timeOffset+this.getTimeOffset()},t.prototype.getTimeOffset=function(){var t=this.service.state.context;return t.baselineTime-t.events[0].timestamp},t.prototype.getMirror=function(){return this.mirror},t.prototype.play=function(t){var n;void 0===t&&(t=0),this.service.state.matches("paused")||this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:t}}),null===(n=this.iframe.contentDocument)||void 0===n||n.getElementsByTagName("html")[0].classList.remove("rrweb-paused"),this.emitter.emit(e.ReplayerEvents.Start)},t.prototype.pause=function(t){var n;void 0===t&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),"number"==typeof t&&(this.play(t),this.service.send({type:"PAUSE"})),null===(n=this.iframe.contentDocument)||void 0===n||n.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(e.ReplayerEvents.Pause)},t.prototype.resume=function(t){void 0===t&&(t=0),console.warn("The 'resume' will be departed in 1.0. Please use 'play' method which has the same interface."),this.play(t),this.emitter.emit(e.ReplayerEvents.Resume)},t.prototype.startLive=function(t){this.service.send({type:"TO_LIVE",payload:{baselineTime:t}})},t.prototype.addEvent=function(t){var e=this,n=this.config.unpackFn?this.config.unpackFn(t):t;ve(n)&&this.mouse.classList.add("touch-device"),Promise.resolve().then((function(){return e.service.send({type:"ADD_EVENT",payload:{event:n}})}))},t.prototype.enableInteract=function(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"},t.prototype.disableInteract=function(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"},t.prototype.resetCache=function(){this.cache=J()},t.prototype.setupDom=function(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),!1!==this.config.mouseTail&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");var t=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&t.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",t.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(Qt(this.iframe.contentWindow,this.iframe.contentDocument),tt(this.iframe.contentWindow))},t.prototype.handleResize=function(t){var e,n;this.iframe.style.display="inherit";try{for(var i=r([this.mouseTail,this.iframe]),o=i.next();!o.done;o=i.next()){var a=o.value;a&&(a.setAttribute("width",String(t.width)),a.setAttribute("height",String(t.height)))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.applyEventsSynchronously=function(t){var n,i;try{for(var o=r(t),a=o.next();!a.done;a=o.next()){var l=a.value;switch(l.type){case e.EventType.DomContentLoaded:case e.EventType.Load:case e.EventType.Custom:continue;case e.EventType.FullSnapshot:case e.EventType.Meta:case e.EventType.Plugin:break;case e.EventType.IncrementalSnapshot:if(l.data.source===e.IncrementalSource.MediaInteraction)continue}this.getCastFn(l,!0)()}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.mousePos&&this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),this.mousePos=null,!0===this.touchActive?this.mouse.classList.add("touch-active"):!1===this.touchActive&&this.mouse.classList.remove("touch-active"),this.touchActive=null},t.prototype.getCastFn=function(t,n){var i,o=this;switch(void 0===n&&(n=!1),t.type){case e.EventType.DomContentLoaded:case e.EventType.Load:break;case e.EventType.Custom:i=function(){o.emitter.emit(e.ReplayerEvents.CustomEvent,t)};break;case e.EventType.Meta:i=function(){return o.emitter.emit(e.ReplayerEvents.Resize,{width:t.data.width,height:t.data.height})};break;case e.EventType.FullSnapshot:i=function(){if(o.firstFullSnapshot){if(o.firstFullSnapshot===t)return void(o.firstFullSnapshot=!0)}else o.firstFullSnapshot=!0;o.rebuildFullSnapshot(t,n),o.iframe.contentWindow.scrollTo(t.data.initialOffset)};break;case e.EventType.IncrementalSnapshot:i=function(){var i,a;if(o.applyIncremental(t,n),!n&&(t===o.nextUserInteractionEvent&&(o.nextUserInteractionEvent=null,o.backToNormal()),o.config.skipInactive&&!o.nextUserInteractionEvent)){try{for(var l=r(o.service.state.context.events),s=l.next();!s.done;s=l.next()){var c=s.value;if(!(c.timestamp<=t.timestamp)&&o.isUserInteraction(c)){c.delay-t.delay>1e4*o.speedService.state.context.timer.speed&&(o.nextUserInteractionEvent=c);break}}}catch(t){i={error:t}}finally{try{s&&!s.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(o.nextUserInteractionEvent){var u=o.nextUserInteractionEvent.delay-t.delay,d={speed:Math.min(Math.round(u/5e3),o.config.maxSpeed)};o.speedService.send({type:"FAST_FORWARD",payload:d}),o.emitter.emit(e.ReplayerEvents.SkipStart,d)}}}}return function(){var a,l;i&&i();try{for(var s=r(o.config.plugins||[]),c=s.next();!c.done;c=s.next())c.value.handler(t,n,{replayer:o})}catch(t){a={error:t}}finally{try{c&&!c.done&&(l=s.return)&&l.call(s)}finally{if(a)throw a.error}}o.service.send({type:"CAST_EVENT",payload:{event:t}});var u=o.service.state.context.events.length-1;if(t===o.service.state.context.events[u]){var d=function(){u<o.service.state.context.events.length-1||(o.backToNormal(),o.service.send("END"),o.emitter.emit(e.ReplayerEvents.Finish))};t.type===e.EventType.IncrementalSnapshot&&t.data.source===e.IncrementalSource.MouseMove&&t.data.positions.length?setTimeout((function(){d()}),Math.max(0,50-t.data.positions[0].timeOffset)):d()}o.emitter.emit(e.ReplayerEvents.EventCast,t)}},t.prototype.rebuildFullSnapshot=function(t,n){var i,o,a=this;if(void 0===n&&(n=!1),!this.iframe.contentDocument)return console.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&console.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};var l=[];this.mirror.map=z(t.data.node,{doc:this.iframe.contentDocument,afterAppend:function(t){a.collectIframeAndAttachDocument(l,t)},cache:this.cache})[1];var s=function(t,e){c.attachDocumentToIframe(t,e),c.newDocumentQueue=c.newDocumentQueue.filter((function(e){return e!==t}))},c=this;try{for(var u=r(l),d=u.next();!d.done;d=u.next()){var p=d.value;s(p.mutationInQueue,p.builtNode)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var m=this.iframe.contentDocument,h=m.documentElement,b=m.head;this.insertStyleRules(h,b),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(e.ReplayerEvents.FullsnapshotRebuilded,t),n||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()},t.prototype.insertStyleRules=function(t,e){var n=document.createElement("style");t.insertBefore(n,e);var i,r=(i=this.config.blockClass,[".".concat(i," { background: currentColor }"),"noscript { display: none !important; }"]).concat(this.config.insertStyleRules);this.config.pauseAnimation&&r.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }");for(var o=0;o<r.length;o++)n.sheet.insertRule(r[o],o)},t.prototype.attachDocumentToIframe=function(t,e){var i,o,a=this,l=[];if(!e.contentDocument)for(var s=e.parentNode;s;){if(this.fragmentParentMap.has(s)){var c=s,u=this.fragmentParentMap.get(c);this.restoreRealParent(c,u);break}s=s.parentNode}j(t.node,{doc:e.contentDocument,map:this.mirror.map,hackCss:!0,skipChild:!1,afterAppend:function(t){if(a.collectIframeAndAttachDocument(l,t),t.__sn.type===n.Element&&"HTML"===t.__sn.tagName.toUpperCase()){var i=e.contentDocument,r=i.documentElement,o=i.head;a.insertStyleRules(r,o)}},cache:this.cache});var d=function(t,e){p.attachDocumentToIframe(t,e),p.newDocumentQueue=p.newDocumentQueue.filter((function(e){return e!==t}))},p=this;try{for(var m=r(l),h=m.next();!h.done;h=m.next()){var b=h.value;d(b.mutationInQueue,b.builtNode)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}},t.prototype.collectIframeAndAttachDocument=function(t,e){if(rt(e)){var n=this.newDocumentQueue.find((function(t){return t.parentId===e.__sn.id}));n&&t.push({mutationInQueue:n,builtNode:e})}},t.prototype.waitForStylesheetLoad=function(){var t,n=this,i=null===(t=this.iframe.contentDocument)||void 0===t?void 0:t.head;if(i){var r,o=new Set,a=this.service.state,l=function(){a=n.service.state};this.emitter.on(e.ReplayerEvents.Start,l),this.emitter.on(e.ReplayerEvents.Pause,l);var s=function(){n.emitter.off(e.ReplayerEvents.Start,l),n.emitter.off(e.ReplayerEvents.Pause,l)};i.querySelectorAll('link[rel="stylesheet"]').forEach((function(t){t.sheet||(o.add(t),t.addEventListener("load",(function(){o.delete(t),0===o.size&&-1!==r&&(a.matches("playing")&&n.play(n.getCurrentTime()),n.emitter.emit(e.ReplayerEvents.LoadStylesheetEnd),r&&clearTimeout(r),s())})))})),o.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(e.ReplayerEvents.LoadStylesheetStart),r=setTimeout((function(){a.matches("playing")&&n.play(n.getCurrentTime()),r=-1,s()}),this.config.loadTimeout))}},t.prototype.hasImageArg=function(t){var e,n;try{for(var i=r(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(a&&"object"==typeof a)if("rr_type"in a&&"args"in a){if(this.hasImageArg(a.args))return!0}else{if("rr_type"in a&&"HTMLImageElement"===a.rr_type)return!0;if(a instanceof Array&&this.hasImageArg(a))return!0}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!1},t.prototype.getImageArgs=function(t){var e,n,i=[];try{for(var l=r(t),s=l.next();!s.done;s=l.next()){var c=s.value;c&&"object"==typeof c&&("rr_type"in c&&"args"in c?i.push.apply(i,a([],o(this.getImageArgs(c.args)),!1)):"rr_type"in c&&"HTMLImageElement"===c.rr_type?i.push(c.src):c instanceof Array&&i.push.apply(i,a([],o(this.getImageArgs(c)),!1)))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return i},t.prototype.preloadAllImages=function(){var t,n,i=this;this.service.state;var o=function(){i.service.state};this.emitter.on(e.ReplayerEvents.Start,o),this.emitter.on(e.ReplayerEvents.Pause,o);var a=function(t){t.type===e.EventType.IncrementalSnapshot&&t.data.source===e.IncrementalSource.CanvasMutation&&("commands"in t.data?t.data.commands.forEach((function(e){return i.preloadImages(e,t)})):l.preloadImages(t.data,t))},l=this;try{for(var s=r(this.service.state.context.events),c=s.next();!c.done;c=s.next())a(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},t.prototype.preloadImages=function(t,e){var n=this;if("drawImage"!==t.property||"string"!=typeof t.args[0]||this.imageMap.has(e))this.hasImageArg(t.args)&&this.getImageArgs(t.args).forEach((function(t){var e=new Image;e.src=t,n.imageMap.set(t,e)}));else{var i=document.createElement("canvas"),r=i.getContext("2d"),o=null==r?void 0:r.createImageData(i.width,i.height);null==o||o.data,JSON.parse(t.args[0]),null==r||r.putImageData(o,0,0)}},t.prototype.applyIncremental=function(t,n){var r,o,a=this,l=t.data;switch(l.source){case e.IncrementalSource.Mutation:n&&(l.adds.forEach((function(t){return a.treeIndex.add(t)})),l.texts.forEach((function(t){var e=a.mirror.getNode(t.id),n=null==e?void 0:e.parentNode;n&&a.virtualStyleRulesMap.has(n)&&a.virtualStyleRulesMap.delete(n),a.treeIndex.text(t)})),l.attributes.forEach((function(t){return a.treeIndex.attribute(t)})),l.removes.forEach((function(t){return a.treeIndex.remove(t,a.mirror)})));try{this.applyMutation(l,n)}catch(t){this.warn("Exception in mutation ".concat(t.message||t),l)}break;case e.IncrementalSource.Drag:case e.IncrementalSource.TouchMove:case e.IncrementalSource.MouseMove:if(n){var s=l.positions[l.positions.length-1];this.mousePos={x:s.x,y:s.y,id:s.id,debugData:l}}else l.positions.forEach((function(e){var i={doAction:function(){a.moveAndHover(e.x,e.y,e.id,n,l)},delay:e.timeOffset+t.timestamp-a.service.state.context.baselineTime};a.timer.addAction(i)})),this.timer.addAction({doAction:function(){},delay:t.delay-(null===(r=l.positions[0])||void 0===r?void 0:r.timeOffset)});break;case e.IncrementalSource.MouseInteraction:if(-1===l.id)break;var c=new Event(e.MouseInteractions[l.type].toLowerCase());if(!(X=this.mirror.getNode(l.id)))return this.debugNodeNotFound(l,l.id);this.emitter.emit(e.ReplayerEvents.MouseInteraction,{type:l.type,target:X});var u=this.config.triggerFocus;switch(l.type){case e.MouseInteractions.Blur:"blur"in X&&X.blur();break;case e.MouseInteractions.Focus:u&&X.focus&&X.focus({preventScroll:!0});break;case e.MouseInteractions.Click:case e.MouseInteractions.TouchStart:case e.MouseInteractions.TouchEnd:n?(l.type===e.MouseInteractions.TouchStart?this.touchActive=!0:l.type===e.MouseInteractions.TouchEnd&&(this.touchActive=!1),this.mousePos={x:l.x,y:l.y,id:l.id,debugData:l}):(l.type===e.MouseInteractions.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(l.x,l.y,l.id,n,l),l.type===e.MouseInteractions.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):l.type===e.MouseInteractions.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):l.type===e.MouseInteractions.TouchEnd&&this.mouse.classList.remove("touch-active"));break;case e.MouseInteractions.TouchCancel:n?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:X.dispatchEvent(c)}break;case e.IncrementalSource.Scroll:if(-1===l.id)break;if(n){this.treeIndex.scroll(l);break}this.applyScroll(l,!1);break;case e.IncrementalSource.ViewportResize:this.emitter.emit(e.ReplayerEvents.Resize,{width:l.width,height:l.height});break;case e.IncrementalSource.Input:if(-1===l.id)break;if(n){this.treeIndex.input(l);break}this.applyInput(l);break;case e.IncrementalSource.MediaInteraction:if(!(X=this.mirror.getNode(l.id)))return this.debugNodeNotFound(l,l.id);var d=X;try{l.currentTime&&(d.currentTime=l.currentTime),l.volume&&(d.volume=l.volume),l.muted&&(d.muted=l.muted),1===l.type&&d.pause(),0===l.type&&d.play()}catch(t){this.config.showWarning&&console.warn("Failed to replay media interactions: ".concat(t.message||t))}break;case e.IncrementalSource.StyleSheetRule:if(!(X=this.mirror.getNode(l.id)))return this.debugNodeNotFound(l,l.id);var p,m=X,h=X.parentNode,b=this.fragmentParentMap.has(h),y=b?null:m.sheet;y||(this.virtualStyleRulesMap.has(X)?p=this.virtualStyleRulesMap.get(X):(p=[],this.virtualStyleRulesMap.set(X,p))),l.adds&&l.adds.forEach((function(t){var e=t.rule,n=t.index;if(y)try{if(Array.isArray(n)){var i=me(n),r=i.positions,o=i.index;pe(y.cssRules,r).insertRule(e,o)}else o=void 0===n?void 0:Math.min(n,y.cssRules.length),y.insertRule(e,o)}catch(t){}else null==p||p.push({cssText:e,index:n,type:se.Insert})})),l.removes&&l.removes.forEach((function(t){var e=t.index;if(b)null==p||p.push({index:e,type:se.Remove});else try{if(Array.isArray(e)){var n=me(e),i=n.positions,r=n.index;pe(y.cssRules,i).deleteRule(r||0)}else null==y||y.deleteRule(e)}catch(t){}}));break;case e.IncrementalSource.StyleDeclaration:if(!(X=this.mirror.getNode(l.id)))return this.debugNodeNotFound(l,l.id);m=X;var f=X.parentNode,Z=this.fragmentParentMap.has(f)?null:m.sheet,G=[];Z||(this.virtualStyleRulesMap.has(X)?G=this.virtualStyleRulesMap.get(X):(G=[],this.virtualStyleRulesMap.set(X,G))),l.set&&(Z?pe(Z.rules,l.index).style.setProperty(l.set.property,l.set.value,l.set.priority):G.push(i({type:se.SetProperty,index:l.index},l.set))),l.remove&&(Z?pe(Z.rules,l.index).style.removeProperty(l.remove.property):G.push(i({type:se.RemoveProperty,index:l.index},l.remove)));break;case e.IncrementalSource.CanvasMutation:if(!this.config.UNSAFE_replayCanvas)return;var X;if(!(X=this.mirror.getNode(l.id)))return this.debugNodeNotFound(l,l.id);!function(t){var e=t.event,n=t.mutation,i=t.target,r=t.imageMap,o=t.errorHandler;try{var a="commands"in n?n.commands:[n];[M.WebGL,M.WebGL2].includes(n.type)?a.forEach((function(t){!function(t){var e=t.mutation,n=t.target,i=t.type,r=t.imageMap,o=t.errorHandler;try{var a=function(t,e){try{return e===M.WebGL?t.getContext("webgl")||t.getContext("experimental-webgl"):t.getContext("webgl2")}catch(t){return null}}(n,i);if(!a)return;if(e.setter)return void(a[e.property]=e.args[0]);var l=a[e.property],s=e.args.map(fe(r,a));!function(t,e){if(null==e?void 0:e.constructor){var n=e.constructor.name;if(ye.includes(n)){var i=be(t,n);i.includes(e)||i.push(e)}}}(a,l.apply(a,s))}catch(t){o(e,t)}}({mutation:t,type:n.type,target:i,imageMap:r,errorHandler:o})})):a.forEach((function(t){!function(t){var e=t.event,n=t.mutation,i=t.target,r=t.imageMap,o=t.errorHandler;try{var a=i.getContext("2d");if(n.setter)return void(a[n.property]=n.args[0]);var l=a[n.property];if("drawImage"===n.property&&"string"==typeof n.args[0]){var s=r.get(e);n.args[0]=s,l.apply(a,n.args)}else l.apply(a,n.args)}catch(t){o(n,t)}}({event:e,mutation:t,target:i,imageMap:r,errorHandler:o})}))}catch(t){o(n,t)}}({event:t,mutation:l,target:X,imageMap:this.imageMap,errorHandler:this.warnCanvasMutationFailed.bind(this)});break;case e.IncrementalSource.Font:try{var v=new FontFace(l.family,l.buffer?new Uint8Array(JSON.parse(l.fontSource)):l.fontSource,l.descriptors);null===(o=this.iframe.contentDocument)||void 0===o||o.fonts.add(v)}catch(t){this.config.showWarning&&console.warn(t)}}},t.prototype.applyMutation=function(t,e){var o,a,l=this;t.removes.forEach((function(e){var n=l.mirror.getNode(e.id);if(!n){if(t.removes.find((function(t){return t.id===e.parentId})))return;return l.warnNodeNotFound(t,e.id)}l.virtualStyleRulesMap.has(n)&&l.virtualStyleRulesMap.delete(n);var i=l.mirror.getNode(e.parentId);if(!i)return l.warnNodeNotFound(t,e.parentId);if(e.isShadow&&at(i)&&(i=i.shadowRoot),l.mirror.removeNodeFromMap(n),i){var r=null,o="__sn"in i?l.fragmentParentMap.get(i):void 0;o&&o.contains(n)?i=o:l.fragmentParentMap.has(n)&&(r=l.fragmentParentMap.get(n),l.fragmentParentMap.delete(n),n=r);try{i.removeChild(n)}catch(e){if(!(e instanceof DOMException))throw e;l.warn("parent could not remove child in mutation",i,o,n,r,t)}}}));var s=i({},this.legacy_missingNodeRetryMap),c=[],u=function(t){var i,o,a,u;if(!l.iframe.contentDocument)return console.warn("Looks like your replayer has been destroyed.");var d=l.mirror.getNode(t.parentId);if(!d)return t.node.type===n.Document?l.newDocumentQueue.push(t):c.push(t);var p=null;l.iframe.contentDocument.contains?p=l.iframe.contentDocument.contains(d):l.iframe.contentDocument.body.contains&&(p=l.iframe.contentDocument.body.contains(d));var m=(null===(u=(a=d).getElementsByTagName)||void 0===u?void 0:u.call(a,"iframe").length)>0;if(e&&p&&!rt(d)&&!m){var h=document.createDocumentFragment();for(l.mirror.map[t.parentId]=h,l.fragmentParentMap.set(h,d),l.storeState(d);d.firstChild;)h.appendChild(d.firstChild);d=h}t.node.isShadow&&(at(d)||d.attachShadow({mode:"open"}),d=d.shadowRoot);var b=null,y=null;if(t.previousId&&(b=l.mirror.getNode(t.previousId)),t.nextId&&(y=l.mirror.getNode(t.nextId)),function(t){var e=null;return t.nextId&&(e=l.mirror.getNode(t.nextId)),null!==t.nextId&&void 0!==t.nextId&&-1!==t.nextId&&!e}(t))return c.push(t);if(!t.node.rootId||l.mirror.getNode(t.node.rootId)){var f=t.node.rootId?l.mirror.getNode(t.node.rootId):l.iframe.contentDocument;if(rt(d))l.attachDocumentToIframe(t,d);else{var Z=j(t.node,{doc:f,map:l.mirror.map,skipChild:!0,hackCss:!0,cache:l.cache});if(-1!==t.previousId&&-1!==t.nextId){if("__sn"in d&&d.__sn.type===n.Element&&"textarea"===d.__sn.tagName&&t.node.type===n.Text)try{for(var G=r(Array.from(d.childNodes)),X=G.next();!X.done;X=G.next()){var v=X.value;v.nodeType===d.TEXT_NODE&&d.removeChild(v)}}catch(t){i={error:t}}finally{try{X&&!X.done&&(o=G.return)&&o.call(G)}finally{if(i)throw i.error}}if(b&&b.nextSibling&&b.nextSibling.parentNode)d.insertBefore(Z,b.nextSibling);else if(y&&y.parentNode)d.contains(y)?d.insertBefore(Z,y):d.insertBefore(Z,null);else{if(d===f)for(;f.firstChild;)f.removeChild(f.firstChild);d.appendChild(Z)}if(rt(Z)){var g=l.newDocumentQueue.find((function(t){return t.parentId===Z.__sn.id}));g&&(l.attachDocumentToIframe(g,Z),l.newDocumentQueue=l.newDocumentQueue.filter((function(t){return t!==g})))}(t.previousId||t.nextId)&&l.legacy_resolveMissingNode(s,d,Z,t)}else s[t.node.id]={node:Z,mutation:t}}}};t.adds.forEach((function(t){u(t)}));for(var d=Date.now();c.length;){var p=nt(c);if(c.length=0,Date.now()-d>500){this.warn("Timeout in the loop, please check the resolve tree data:",p);break}try{for(var m=(o=void 0,r(p)),h=m.next();!h.done;h=m.next()){var b=h.value;this.mirror.getNode(b.value.parentId)?it(b,(function(t){u(t)})):this.debug("Drop resolve tree since there is no parent for the root node.",b)}}catch(t){o={error:t}}finally{try{h&&!h.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}}Object.keys(s).length&&Object.assign(this.legacy_missingNodeRetryMap,s),t.texts.forEach((function(e){var n=l.mirror.getNode(e.id);if(!n){if(t.removes.find((function(t){return t.id===e.id})))return;return l.warnNodeNotFound(t,e.id)}l.fragmentParentMap.has(n)&&(n=l.fragmentParentMap.get(n)),n.textContent=e.value})),t.attributes.forEach((function(e){var n=l.mirror.getNode(e.id);if(!n){if(t.removes.find((function(t){return t.id===e.id})))return;return l.warnNodeNotFound(t,e.id)}for(var i in l.fragmentParentMap.has(n)&&(n=l.fragmentParentMap.get(n)),e.attributes)if("string"==typeof i){var r=e.attributes[i];if(null===r)n.removeAttribute(i);else if("string"==typeof r)try{n.setAttribute(i,r)}catch(t){l.config.showWarning&&console.warn("An error occurred may due to the checkout feature.",t)}else if("style"===i){var o=r,a=n;for(var s in o)if(!1===o[s])a.style.removeProperty(s);else if(o[s]instanceof Array){var c=o[s];a.style.setProperty(s,c[0],c[1])}else{var u=o[s];a.style.setProperty(s,u)}}}}))},t.prototype.applyScroll=function(t,e){var i=this.mirror.getNode(t.id);if(!i)return this.debugNodeNotFound(t,t.id);if(i===this.iframe.contentDocument)this.iframe.contentWindow.scrollTo({top:t.y,left:t.x,behavior:e?"auto":"smooth"});else if(i.__sn.type===n.Document)i.defaultView.scrollTo({top:t.y,left:t.x,behavior:e?"auto":"smooth"});else try{i.scrollTop=t.y,i.scrollLeft=t.x}catch(t){}},t.prototype.applyInput=function(t){var e=this.mirror.getNode(t.id);if(!e)return this.debugNodeNotFound(t,t.id);try{e.checked=t.isChecked,e.value=t.text}catch(t){}},t.prototype.applyText=function(t,e){var n=this.mirror.getNode(t.id);if(!n)return this.debugNodeNotFound(e,t.id);try{n.textContent=t.value}catch(t){}},t.prototype.legacy_resolveMissingNode=function(t,e,n,i){var r=i.previousId,o=i.nextId,a=r&&t[r],l=o&&t[o];if(a){var s=a,c=s.node,u=s.mutation;e.insertBefore(c,n),delete t[u.node.id],delete this.legacy_missingNodeRetryMap[u.node.id],(u.previousId||u.nextId)&&this.legacy_resolveMissingNode(t,e,c,u)}if(l){var d=l;c=d.node,u=d.mutation,e.insertBefore(c,n.nextSibling),delete t[u.node.id],delete this.legacy_missingNodeRetryMap[u.node.id],(u.previousId||u.nextId)&&this.legacy_resolveMissingNode(t,e,c,u)}},t.prototype.moveAndHover=function(t,e,n,i,r){var o=this.mirror.getNode(n);if(!o)return this.debugNodeNotFound(r,n);var a=ot(o,this.iframe),l=t*a.absoluteScale+a.x,s=e*a.absoluteScale+a.y;this.mouse.style.left="".concat(l,"px"),this.mouse.style.top="".concat(s,"px"),i||this.drawMouseTail({x:l,y:s}),this.hoverElements(o)},t.prototype.drawMouseTail=function(t){var e=this;if(this.mouseTail){var n=!0===this.config.mouseTail?Xe:Object.assign({},Xe,this.config.mouseTail),i=n.lineCap,r=n.lineWidth,o=n.strokeStyle,a=n.duration,l=function(){if(e.mouseTail){var t=e.mouseTail.getContext("2d");t&&e.tailPositions.length&&(t.clearRect(0,0,e.mouseTail.width,e.mouseTail.height),t.beginPath(),t.lineWidth=r,t.lineCap=i,t.strokeStyle=o,t.moveTo(e.tailPositions[0].x,e.tailPositions[0].y),e.tailPositions.forEach((function(e){return t.lineTo(e.x,e.y)})),t.stroke())}};this.tailPositions.push(t),l(),setTimeout((function(){e.tailPositions=e.tailPositions.filter((function(e){return e!==t})),l()}),a/this.speedService.state.context.timer.speed)}},t.prototype.hoverElements=function(t){var e;null===(e=this.iframe.contentDocument)||void 0===e||e.querySelectorAll(".\\:hover").forEach((function(t){t.classList.remove(":hover")}));for(var n=t;n;)n.classList&&n.classList.add(":hover"),n=n.parentElement},t.prototype.isUserInteraction=function(t){return t.type===e.EventType.IncrementalSnapshot&&t.data.source>e.IncrementalSource.Mutation&&t.data.source<=e.IncrementalSource.Input},t.prototype.backToNormal=function(){this.nextUserInteractionEvent=null,this.speedService.state.matches("normal")||(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(e.ReplayerEvents.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))},t.prototype.restoreRealParent=function(t,e){this.mirror.map[e.__sn.id]=e,e.__sn.type===n.Element&&"textarea"===e.__sn.tagName&&t.textContent&&(e.value=t.textContent),e.appendChild(t),this.restoreState(e)},t.prototype.storeState=function(t){var e,n;if(t&&t.nodeType===t.ELEMENT_NODE){var i=t;(i.scrollLeft||i.scrollTop)&&this.elementStateMap.set(t,{scroll:[i.scrollLeft,i.scrollTop]}),"STYLE"===i.tagName&&function(t,e){var n;try{var i=Array.from((null===(n=t.sheet)||void 0===n?void 0:n.cssRules)||[]).map((function(t){return t.cssText}));e.set(t,[{type:se.Snapshot,cssTexts:i}])}catch(t){}}(i,this.virtualStyleRulesMap);var o=i.children;try{for(var a=r(Array.from(o)),l=a.next();!l.done;l=a.next()){var s=l.value;this.storeState(s)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},t.prototype.restoreState=function(t){var e,n;if(t.nodeType===t.ELEMENT_NODE){var i=t;if(this.elementStateMap.has(t)){var o=this.elementStateMap.get(t);o.scroll&&(i.scrollLeft=o.scroll[0],i.scrollTop=o.scroll[1]),this.elementStateMap.delete(t)}var a=i.children;try{for(var l=r(Array.from(a)),s=l.next();!s.done;s=l.next()){var c=s.value;this.restoreState(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}}},t.prototype.restoreNodeSheet=function(t){var e=this.virtualStyleRulesMap.get(t);"STYLE"===t.nodeName&&e&&function(t,e){var n=e.sheet;n&&t.forEach((function(t){if(t.type===se.Insert)try{if(Array.isArray(t.index)){var i=me(t.index),r=i.positions,a=i.index;pe(n.cssRules,r).insertRule(t.cssText,a)}else n.insertRule(t.cssText,t.index)}catch(t){}else if(t.type===se.Remove)try{if(Array.isArray(t.index)){var l=me(t.index);r=l.positions,a=l.index,pe(n.cssRules,r).deleteRule(a||0)}else n.deleteRule(t.index)}catch(t){}else t.type===se.Snapshot?function(t,e){var n;try{var i=Array.from((null===(n=e.sheet)||void 0===n?void 0:n.cssRules)||[]).map((function(t){return t.cssText})),r=Object.entries(i).reverse(),a=i.length;r.forEach((function(n){var i,r=o(n,2),l=r[0],s=r[1],c=t.indexOf(s);if(-1===c||c>a)try{null===(i=e.sheet)||void 0===i||i.deleteRule(Number(l))}catch(t){}a=c})),t.forEach((function(t,n){var i,r,o;try{(null===(r=null===(i=e.sheet)||void 0===i?void 0:i.cssRules[n])||void 0===r?void 0:r.cssText)!==t&&(null===(o=e.sheet)||void 0===o||o.insertRule(t,n))}catch(t){}}))}catch(t){}}(t.cssTexts,e):t.type===se.SetProperty?pe(n.cssRules,t.index).style.setProperty(t.property,t.value,t.priority):t.type===se.RemoveProperty&&pe(n.cssRules,t.index).style.removeProperty(t.property)}))}(e,t)},t.prototype.warnNodeNotFound=function(t,e){this.treeIndex.idRemoved(e)?this.warn("Node with id '".concat(e,"' was previously removed. "),t):this.warn("Node with id '".concat(e,"' not found. "),t)},t.prototype.warnCanvasMutationFailed=function(t,e){this.warn("Has error on canvas update",e,"canvas mutation:",t)},t.prototype.debugNodeNotFound=function(t,e){this.treeIndex.idRemoved(e)?this.debug(Ge,"Node with id '".concat(e,"' was previously removed. "),t):this.debug(Ge,"Node with id '".concat(e,"' not found. "),t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.config.showWarning&&console.warn.apply(console,a([Ge],o(t),!1))},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.config.showDebug&&console.log.apply(console,a([Ge],o(t),!1))},t}(),Ke=Ft.addCustomEvent,Se=Ft.freezePage,Ie=Uint8Array,xe=Uint16Array,Le=Uint32Array,We=new Ie([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ve=new Ie([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),we=new Ie([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Te=function(t,e){for(var n=new xe(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];var r=new Le(n[30]);for(i=1;i<30;++i)for(var o=n[i];o<n[i+1];++o)r[o]=o-n[i]<<5|i;return[n,r]},Ce=Te(We,2),Me=Ce[0],Ye=Ce[1];Me[28]=258,Ye[258]=28;for(var Re=Te(Ve,0),He=Re[0],ke=Re[1],Pe=new xe(32768),Ne=0;Ne<32768;++Ne){var Je=(43690&Ne)>>>1|(21845&Ne)<<1;Je=(61680&(Je=(52428&Je)>>>2|(13107&Je)<<2))>>>4|(3855&Je)<<4,Pe[Ne]=((65280&Je)>>>8|(255&Je)<<8)>>>1}var je=function(t,e,n){for(var i=t.length,r=0,o=new xe(e);r<i;++r)++o[t[r]-1];var a,l=new xe(e);for(r=0;r<e;++r)l[r]=l[r-1]+o[r-1]<<1;if(n){a=new xe(1<<e);var s=15-e;for(r=0;r<i;++r)if(t[r])for(var c=r<<4|t[r],u=e-t[r],d=l[t[r]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)a[Pe[d]>>>s]=c}else for(a=new xe(i),r=0;r<i;++r)a[r]=Pe[l[t[r]-1]++]>>>15-t[r];return a},ze=new Ie(288);for(Ne=0;Ne<144;++Ne)ze[Ne]=8;for(Ne=144;Ne<256;++Ne)ze[Ne]=9;for(Ne=256;Ne<280;++Ne)ze[Ne]=7;for(Ne=280;Ne<288;++Ne)ze[Ne]=8;var Ue=new Ie(32);for(Ne=0;Ne<32;++Ne)Ue[Ne]=5;var De=je(ze,9,0),Fe=je(ze,9,1),Ee=je(Ue,5,0),Be=je(Ue,5,1),Qe=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Oe=function(t,e,n){var i=e/8>>0;return(t[i]|t[i+1]<<8)>>>(7&e)&n},_e=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(7&e)},Ae=function(t){return(t/8>>0)+(7&t&&1)},qe=function(t,e,n){(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length);var i=new(t instanceof xe?xe:t instanceof Le?Le:Ie)(n-e);return i.set(t.subarray(e,n)),i},$e=function(t,e,n){n<<=7&e;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8},tn=function(t,e,n){n<<=7&e;var i=e/8>>0;t[i]|=n,t[i+1]|=n>>>8,t[i+2]|=n>>>16},en=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,o=n.slice();if(!r)return[new Ie(0),0];if(1==r){var a=new Ie(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var l=n[0],s=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:l.f+s.f,l,r:s};u!=r-1;)l=n[n[c].f<n[d].f?c++:d++],s=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:l.f+s.f,l,r:s};var p=o[0].s;for(i=1;i<r;++i)o[i].s>p&&(p=o[i].s);var m=new xe(p+1),h=nn(n[u-1],m,0);if(h>e){i=0;var b=0,y=h-e,f=1<<y;for(o.sort((function(t,e){return m[e.s]-m[t.s]||t.f-e.f}));i<r;++i){var Z=o[i].s;if(!(m[Z]>e))break;b+=f-(1<<h-m[Z]),m[Z]=e}for(b>>>=y;b>0;){var G=o[i].s;m[G]<e?b-=1<<e-m[G]++-1:++i}for(;i>=0&&b;--i){var X=o[i].s;m[X]==e&&(--m[X],++b)}h=e}return[new Ie(m),h]},nn=function(t,e,n){return-1==t.s?Math.max(nn(t.l,e,n+1),nn(t.r,e,n+1)):e[t.s]=n},rn=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new xe(++e),i=0,r=t[0],o=1,a=function(t){n[i++]=t},l=1;l<=e;++l)if(t[l]==r&&l!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(r),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(r);o=1,r=t[l]}return[n.subarray(0,i),e]},on=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},an=function(t,e,n){var i=n.length,r=Ae(e+2);t[r]=255&i,t[r+1]=i>>>8,t[r+2]=255^t[r],t[r+3]=255^t[r+1];for(var o=0;o<i;++o)t[r+o+4]=n[o];return 8*(r+4+i)},ln=function(t,e,n,i,r,o,a,l,s,c,u){$e(e,u++,n),++r[256];for(var d=en(r,15),p=d[0],m=d[1],h=en(o,15),b=h[0],y=h[1],f=rn(p),Z=f[0],G=f[1],X=rn(b),v=X[0],g=X[1],K=new xe(19),S=0;S<Z.length;++S)K[31&Z[S]]++;for(S=0;S<v.length;++S)K[31&v[S]]++;for(var I=en(K,7),x=I[0],L=I[1],W=19;W>4&&!x[we[W-1]];--W);var V,w,T,C,M=c+5<<3,Y=on(r,ze)+on(o,Ue)+a,R=on(r,p)+on(o,b)+a+14+3*W+on(K,x)+(2*K[16]+3*K[17]+7*K[18]);if(M<=Y&&M<=R)return an(e,u,t.subarray(s,s+c));if($e(e,u,1+(R<Y)),u+=2,R<Y){V=je(p,m,0),w=p,T=je(b,y,0),C=b;var H=je(x,L,0);for($e(e,u,G-257),$e(e,u+5,g-1),$e(e,u+10,W-4),u+=14,S=0;S<W;++S)$e(e,u+3*S,x[we[S]]);u+=3*W;for(var k=[Z,v],P=0;P<2;++P){var N=k[P];for(S=0;S<N.length;++S){var J=31&N[S];$e(e,u,H[J]),u+=x[J],J>15&&($e(e,u,N[S]>>>5&127),u+=N[S]>>>12)}}}else V=De,w=ze,T=Ee,C=Ue;for(S=0;S<l;++S)if(i[S]>255){J=i[S]>>>18&31,tn(e,u,V[J+257]),u+=w[J+257],J>7&&($e(e,u,i[S]>>>23&31),u+=We[J]);var j=31&i[S];tn(e,u,T[j]),u+=C[j],j>3&&(tn(e,u,i[S]>>>5&8191),u+=Ve[j])}else tn(e,u,V[i[S]]),u+=w[i[S]];return tn(e,u,V[256]),u+w[256]},sn=new Le([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cn=new Ie(0);function un(t,e){void 0===e&&(e={});var n=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,o=n.length,a=0;a!=o;){for(var l=Math.min(a+5552,o);a<l;++a)r+=i+=n[a];i%=65521,r%=65521}t=i,e=r},d:function(){return(t>>>8<<16|(255&e)<<8|e>>>8)+2*((255&t)<<23)}}}();n.p(t);var i=function(t,e,n,i,r){return function(t,e,n,i,r,o){var a=t.length,l=new Ie(i+a+5*(1+Math.floor(a/7e3))+r),s=l.subarray(i,l.length-r),c=0;if(!e||a<8)for(var u=0;u<=a;u+=65535){var d=u+65535;d<a?c=an(s,c,t.subarray(u,d)):(s[u]=o,c=an(s,c,t.subarray(u,a)))}else{for(var p=sn[e-1],m=p>>>13,h=8191&p,b=(1<<n)-1,y=new xe(32768),f=new xe(b+1),Z=Math.ceil(n/3),G=2*Z,X=function(e){return(t[e]^t[e+1]<<Z^t[e+2]<<G)&b},v=new Le(25e3),g=new xe(288),K=new xe(32),S=0,I=0,x=(u=0,0),L=0,W=0;u<a;++u){var V=X(u),w=32767&u,T=f[V];if(y[w]=T,f[V]=w,L<=u){var C=a-u;if((S>7e3||x>24576)&&C>423){c=ln(t,s,0,v,g,K,I,x,W,u-W,c),x=S=I=0,W=u;for(var M=0;M<286;++M)g[M]=0;for(M=0;M<30;++M)K[M]=0}var Y=2,R=0,H=h,k=w-T&32767;if(C>2&&V==X(u-k))for(var P=Math.min(m,C)-1,N=Math.min(32767,u),J=Math.min(258,C);k<=N&&--H&&w!=T;){if(t[u+Y]==t[u+Y-k]){for(var j=0;j<J&&t[u+j]==t[u+j-k];++j);if(j>Y){if(Y=j,R=k,j>P)break;var z=Math.min(k,j-2),U=0;for(M=0;M<z;++M){var D=u-k+M+32768&32767,F=D-y[D]+32768&32767;F>U&&(U=F,T=D)}}}k+=(w=T)-(T=y[w])+32768&32767}if(R){v[x++]=268435456|Ye[Y]<<18|ke[R];var E=31&Ye[Y],B=31&ke[R];I+=We[E]+Ve[B],++g[257+E],++K[B],L=u+Y,++S}else v[x++]=t[u],++g[t[u]]}}c=ln(t,s,o,v,g,K,I,x,W,u-W,c),o||(c=an(s,c,cn))}return qe(l,0,i+Ae(c)+r)}(t,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,i,!r)}(t,e,2,4);return function(t,e){var n=e.level,i=0==n?0:n<6?1:9==n?3:2;t[0]=120,t[1]=i<<6|(i?32-2*i:1)}(i,e),function(t,e,n){for(;n;++e)t[e]=n,n>>>=8}(i,i.length-4,n.d()),i}function dn(t,e){var n=t.length;if(!e&&"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);for(var i=new Ie(t.length+(t.length>>>1)),r=0,o=function(t){i[r++]=t},a=0;a<n;++a){if(r+5>i.length){var l=new Ie(r+8+(n-a<<1));l.set(i),i=l}var s=t.charCodeAt(a);s<128||e?o(s):s<2048?(o(192|s>>>6),o(128|63&s)):s>55295&&s<57344?(o(240|(s=65536+(1047552&s)|1023&t.charCodeAt(++a))>>>18),o(128|s>>>12&63),o(128|s>>>6&63),o(128|63&s)):(o(224|s>>>12),o(128|s>>>6&63),o(128|63&s))}return qe(i,0,r)}function pn(t,e){var n="";if(!e&&"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var i=0;i<t.length;){var r=t[i++];r<128||e?n+=String.fromCharCode(r):r<224?n+=String.fromCharCode((31&r)<<6|63&t[i++]):r<240?n+=String.fromCharCode((15&r)<<12|(63&t[i++])<<6|63&t[i++]):(r=((15&r)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}return n}var mn="v1",hn=function(){function t(t){this.fileName=t.fileName||"",this.functionName=t.functionName||"",this.lineNumber=t.lineNumber,this.columnNumber=t.columnNumber}return t.prototype.toString=function(){var t=this.lineNumber||"",e=this.columnNumber||"";return this.functionName?this.functionName+" ("+this.fileName+":"+t+":"+e+")":this.fileName+":"+t+":"+e},t}(),bn=/(^|@)\S+:\d+/,yn=/^\s*at .*(\S+:\d+|\(native\))/m,fn=/^(eval@)?(\[native code])?$/,Zn={parse:function(t){if(!t)return[];if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(yn))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));if(!e)throw new Error("Cannot parse given url: ".concat(t));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(t){return!!t.match(yn)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var e=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=e.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(e=n?e.replace(n[0],""):e).split(/\s+/).slice(1),r=this.extractLocation(n?n[1]:i.pop()),o=i.join(" ")||void 0,a=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new hn({functionName:o,fileName:a,lineNumber:r[1],columnNumber:r[2]})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(t){return!t.match(fn)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new hn({functionName:t});var e=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(e),i=n&&n[1]?n[1]:void 0,r=this.extractLocation(t.replace(e,""));return new hn({functionName:i,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(t){for(var e=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),i=[],r=2,o=n.length;r<o;r+=2){var a=e.exec(n[r]);a&&i.push(new hn({fileName:a[2],lineNumber:parseFloat(a[1])}))}return i},parseOpera10:function(t){for(var e=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),i=[],r=0,o=n.length;r<o;r+=2){var a=e.exec(n[r]);a&&i.push(new hn({functionName:a[3]||void 0,fileName:a[2],lineNumber:parseFloat(a[1])}))}return i},parseOpera11:function(t){return t.stack.split("\n").filter((function(t){return!!t.match(bn)&&!t.match(/^Error created at/)}),this).map((function(t){var e=t.split("@"),n=this.extractLocation(e.pop()),i=(e.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new hn({functionName:i,fileName:n[0],lineNumber:n[1],columnNumber:n[2]})}),this)}};function Gn(t){if(!t||!t.outerHTML)return"";for(var e="";t.parentElement;){var n=t.localName;if(!n)break;n=n.toLowerCase();var i=t.parentElement,r=[];if(i.children&&i.children.length>0)for(var o=0;o<i.children.length;o++){var a=i.children[o];a.localName&&a.localName.toLowerCase&&a.localName.toLowerCase()===n&&r.push(a)}r.length>1&&(n+=":eq("+r.indexOf(t)+")"),e=n+(e?">"+e:""),t=i}return e}function Xn(t){return"[object Object]"===Object.prototype.toString.call(t)}function vn(t,e){var n,i;if(0===e)return!0;var o=Object.keys(t);try{for(var a=r(o),l=a.next();!l.done;l=a.next()){var s=l.value;if(Xn(t[s])&&vn(t[s],e-1))return!0}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1}function gn(t,e){var n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,e);var i=[],r=[];return JSON.stringify(t,(function(t,e){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?r.splice(o,1/0,t):r.push(t),~i.indexOf(e)&&(e=i[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(e)).join(".")+"]")}else i.push(e);if(null==e)return e;if(function(t){return!!(Xn(t)&&Object.keys(t).length>n.numOfKeysLimit)||("function"==typeof t||!(!Xn(t)||!vn(t,n.depthOfLimit)))}(e))return function(t){var e=t.toString();return n.stringLengthLimit&&e.length>n.stringLengthLimit&&(e="".concat(e.slice(0,n.stringLengthLimit),"...")),e}(e);if(e instanceof Event){var a={};for(var l in e){var s=e[l];Array.isArray(s)?a[l]=Gn(s.length?s[0]:null):a[l]=s}return a}return e instanceof Node?e instanceof HTMLElement?e?e.outerHTML:"":e.nodeName:e instanceof Error?e.stack?e.stack+"\nEnd of stack for Error object":e.name+": "+e.message:e}))}var Kn={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function Sn(t,e,n){var i,l,s,c=n.logger;if(!c)return function(){};s="string"==typeof c?e[c]:c;var u=0,d=[];if(n.level.includes("error")&&window){var p=function(e){var i=e.message,r=e.error,o=Zn.parse(r).map((function(t){return t.toString()})),a=[gn(i,n.stringifyOptions)];t({level:"error",trace:o,payload:a})};window.addEventListener("error",p),d.push((function(){window&&window.removeEventListener("error",p)}))}try{for(var m=r(n.level),h=m.next();!h.done;h=m.next()){var b=h.value;d.push(y(s,b))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(l=m.return)&&l.call(m)}finally{if(i)throw i.error}}return function(){d.forEach((function(t){return t()}))};function y(e,i){var r=this;return e[i]?B(e,i,(function(e){return function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];e.apply(r,l);try{var c=Zn.parse(new Error).map((function(t){return t.toString()})).splice(1),d=l.map((function(t){return gn(t,n.stringifyOptions)}));++u<n.lengthThreshold?t({level:i,trace:c,payload:d}):u===n.lengthThreshold&&t({level:"warn",trace:[],payload:[gn("The number of log records reached the threshold.")]})}catch(t){e.apply(void 0,a(["rrweb logger error:",t],o(l),!1))}}})):function(){}}}var In="rrweb/console@1",xn={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],replayLogger:void 0},Ln=function(){function t(t){this.config=Object.assign(xn,t)}return t.prototype.getConsoleLogger=function(){var t,e,n=this,i={},l=function(t){i[t]="trace"===t?function(t){(console.log.__rrweb_original__?console.log.__rrweb_original__:console.log).apply(void 0,a(a([],o(t.payload.map((function(t){return JSON.parse(t)}))),!1),[n.formatMessage(t)],!1))}:function(e){(console[t].__rrweb_original__?console[t].__rrweb_original__:console[t]).apply(void 0,a(a([],o(e.payload.map((function(t){return JSON.parse(t)}))),!1),[n.formatMessage(e)],!1))}};try{for(var s=r(this.config.level),c=s.next();!c.done;c=s.next())l(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return i},t.prototype.formatMessage=function(t){if(0===t.trace.length)return"";var e="\n\tat ";return e+t.trace.join(e)},t}();e.PLUGIN_NAME=In,e.Replayer=ge,e.addCustomEvent=Ke,e.freezePage=Se,e.getRecordConsolePlugin=function(t){return{name:In,observer:Sn,options:t?Object.assign({},Kn,t):Kn}},e.getReplayConsolePlugin=function(t){var n=(null==t?void 0:t.replayLogger)||new Ln(t).getConsoleLogger();return{handler:function(t,i,r){var o=null;if(t.type===e.EventType.IncrementalSnapshot&&t.data.source===e.IncrementalSource.Log?o=t.data:t.type===e.EventType.Plugin&&t.data.plugin===In&&(o=t.data.payload),o)try{"function"==typeof n[o.level]&&n[o.level](o)}catch(t){r.replayer.config.showWarning&&console.warn(t)}}}},e.pack=function(t){var e=i(i({},t),{v:mn});return pn(un(dn(JSON.stringify(e))),!0)},e.record=Ft,e.unpack=function(t){if("string"!=typeof t)return t;try{if((e=JSON.parse(t)).timestamp)return e}catch(t){}try{var e;if((e=JSON.parse(pn(function(t,e){return function(t,e,n){var i=t.length,r=!e||n,o=!n||n.i;n||(n={}),e||(e=new Ie(3*i));var a=function(t){var n=e.length;if(t>n){var i=new Ie(Math.max(2*n,t));i.set(e),e=i}},l=n.f||0,s=n.p||0,c=n.b||0,u=n.l,d=n.d,p=n.m,m=n.n,h=8*i;do{if(!u){n.f=l=Oe(t,s,1);var b=Oe(t,s+1,3);if(s+=3,!b){var y=t[(L=Ae(s)+4)-4]|t[L-3]<<8,f=L+y;if(f>i){if(o)throw"unexpected EOF";break}r&&a(c+y),e.set(t.subarray(L,f),c),n.b=c+=y,n.p=s=8*f;continue}if(1==b)u=Fe,d=Be,p=9,m=5;else{if(2!=b)throw"invalid block type";var Z=Oe(t,s,31)+257,G=Oe(t,s+10,15)+4,X=Z+Oe(t,s+5,31)+1;s+=14;for(var v=new Ie(X),g=new Ie(19),K=0;K<G;++K)g[we[K]]=Oe(t,s+3*K,7);s+=3*G;var S=Qe(g),I=(1<<S)-1;if(!o&&s+X*(S+7)>h)break;var x=je(g,S,1);for(K=0;K<X;){var L,W=x[Oe(t,s,I)];if(s+=15&W,(L=W>>>4)<16)v[K++]=L;else{var V=0,w=0;for(16==L?(w=3+Oe(t,s,3),s+=2,V=v[K-1]):17==L?(w=3+Oe(t,s,7),s+=3):18==L&&(w=11+Oe(t,s,127),s+=7);w--;)v[K++]=V}}var T=v.subarray(0,Z),C=v.subarray(Z);p=Qe(T),m=Qe(C),u=je(T,p,1),d=je(C,m,1)}if(s>h)throw"unexpected EOF"}r&&a(c+131072);for(var M=(1<<p)-1,Y=(1<<m)-1,R=p+m+18;o||s+R<h;){var H=(V=u[_e(t,s)&M])>>>4;if((s+=15&V)>h)throw"unexpected EOF";if(!V)throw"invalid length/literal";if(H<256)e[c++]=H;else{if(256==H){u=null;break}var k=H-254;if(H>264){var P=We[K=H-257];k=Oe(t,s,(1<<P)-1)+Me[K],s+=P}var N=d[_e(t,s)&Y],J=N>>>4;if(!N)throw"invalid distance";if(s+=15&N,C=He[J],J>3&&(P=Ve[J],C+=_e(t,s)&(1<<P)-1,s+=P),s>h)throw"unexpected EOF";r&&a(c+131072);for(var j=c+k;c<j;c+=4)e[c]=e[c-C],e[c+1]=e[c+1-C],e[c+2]=e[c+2-C],e[c+3]=e[c+3-C];c=j}}n.l=u,n.p=s,n.b=c,u&&(l=1,n.m=p,n.d=d,n.n=m)}while(!l);return c==e.length?e:qe(e,0,c)}((function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"}(t),t.subarray(2,-4)),e)}(dn(t,!0))))).v===mn)return e;throw new Error("These events were packed with packer ".concat(e.v," which is incompatible with current packer ").concat(mn,"."))}catch(t){throw console.error(t),new Error("Unknown data format.")}},e.utils=lt}));!function(t){t[t.billion=1e10]="billion",t[t.thhousand=1e3]="thhousand"}(o||(o={})),function(t){t[t.B=1]="B",t[t.KB=1024]="KB",t[t.MB=1048576]="MB"}(a||(a={})),function(t){t.EmptyString="",t.ArrayBuffer="arraybuffer",t.Blob="blob",t.Document="document",t.Json="json",t.Text="text",t.MsStream="ms-stream"}(l||(l={})),function(t){t.TextPlain="text/plain",t.ApplicationJson="application/json",t.TextHtml="text/html",t.applicationOctetStream="application/octet-stream"}(s||(s={})),function(t){t.Else="else",t.Error="error",t.Warning="warning",t.Info="info",t.Debug="debug",t.Low="low",t.Normal="normal",t.High="high",t.Critical="critical"}(c||(c={})),function(t){t.UNKNOWN="UNKNOWN",t.UNKNOWN_FUNCTION="UNKNOWN_FUNCTION",t.JAVASCRIPT_ERROR="JAVASCRIPT_ERROR",t.BUSINESS_ERROR="BUSINESS_ERROR",t.LOG_ERROR="LOG_ERROR",t.FETCH_ERROR="HTTP_ERROR",t.VUE_ERROR="VUE_ERROR",t.RESOURCE_ERROR="RESOURCE_ERROR",t.PROMISE_ERROR="PROMISE_ERROR"}(u||(u={})),function(t){t.XHR="xhr",t.FETCH="fetch",t.CONSOLE="console",t.ERROR="error"}(d||(d={})),function(t){t.XHR="xhr",t.FETCH="fetch"}(p||(p={})),function(t){t.HTTP="handleHTTP",t.CONSOLE="handleConsole"}(m||(m={})),function(t){t.HTTP="http",t.CONSOLE="console"}(h||(h={})),function(t){t.TRUE="t",t.FALSE="f"}(b||(b={})),function(t){t.INDEX_EVENTS_FETCHED="fetched",t.DATABASE_NAME="fullstory",t.OBJECT_STORE_EVENTS="events",t.INDEX_EVENTS_TIMESTAMP="timestamp",t.INDEX_EVENTS_READ_TIME="readTime",t.INDEX_EVENTS_PLUGIN_TYPE="type",t.INDEX_EVENTS_UID="uid",t.INDEX_EVENTS_UNION_UID_TIMESTAMP="union_uid_timstamp",t.INDEX_EVENTS_OFFLINE_TASK_ID="offline_task_id"}(y||(y={})),function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration"}(f||(f={})),function(t){t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel"}(Z||(Z={})),function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(G||(G={})),function(t){t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin"}(X||(X={}));var K=r((function(t,e){!function(n,i){var r="function",o="undefined",a="object",l="string",s="model",c="name",u="type",d="vendor",p="version",m="architecture",h="console",b="mobile",y="tablet",f="smarttv",Z="wearable",G="embedded",X="Amazon",v="Apple",g="ASUS",K="BlackBerry",S="Google",I="Huawei",x="LG",L="Microsoft",W="Motorola",V="Samsung",w="Sony",T="Xiaomi",C="Zebra",M="Facebook",Y=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},R=function(t,e){return typeof t===l&&-1!==H(e).indexOf(H(t))},H=function(t){return t.toLowerCase()},k=function(t,e){if(typeof t===l)return t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof e===o?t:t.substring(0,255)},P=function(t,e){for(var n,o,l,s,c,u,d=0;d<e.length&&!c;){var p=e[d],m=e[d+1];for(n=o=0;n<p.length&&!c;)if(c=p[n++].exec(t))for(l=0;l<m.length;l++)u=c[++o],typeof(s=m[l])===a&&s.length>0?2===s.length?typeof s[1]==r?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==r||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):i:this[s[0]]=u?s[1].call(this,u,s[2]):i:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):i):this[s]=u||i;d+=2}},N=function(t,e){for(var n in e)if(typeof e[n]===a&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(R(e[n][r],t))return"?"===n?i:n}else if(R(e[n],t))return"?"===n?i:n;return t},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},j={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,p],[/opios[\/ ]+([\w\.]+)/i],[p,[c,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[c,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[c,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[p,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[c,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[c,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[c,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[c,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[c,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[c,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,M],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[c,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[c,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[c,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[c,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[p,N,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[c,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,H]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[d,V],[u,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[d,V],[u,b]],[/\((ip(?:hone|od)[\w ]*);/i],[s,[d,v],[u,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[d,v],[u,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[d,I],[u,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[s,[d,I],[u,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[d,T],[u,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[d,T],[u,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[d,"OPPO"],[u,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[d,"Vivo"],[u,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[s,[d,"Realme"],[u,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[d,W],[u,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[d,W],[u,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[d,x],[u,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[d,x],[u,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[d,"Lenovo"],[u,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[d,"Nokia"],[u,b]],[/(pixel c)\b/i],[s,[d,S],[u,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[d,S],[u,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[d,w],[u,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[d,w],[u,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[d,"OnePlus"],[u,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[d,X],[u,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[d,X],[u,b]],[/(playbook);[-\w\),; ]+(rim)/i],[s,d,[u,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[d,K],[u,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[d,g],[u,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[d,g],[u,b]],[/(nexus 9)/i],[s,[d,"HTC"],[u,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[s,/_/g," "],[u,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[d,"Acer"],[u,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[d,"Meizu"],[u,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[d,"Sharp"],[u,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,s,[u,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,s,[u,y]],[/(surface duo)/i],[s,[d,L],[u,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[d,"Fairphone"],[u,b]],[/(u304aa)/i],[s,[d,"AT&T"],[u,b]],[/\bsie-(\w*)/i],[s,[d,"Siemens"],[u,b]],[/\b(rct\w+) b/i],[s,[d,"RCA"],[u,y]],[/\b(venue[\d ]{2,7}) b/i],[s,[d,"Dell"],[u,y]],[/\b(q(?:mv|ta)\w+) b/i],[s,[d,"Verizon"],[u,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[d,"Barnes & Noble"],[u,y]],[/\b(tm\d{3}\w+) b/i],[s,[d,"NuVision"],[u,y]],[/\b(k88) b/i],[s,[d,"ZTE"],[u,y]],[/\b(nx\d{3}j) b/i],[s,[d,"ZTE"],[u,b]],[/\b(gen\d{3}) b.+49h/i],[s,[d,"Swiss"],[u,b]],[/\b(zur\d{3}) b/i],[s,[d,"Swiss"],[u,y]],[/\b((zeki)?tb.*\b) b/i],[s,[d,"Zeki"],[u,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],s,[u,y]],[/\b(ns-?\w{0,9}) b/i],[s,[d,"Insignia"],[u,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[d,"NextBook"],[u,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],s,[u,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],s,[u,b]],[/\b(ph-1) /i],[s,[d,"Essential"],[u,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[d,"Envizen"],[u,y]],[/\b(trio[-\w\. ]+) b/i],[s,[d,"MachSpeed"],[u,y]],[/\btu_(1491) b/i],[s,[d,"Rotor"],[u,y]],[/(shield[\w ]+) b/i],[s,[d,"Nvidia"],[u,y]],[/(sprint) (\w+)/i],[d,s,[u,b]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[d,L],[u,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[d,C],[u,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[d,C],[u,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,s,[u,h]],[/droid.+; (shield) bui/i],[s,[d,"Nvidia"],[u,h]],[/(playstation [345portablevi]+)/i],[s,[d,w],[u,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[d,L],[u,h]],[/smart-tv.+(samsung)/i],[d,[u,f]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[d,V],[u,f]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,x],[u,f]],[/(apple) ?tv/i],[d,[s,"Apple TV"],[u,f]],[/crkey/i],[[s,"Chromecast"],[d,S],[u,f]],[/droid.+aft(\w)( bui|\))/i],[s,[d,X],[u,f]],[/\(dtv[\);].+(aquos)/i],[s,[d,"Sharp"],[u,f]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,k],[s,k],[u,f]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,f]],[/((pebble))app/i],[d,s,[u,Z]],[/droid.+; (glass) \d/i],[s,[d,S],[u,Z]],[/droid.+; (wt63?0{2,3})\)/i],[s,[d,C],[u,Z]],[/(quest( 2)?)/i],[s,[d,M],[u,Z]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[u,G]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[s,[u,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[u,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[u,b]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[c,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[c,[p,N,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[c,"Windows"],[p,N,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,p],[/\(bb(10);/i],[p,[c,K]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[c,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[c,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[c,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,p],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[c,p]]},z=function(t,e){if(typeof t===a&&(e=t,t=i),!(this instanceof z))return new z(t,e).getResult();var r=t||(typeof n!==o&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),s=e?function(t,e){var n={};for(var i in t)e[i]&&e[i].length%2==0?n[i]=e[i].concat(t[i]):n[i]=t[i];return n}(j,e):j;return this.getBrowser=function(){var t={};return t.name=i,t.version=i,P.call(t,r,s.browser),t.major=function(t){return typeof t===l?t.replace(/[^\d\.]/g,"").split(".")[0]:i}(t.version),t},this.getCPU=function(){var t={};return t.architecture=i,P.call(t,r,s.cpu),t},this.getDevice=function(){var t={};return t.vendor=i,t.model=i,t.type=i,P.call(t,r,s.device),t},this.getEngine=function(){var t={};return t.name=i,t.version=i,P.call(t,r,s.engine),t},this.getOS=function(){var t={};return t.name=i,t.version=i,P.call(t,r,s.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=typeof t===l&&t.length>255?k(t,255):t,this},this.setUA(r),this};z.VERSION="0.7.31",z.BROWSER=Y([c,p,"major"]),z.CPU=Y([m]),z.DEVICE=Y([s,d,u,h,b,f,y,Z,G]),z.ENGINE=z.OS=Y([c,p]),t.exports&&(e=t.exports=z),e.UAParser=z;var U=typeof n!==o&&(n.jQuery||n.Zepto);if(U&&!U.ua){var D=new z;U.ua=D.getResult(),U.ua.get=function(){return D.getUA()},U.ua.set=function(t){D.setUA(t);var e=D.getResult();for(var n in e)U.ua[n]=e[n]}}}("object"==typeof window?window:i)})),S=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getByteLength=void 0,e.getByteLength=function(t){for(var e=t.length,n=e-1;n>=0;n--){var i=t.charCodeAt(n);i>127&&i<=2047?e++:i>2047&&i<65535&&(e+=2),i>=56320&&i<=57343&&n--}return e}})),I=r((function(t,e){var n=i&&i.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=i&&i.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},o=i&&i.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},a=i&&i.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.APIs=e.isLimitedDataSize=void 0;var l=65536;function s(t){return!(t.length>l)&&(t.length<=32768||(0,S.getByteLength)(t)<=l)}e.isLimitedDataSize=s,e.APIs={inited:!1,supportFetch:"function"==typeof window.fetch,supportFetchKeepAlive:"function"==typeof window.fetch&&"keepalive"in new Request(""),supportSendBeacon:"function"==typeof(null===navigator||void 0===navigator?void 0:navigator.sendBeacon),isLimitedDataSize:function(t){return t.byteLength<=l},ensureKeepaliveFetch:function(t,n){return r(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:if(e.APIs.inited)return[2,e.APIs.supportFetchKeepAlive];if(e.APIs.inited=!0,!e.APIs.supportFetchKeepAlive)return[2,!1];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(t,{method:"HEAD",headers:{"x-mdap-preflight":"ensure",Authorization:"Bearer "+n},keepalive:!0})];case 2:return i.sent(),[3,4];case 3:return i.sent(),e.APIs.supportFetchKeepAlive=!1,[3,4];case 4:return[2,e.APIs.supportFetchKeepAlive]}}))}))},get:function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,new Promise((function(e,n){var i=new XMLHttpRequest;i.open("GET",t),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)return 200===i.status?e(i.response):n(i.response)},i.send()}))]}))}))},post:function(t){return r(this,void 0,void 0,(function(){var e,i,r,a,l;return o(this,(function(o){switch(o.label){case 0:return e=t.url,i=t.data,r=t.token,this.supportFetch?[4,fetch(e,{method:"POST",headers:n({"Content-Type":"application/json",Accept:"application/json"},r?{Authorization:"Bearer "+r}:{}),body:JSON.stringify(i)})]:[3,3];case 1:return[4,(a=o.sent()).json()];case 2:return l=o.sent(),200===a.status?[2,l]:[2,Promise.reject(l)];case 3:return[2,this.postXHR(t)]}}))}))},sendBeacon:function(t){if(this.supportSendBeacon){for(var e=t.url,n=t.data,i=new FormData,r=n.data,o=a(n,["data"]),l=0,s=Object.keys(o);l<s.length;l++){var c=s[l],u=o[c];u="string"==typeof u?u:JSON.stringify(u),i.append(c,null!=u?u:"unknown")}return i.append("data",JSON.stringify(r)),navigator.sendBeacon(e,i)}return!1},fetchPost:function(t){return r(this,void 0,void 0,(function(){var e,i,r,a,l,c,u;return o(this,(function(o){switch(o.label){case 0:return e=t.url,i=t.data,r=t.token,this.supportFetchKeepAlive?(a=JSON.stringify(i),l=s(a),[4,fetch(e,{method:"POST",headers:n({"Content-Type":"application/json",Accept:"application/json"},r?{Authorization:"Bearer "+r}:{}),keepalive:l,body:a})]):[3,3];case 1:return[4,(c=o.sent()).json()];case 2:return u=o.sent(),200===c.status?[2,u]:[2,Promise.reject(u)];case 3:return[2,!1]}}))}))},postXHR:function(t){var e=t.url,n=t.data,i=t.async,r=void 0===i||i,o=t.token;return new Promise((function(t,i){var a=new XMLHttpRequest;a.open("POST",e,r),a.setRequestHeader("Content-Type","application/json"),o&&a.setRequestHeader("Authorization","Bearer "+o),a.addEventListener("readystatechange",(function(){if(a.readyState===XMLHttpRequest.DONE){if(200===a.status){var e=a.response;try{e=JSON.parse(e)}catch(t){}return t(e)}return i(a.response)}})),a.send(JSON.stringify(n))}))},fetchPostCipher:function(t){return r(this,void 0,void 0,(function(){var e,n,i,r,a,l,s;return o(this,(function(o){switch(o.label){case 0:return e=t.url,n=t.data,i=t.token,r=t.secretKey,a=t.secretKeyVersion,this.supportFetchKeepAlive?[4,fetch(e,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json",Authorization:"Bearer "+i,"x-mdap-encrypted-key":r,"x-mdap-algkey-version":"v1;"+a},keepalive:!0,body:n})]:[3,3];case 1:return[4,(l=o.sent()).json()];case 2:return s=o.sent(),200===l.status?[2,s]:[2,Promise.reject(s)];case 3:return[2,!1]}}))}))},sendBeaconCipher:function(t){if(this.supportSendBeacon){var e=t.url,n=t.data;return navigator.sendBeacon(e,n)}return!1},postCipher:function(t){return r(this,void 0,void 0,(function(){var e,n,i,r,a,l,s;return o(this,(function(o){switch(o.label){case 0:return e=t.url,n=t.data,i=t.token,r=t.secretKey,a=t.secretKeyVersion,this.supportFetch?[4,fetch(e,{method:"POST",headers:{"Content-Type":"application/octet-stream",Accept:"application/json",Authorization:"Bearer "+i,"x-mdap-encrypted-key":r,"x-mdap-algkey-version":"v1;"+a},body:n})]:[3,3];case 1:return[4,(l=o.sent()).json()];case 2:return s=o.sent(),200===l.status?[2,s]:[2,Promise.reject(s)];case 3:return[2,this.postXHRCipher(t)]}}))}))},postXHRCipher:function(t){var e=t.url,n=t.data,i=t.secretKey,r=t.token,o=t.secretKeyVersion;return new Promise((function(t,a){var l=new XMLHttpRequest;l.open("POST",e),l.setRequestHeader("Authorization","Bearer "+r),l.setRequestHeader("x-mdap-encrypted-key",i),l.setRequestHeader("x-mdap-algkey-version","v1;"+o),l.addEventListener("readystatechange",(function(){if(l.readyState===XMLHttpRequest.DONE){if(200===l.status){var e=l.response;try{e=JSON.parse(e)}catch(t){}return t(e)}return a(l.response)}})),l.send(new Uint8Array(n))}))}}})),x=r((function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.MdapStorage=e.supportLocalstorage=void 0,e.supportLocalstorage="function"==typeof(null===(n=window.localStorage)||void 0===n?void 0:n.getItem)&&"function"==typeof window.localStorage.setItem;var i=function(){function t(t){this.prefix="mdap",this.prefix=t.name}return t.prototype.getStorageKey=function(t){if(e.supportLocalstorage){var n=t;return new RegExp("^"+this.prefix).test(t)||(n=this.prefix+"_"+t),n}},t.prototype.setObject=function(t,n){if(e.supportLocalstorage)try{var i="string"==typeof n?n:JSON.stringify(n),r=this.getStorageKey(t);r&&localStorage.setItem(r,i)}catch(t){}},t.prototype.getObject=function(t){if(e.supportLocalstorage)try{var n=this.getStorageKey(t),i=localStorage.getItem(n);if(!i)return;return JSON.parse(i)}catch(t){}},t.prototype.getKeys=function(){if(e.supportLocalstorage){for(var t=[],n=localStorage.length,i=new RegExp("^"+this.prefix),r=0;r<n;r++){var o=localStorage.key(r);o&&i.test(o)&&t.push(o)}return t}},t.prototype.removeItem=function(t){if(e.supportLocalstorage){var n=this.getStorageKey(t);localStorage.removeItem(n)}},t.prototype.clear=function(){var t;if(e.supportLocalstorage)for(var n=0,i=null!==(t=this.getKeys())&&void 0!==t?t:[];n<i.length;n++){var r=i[n];localStorage.removeItem(r)}},t}();e.MdapStorage=i})),L=r((function(t,e){var n=i&&i.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=i&&i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UserAgent=void 0;var o=r(K),a=function(){function t(){this.browserCompatibility={supportFetch:I.APIs.supportFetch?"true":"false",supportFetchKeepAlive:I.APIs.supportFetchKeepAlive?"true":"false",supportSendBeacon:I.APIs.supportSendBeacon?"true":"false",supportLocalstorage:x.supportLocalstorage?"true":"false"};var t=new o.default;this.ua=t.getResult()}return Object.defineProperty(t.prototype,"connection",{get:function(){var t,e,n,i,r;return navigator.connection?{connection_type:(null===(t=navigator.connection)||void 0===t?void 0:t.effectiveType)||(null===(e=navigator.connection)||void 0===e?void 0:e.type)||"unknown",connection_downlink:(null===(n=navigator.connection)||void 0===n?void 0:n.downlink)?1024*(null===(i=navigator.connection)||void 0===i?void 0:i.downlink):-1,connection_rtt:null===(r=navigator.connection)||void 0===r?void 0:r.rtt}:{connection_type:"unknown"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"browser",{get:function(){var t,e,n,i;return{browser:this.ua.ua,browser_name:null!==(t=this.ua.browser.name)&&void 0!==t?t:"",browser_version:null!==(e=this.ua.browser.version)&&void 0!==e?e:"",engine_name:null!==(n=this.ua.engine.name)&&void 0!==n?n:"",engine_version:null!==(i=this.ua.engine.version)&&void 0!==i?i:""}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return{screen_dpr:window.devicePixelRatio?parseFloat(window.devicePixelRatio.toFixed(2)):void 0,screen_height:window.screen.height,screen_width:window.screen.width}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"device",{get:function(){var t,e,n;return{os_name:this.ua.os.name,os_version:this.ua.os.version,device_name:null!==(e=null===(t=this.ua.device)||void 0===t?void 0:t.model)&&void 0!==e?e:null===(n=this.ua.device)||void 0===n?void 0:n.type,device_id:""}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webData",{get:function(){return n(n(n({},this.browser),this.screen),this.connection)},enumerable:!1,configurable:!0}),t}();e.UserAgent=a})),W=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EncryptionMode=e.defaultConfigMonitor=e.PluginOffsetByte=e.LOCAL_CONFIG_MAX_AGE=e.CONFIT_STORAGE_PREFIX=e.API_ERROR_CODE=e.apiMaps=e.API_PREFIX=e.host=void 0,e.host={live:"https://dem.shopee.com",test:"https://dem.exp.shopee.io",staging:"https://dem.exp.shopee.io",uat:"https://dem.exp.shopee.io",mock:"https://api.seller.shopee.io/mock/1900"},e.API_PREFIX="/dem/entrance/v1/apps",e.apiMaps={login:"/dem/janus/v1/app-auth/login"},e.API_ERROR_CODE={INVALID_ARGUMENT:4e5,INVALID_CONTENT_TYPE:400001,INVALID_FILE:400010,UNAUTHORIZED_TOKEN:401e3,TOKEN_EXPIRED:401001,PERMISSION_DENIED:403e3},e.CONFIT_STORAGE_PREFIX="MDAP_CONFIG_STORAGE",e.LOCAL_CONFIG_MAX_AGE=864e5,e.PluginOffsetByte={api:1,resource:2,navigation:4,customized:8,exception:16},e.defaultConfigMonitor={platform:"Web",status:0,is_vip:0,invoke_tasks:0,enable_tasks:0,install_tasks:0,used_config:"",extra_info:""},e.EncryptionMode={PLAIN:0,CIPHER:1,CIPHER_EXCEPT_WHITELIST:2}})),V=r((function(t,e){var n=i&&i.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0,e.Logger={mute:!1,log:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];(null==this?void 0:this.mute)||console.log.apply(console,n([t],null!=e?e:[],!1))},warn:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];(null==this?void 0:this.mute)||console.warn.apply(console,n([t],null!=e?e:[],!1))},info:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];(null==this?void 0:this.mute)||console.info.apply(console,n([t],null!=e?e:[],!1))},error:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];(null==this?void 0:this.mute)||console.error.apply(console,n([t],null!=e?e:[],!1))}}})),w=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTimeOffset=void 0,e.getTimeOffset=function(t,e,n,i){return"number"!=typeof e||"number"!=typeof n?0:Math.floor((e-t+(n-i))/2)}}));const T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function C(t,e,n,i){let r,o,a;const l=e||[0],s=(n=n||0)>>>3,c=-1===i?3:0;for(r=0;r<t.length;r+=1)a=r+s,o=a>>>2,l.length<=o&&l.push(0),l[o]|=t[r]<<8*(c+i*(a%4));return{value:l,binLen:8*t.length+n}}function M(t,e,n){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(t,e,i){return function(t,e,n,i){let r,o,a,l;if(0!=t.length%2)throw new Error("String of HEX type must be in byte increments");const s=e||[0],c=(n=n||0)>>>3,u=-1===i?3:0;for(r=0;r<t.length;r+=2){if(o=parseInt(t.substr(r,2),16),isNaN(o))throw new Error("String of HEX type contains invalid characters");for(l=(r>>>1)+c,a=l>>>2;s.length<=a;)s.push(0);s[a]|=o<<8*(u+i*(l%4))}return{value:s,binLen:4*t.length+n}}(t,e,i,n)};case"TEXT":return function(t,i,r){return function(t,e,n,i,r){let o,a,l,s,c,u,d,p,m=0;const h=n||[0],b=(i=i||0)>>>3;if("UTF8"===e)for(d=-1===r?3:0,l=0;l<t.length;l+=1)for(o=t.charCodeAt(l),a=[],128>o?a.push(o):2048>o?(a.push(192|o>>>6),a.push(128|63&o)):55296>o||57344<=o?a.push(224|o>>>12,128|o>>>6&63,128|63&o):(l+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(l)),a.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),s=0;s<a.length;s+=1){for(u=m+b,c=u>>>2;h.length<=c;)h.push(0);h[c]|=a[s]<<8*(d+r*(u%4)),m+=1}else for(d=-1===r?2:0,p="UTF16LE"===e&&1!==r||"UTF16LE"!==e&&1===r,l=0;l<t.length;l+=1){for(o=t.charCodeAt(l),!0===p&&(s=255&o,o=s<<8|o>>>8),u=m+b,c=u>>>2;h.length<=c;)h.push(0);h[c]|=o<<8*(d+r*(u%4)),m+=2}return{value:h,binLen:8*m+i}}(t,e,i,r,n)};case"B64":return function(t,e,i){return function(t,e,n,i){let r,o,a,l,s,c,u,d=0;const p=e||[0],m=(n=n||0)>>>3,h=-1===i?3:0,b=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==b&&b<t.length)throw new Error("Invalid '=' found in base-64 string");for(o=0;o<t.length;o+=4){for(s=t.substr(o,4),l=0,a=0;a<s.length;a+=1)r=T.indexOf(s.charAt(a)),l|=r<<18-6*a;for(a=0;a<s.length-1;a+=1){for(u=d+m,c=u>>>2;p.length<=c;)p.push(0);p[c]|=(l>>>16-8*a&255)<<8*(h+i*(u%4)),d+=1}}return{value:p,binLen:8*d+n}}(t,e,i,n)};case"BYTES":return function(t,e,i){return function(t,e,n,i){let r,o,a,l;const s=e||[0],c=(n=n||0)>>>3,u=-1===i?3:0;for(o=0;o<t.length;o+=1)r=t.charCodeAt(o),l=o+c,a=l>>>2,s.length<=a&&s.push(0),s[a]|=r<<8*(u+i*(l%4));return{value:s,binLen:8*t.length+n}}(t,e,i,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t,e,i){return function(t,e,n,i){return C(new Uint8Array(t),e,n,i)}(t,e,i,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t,e,i){return C(t,e,i,n)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function Y(t,e,n,i){switch(t){case"HEX":return function(t){return function(t,e,n,i){let r,o,a="";const l=e/8,s=-1===n?3:0;for(r=0;r<l;r+=1)o=t[r>>>2]>>>8*(s+n*(r%4)),a+="0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o);return i.outputUpper?a.toUpperCase():a}(t,e,n,i)};case"B64":return function(t){return function(t,e,n,i){let r,o,a,l,s,c="";const u=e/8,d=-1===n?3:0;for(r=0;r<u;r+=3)for(l=r+1<u?t[r+1>>>2]:0,s=r+2<u?t[r+2>>>2]:0,a=(t[r>>>2]>>>8*(d+n*(r%4))&255)<<16|(l>>>8*(d+n*((r+1)%4))&255)<<8|s>>>8*(d+n*((r+2)%4))&255,o=0;o<4;o+=1)c+=8*r+6*o<=e?T.charAt(a>>>6*(3-o)&63):i.b64Pad;return c}(t,e,n,i)};case"BYTES":return function(t){return function(t,e,n){let i,r,o="";const a=e/8,l=-1===n?3:0;for(i=0;i<a;i+=1)r=t[i>>>2]>>>8*(l+n*(i%4))&255,o+=String.fromCharCode(r);return o}(t,e,n)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw new Error("ARRAYBUFFER not supported by this environment")}return function(t){return function(t,e,n){let i;const r=e/8,o=new ArrayBuffer(r),a=new Uint8Array(o),l=-1===n?3:0;for(i=0;i<r;i+=1)a[i]=t[i>>>2]>>>8*(l+n*(i%4))&255;return o}(t,e,n)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw new Error("UINT8ARRAY not supported by this environment")}return function(t){return function(t,e,n){let i;const r=e/8,o=-1===n?3:0,a=new Uint8Array(r);for(i=0;i<r;i+=1)a[i]=t[i>>>2]>>>8*(o+n*(i%4))&255;return a}(t,e,n)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const R=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],H=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],k=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function P(t){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},n=t||{},i="Output length must be a multiple of 8";if(e.outputUpper=n.outputUpper||!1,n.b64Pad&&(e.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(i);e.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(i);e.outputLen=n.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function N(t,e){return t>>>e|t<<32-e}function J(t,e){return t>>>e}function j(t,e,n){return t&e^~t&n}function z(t,e,n){return t&e^t&n^e&n}function U(t){return N(t,2)^N(t,13)^N(t,22)}function D(t,e){const n=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(n>>>16))<<16|65535&n}function F(t,e,n,i){const r=(65535&t)+(65535&e)+(65535&n)+(65535&i);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(i>>>16)+(r>>>16))<<16|65535&r}function E(t,e,n,i,r){const o=(65535&t)+(65535&e)+(65535&n)+(65535&i)+(65535&r);return(65535&(t>>>16)+(e>>>16)+(n>>>16)+(i>>>16)+(r>>>16)+(o>>>16))<<16|65535&o}function B(t){return N(t,7)^N(t,18)^J(t,3)}function Q(t){return N(t,6)^N(t,11)^N(t,25)}function O(t){let e;return e="SHA-224"==t?H.slice():k.slice(),e}function _(t,e){let n,i,r,o,a,l,s,c,u,d,p;const m=[];for(n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],l=e[5],s=e[6],c=e[7],p=0;p<64;p+=1)m[p]=p<16?t[p]:F(N(h=m[p-2],17)^N(h,19)^J(h,10),m[p-7],B(m[p-15]),m[p-16]),u=E(c,Q(a),j(a,l,s),R[p],m[p]),d=D(U(n),z(n,i,r)),c=s,s=l,l=a,a=D(o,u),o=r,r=i,i=n,n=D(u,d);var h;return e[0]=D(n,e[0]),e[1]=D(i,e[1]),e[2]=D(r,e[2]),e[3]=D(o,e[3]),e[4]=D(a,e[4]),e[5]=D(l,e[5]),e[6]=D(s,e[6]),e[7]=D(c,e[7]),e}for(var A=Object.freeze({__proto__:null,default:class extends class{constructor(t,e,n){const i=n||{};if(this.t=e,this.i=i.encoding||"UTF8",this.numRounds=i.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=t,this.o=[],this.h=0,this.u=!1,this.A=0,this.l=!1,this.p=[],this.R=[]}update(t){let e,n=0;const i=this.U>>>5,r=this.T(t,this.o,this.h),o=r.binLen,a=r.value,l=o>>>5;for(e=0;e<l;e+=i)n+this.U<=o&&(this.F=this.m(a.slice(e,e+i),this.F),n+=this.U);this.A+=n,this.o=a.slice(n>>>5),this.h=o%this.U,this.u=!0}getHash(t,e){let n,i,r=this.g;const o=P(e);if(this.B){if(-1===o.outputLen)throw new Error("Output length must be specified in options");r=o.outputLen}const a=Y(t,r,this.H,o);if(this.l&&this.v)return a(this.v(o));for(i=this.Y(this.o.slice(),this.h,this.A,this.C(this.F),r),n=1;n<this.numRounds;n+=1)this.B&&r%32!=0&&(i[i.length-1]&=16777215>>>24-r%32),i=this.Y(i,r,0,this.S(this.s),r);return a(i)}setHMACKey(t,e,n){if(!this.I)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const i=M(e,(n||{}).encoding||"UTF8",this.H);this.L(i(t))}L(t){const e=this.U>>>3,n=e/4-1;let i;if(1!==this.numRounds)throw new Error("Cannot set numRounds with MAC");if(this.l)throw new Error("MAC key already set");for(e<t.binLen/8&&(t.value=this.Y(t.value,t.binLen,0,this.S(this.s),this.g));t.value.length<=n;)t.value.push(0);for(i=0;i<=n;i+=1)this.p[i]=909522486^t.value[i],this.R[i]=1549556828^t.value[i];this.F=this.m(this.p,this.F),this.A=this.U,this.l=!0}getHMAC(t,e){const n=P(e);return Y(t,this.g,this.H,n)(this.M())}M(){let t;if(!this.l)throw new Error("Cannot call getHMAC without first setting MAC key");const e=this.Y(this.o.slice(),this.h,this.A,this.C(this.F),this.g);return t=this.m(this.R,this.S(this.s)),t=this.Y(e,this.g,this.U,t,this.g),t}}{constructor(t,e,n){if("SHA-224"!==t&&"SHA-256"!==t)throw new Error("Chosen SHA variant is not supported");super(t,e,n);const i=n||{};this.v=this.M,this.I=!0,this.H=-1,this.T=M(this.t,this.i,this.H),this.m=_,this.C=function(t){return t.slice()},this.S=O,this.Y=function(e,n,i,r){return function(t,e,n,i,r){let o,a;const l=15+(e+65>>>9<<4),s=e+n;for(;t.length<=l;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[l]=4294967295&s,t[l-1]=s/4294967296|0,o=0;o<t.length;o+=16)i=_(t.slice(o,o+16),i);return a="SHA-224"===r?[i[0],i[1],i[2],i[3],i[4],i[5],i[6]]:i,a}(e,n,i,r,t)},this.F=O(t),this.U=512,this.g="SHA-224"===t?224:256,this.B=!1,i.hmacKey&&this.L(function(t,e,n,i){const r="hmacKey must include a value and format";if(!e)throw new Error(r);if(void 0===e.value||!e.format)throw new Error(r);return M(e.format,e.encoding||"UTF8",n)(e.value)}(0,i.hmacKey,this.H))}}}),q=function(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})})),e}(A),$=r((function(t,e){var n=i&&i.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},r=i&&i.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},o=i&&i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Auth=void 0;var a=o(q),l="persisttk",s=12e5,c=function(t){return!!(t&&+new Date<t-6e4)},u=function(){function t(t){this.pending=!1,this.pendingTasks=[],this.loginFailed=!1,this.lastLogin=0,this.app_name=t.app_name,this.secret_key=t.secret_key,this.host=t.host,this.storage=new x.MdapStorage({name:"mdap_persisttk_"+this.app_name+"_"+t.env})}return t.prototype.onFulfilled=function(){for(var t;this.pendingTasks.length;){var e=(null!==(t=this.pendingTasks.shift())&&void 0!==t?t:{}).executor;null==e||e(!0)}},t.prototype.onRejected=function(){for(var t;this.pendingTasks.length;){var e=(null!==(t=this.pendingTasks.shift())&&void 0!==t?t:{}).reject;null==e||e(!1)}},t.prototype.getCachedToken=function(){var t=this.storage.getObject(l);if(!this.token||(null==t?void 0:t.token)!==this.token)return(null==t?void 0:t.maxAge)&&t.lastUpdate&&(new Date).getTime()>=t.lastUpdate&&c(t.lastUpdate+t.maxAge)?(this.tokenExpireAt=t.lastUpdate+t.maxAge,t.token):void 0},t.prototype.cacheToken=function(t){var e=+new Date;this.storage.setObject(l,{lastUpdate:e,token:t.access_token,maxAge:t.max_age?1e3*t.max_age:s})},t.prototype.fetchToken=function(){return n(this,void 0,void 0,(function(){var t,e,n,i,o,l;return r(this,(function(r){switch(r.label){case 0:if(this.pending)return[2];if(t=this.getCachedToken())return this.token=t,this.onFulfilled(),this.loginFailed=!1,[2,{access_token:t}];this.pending=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),e=+new Date,(n=new a.default("SHA-256","TEXT")).update(""+this.app_name+this.secret_key+e),i=n.getHash("HEX"),[4,I.APIs.postXHR({url:""+this.host+W.apiMaps.login,data:{app_name:this.app_name,sign:i,timestamp:e}})];case 2:return function(t){var e;return null===(e=t)||void 0===e?void 0:e.access_token}(o=r.sent())?(this.token=o.access_token,this.onFulfilled(),this.pending=!1,this.loginFailed=!1,this.lastLogin=+new Date,l=o.max_age?1e3*o.max_age:s,this.tokenExpireAt=l+ +new Date,this.cacheToken(o),[2,o]):[3,4];case 3:return r.sent(),[3,4];case 4:return this.onRejected(),this.pending=!1,this.loginFailed=!0,this.lastLogin=+new Date,[2,!1]}}))}))},t.prototype.checkAuth=function(){return n(this,void 0,void 0,(function(){var t,e,n=this;return r(this,(function(i){return t=c(this.tokenExpireAt),this.pending||this.loginFailed||!t?(e=+new Date-this.lastLogin>6e4,this.loginFailed&&!e?[2,Promise.reject(new Error("login failed"))]:e||!t?[2,this.updateAuth()]:[2,new Promise((function(t,e){n.pendingTasks.push({executor:t,reject:e})}))]):[2,!0]}))}))},t.prototype.updateAuth=function(){return n(this,void 0,void 0,(function(){var t,e=this;return r(this,(function(n){return t=this.token,this.pending||this.fetchToken(),this.token&&t!==this.token?[2,!0]:[2,new Promise((function(t,n){e.pendingTasks.push({executor:t,reject:n})}))]}))}))},t.prototype.authRetryWrapper=function(t){return n(this,void 0,void 0,(function(){var e,i,o=this;return r(this,(function(a){return e=0,i=function(){return n(o,void 0,void 0,(function(){var n,o,a;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return[2,r.sent()];case 2:if(n=r.sent(),o=null==n?void 0:n.code,"string"==typeof n)try{a=JSON.parse(n),o=null==a?void 0:a.code}catch(t){}if(![W.API_ERROR_CODE.UNAUTHORIZED_TOKEN,W.API_ERROR_CODE.TOKEN_EXPIRED].includes(o))throw n;return[3,3];case 3:return e>=2?(this.loginFailed=!0,[2]):(e+=1,[4,this.updateAuth()]);case 4:return r.sent(),[2,i()]}}))}))},[2,i()]}))}))},t}();e.Auth=u})),tt=r((function(t,e){var n=i&&i.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},r=i&&i.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Encryption=void 0;var o=function(){function t(){this.enable=!1,this.keyVersion=""}return Object.defineProperty(t,"supported",{get:function(){var t,e;return"ArrayBuffer"in self&&"function"==typeof(null===(e=null===(t=window.crypto)||void 0===t?void 0:t.subtle)||void 0===e?void 0:e.importKey)&&"function"==typeof window.crypto.getRandomValues&&"TextEncoder"in self&&"Uint8Array"in self&&"function"==typeof window.atob&&"function"==typeof window.crypto.subtle.encrypt},enumerable:!1,configurable:!0}),t.prototype.init=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:if(!this.pem)throw new Error("[MDAP] Public key cannot be empty.");return[4,Promise.all([this.initAESKey(),this.getPublicKey(this.pem)])];case 1:return t.sent(),[2]}}))}))},t.prototype.initAESKey=function(){return n(this,void 0,void 0,(function(){var t,e;return r(this,(function(n){switch(n.label){case 0:return t=this,[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"])];case 1:return t.privateKey=n.sent(),[4,window.crypto.subtle.exportKey("raw",this.privateKey)];case 2:return e=n.sent(),this.privateKeyBuf=new Uint8Array(e),[2,this.privateKey]}}))}))},t.prototype.getPublicKey=function(t){return n(this,void 0,void 0,(function(){var e,n,i,o;return r(this,(function(r){switch(r.label){case 0:return e=t.substring("-----BEGIN PUBLIC KEY-----".length,t.length-"-----END PUBLIC KEY-----".length),n=window.atob(e),i=function(t){for(var e=new Uint8Array(t.length),n=0,i=t.length;n<i;n++)e[n]=t.charCodeAt(n);return e.buffer}(n),o=this,[4,window.crypto.subtle.importKey("spki",i,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"])];case 1:return o.publicKey=r.sent(),[2,this.publicKey]}}))}))},t.prototype.updateNonce=function(){this.nonce=window.crypto.getRandomValues(new Uint8Array(12))},t.prototype.encryptKey=function(){return n(this,void 0,void 0,(function(){var t,e;return r(this,(function(n){switch(n.label){case 0:return this.privateKeyBuf&&this.nonce&&this.publicKey?((t=new Uint8Array(this.privateKeyBuf.length+this.nonce.length)).set(this.privateKeyBuf),t.set(this.nonce,this.privateKeyBuf.length),[4,window.crypto.subtle.encrypt({name:"RSA-OAEP"},this.publicKey,t.buffer)]):[2,""];case 1:return e=n.sent(),this.cipherKey=btoa(String.fromCharCode.apply(null,new Uint8Array(e))),[2,this.cipherKey]}}))}))},t.prototype.encryptData=function(t){return n(this,void 0,void 0,(function(){var e,n,i;return r(this,(function(r){switch(r.label){case 0:if(!this.privateKey)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),e=t,"string"!=typeof t&&(e=JSON.stringify(t)),n=new TextEncoder,i=n.encode(e),[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:this.nonce},this.privateKey,i)];case 2:return[2,r.sent()];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.encryt=function(t){return n(this,void 0,void 0,(function(){var e,n;return r(this,(function(i){switch(i.label){case 0:return this.publicKey&&this.privateKeyBuf?[3,2]:[4,this.init()];case 1:i.sent(),i.label=2;case 2:return this.updateNonce(),[4,this.encryptKey()];case 3:return e=i.sent(),[4,this.encryptData(t)];case 4:return n=i.sent(),[2,{secretKey:e,cipherData:n}]}}))}))},t}();e.Encryption=o})),et=r((function(t,e){var n,r=i&&i.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i&&i.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=i&&i.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},l=i&&i.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},s=i&&i.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.Network=e.REQUEST_FAILED=void 0;var c=W;e.REQUEST_FAILED=-999;var u=function(t){function n(e){var n,i=t.call(this,{app_name:e.app_name,secret_key:e.secret_key,host:e.report_host||(null!==(n=c.host[e.env])&&void 0!==n?n:c.host.test),env:e.env})||this;return i.inited=!1,i.fetchToken(),i}return r(n,t),n.prototype.getReportDataUrl=function(t){return""+this.host+c.API_PREFIX+"/"+this.app_name+"/tags/"+t+"/event/json"},n.prototype.getReportDataFileUrl=function(t){return""+this.host+c.API_PREFIX+"/"+this.app_name+"/tags/"+t+"/event/formdata"},n.prototype.getReportBulkUrl=function(t){return""+this.host+c.API_PREFIX+"/"+this.app_name+"/tags/"+t+"/event/json/_bulk"},n.prototype.getRemoteConfigUrl=function(){return this.host+"/dem/kose/v1/apps/"+this.app_name+"/configs/_fetch"},n.prototype.getPreflightUrl=function(t){return""+this.host+c.API_PREFIX+"/"+this.app_name+"/tags/"+t+"/preflight"},n.prototype.fetchRemoteConfigs=function(t){var e;return a(this,void 0,void 0,(function(){var n,i,r,a,c,u,d;return l(this,(function(l){switch(l.label){case 0:return[4,this.checkAuth()];case 1:return l.sent(),n=this.getRemoteConfigUrl(),i=(new Date).getTime(),[4,I.APIs.post({url:n,token:this.token,data:t})];case 2:return r=l.sent(),a=(new Date).getTime(),function(t){var e,n;return null===(n=null===(e=t)||void 0===e?void 0:e.configs)||void 0===n?void 0:n.length}(r)?(c=r.configs,u=s(r,["configs"]),d=(0,w.getTimeOffset)(i,u.ntp_t2,u.ntp_t3,a),[2,o(o({config:null===(e=null==c?void 0:c.filter((function(t){return"web-performance"===t.tag})))||void 0===e?void 0:e[0]},u),{time_offset:d})]):[2,void 0]}}))}))},n.prototype.setEncryptionConfig=function(t){var e,n,i,r,o;try{var a=null===(i=null===(n=null===(e=t.config)||void 0===e?void 0:e.switch_config)||void 0===n?void 0:n.switch_config)||void 0===i?void 0:i.encryption_mode;if(!t.public_key||a!==W.EncryptionMode.CIPHER&&(a!==W.EncryptionMode.CIPHER_EXCEPT_WHITELIST||(null===(r=t.config)||void 0===r?void 0:r.vip_user))||!tt.Encryption.supported)return;this.encryption=new tt.Encryption,this.encryption.enable=!0,this.encryption.pem=t.public_key,this.encryption.keyVersion=null!==(o=t.key_version)&&void 0!==o?o:""}catch(t){V.Logger.warn("Failed to init encryption module.")}},n.prototype.sendRequest=function(t){var e;return a(this,void 0,void 0,(function(){var n,i;return l(this,(function(r){switch(r.label){case 0:return[4,this.checkAuth()];case 1:return r.sent(),n=t.reportData.tag,I.APIs.inited?[3,3]:(i=this.getPreflightUrl(n),[4,I.APIs.ensureKeepaliveFetch(i,this.token)]);case 2:r.sent(),r.label=3;case 3:return(null===(e=this.encryption)||void 0===e?void 0:e.enable)?[2,this.sendCipherData(t)]:[2,this.sendPlainData(t)]}}))}))},n.prototype.sendPlainData=function(t){return a(this,void 0,void 0,(function(){var n,i=this;return l(this,(function(r){return n=function(){return a(i,void 0,void 0,(function(){var n,i,r,o,a,s,c,u,d;return l(this,(function(l){switch(l.label){case 0:return n=t.reportData,i=t.pageUnload,r=void 0!==i&&i,o=n.tag,I.APIs.supportFetchKeepAlive?(a=this.getReportDataUrl(o),[4,I.APIs.fetchPost({url:a,data:n,token:this.token})]):[3,2];case 1:return u=l.sent(),V.Logger.info("[MDAP] post successfully - event_id "+(null==u?void 0:u.event_id)),[2,u];case 2:return r&&I.APIs.supportSendBeacon?(s=this.token?"?access_token="+this.token:"",c=""+this.getReportDataFileUrl(o)+s,(u=I.APIs.sendBeacon({url:c,data:n}))?[2]:[2,e.REQUEST_FAILED]):r?[2,e.REQUEST_FAILED]:(d=this.getReportDataUrl(o),[2,I.APIs.postXHR({url:d,data:n,token:this.token,async:!r})])}}))}))},[2,this.authRetryWrapper(n)]}))}))},n.prototype.sendCipherData=function(t){var n;return a(this,void 0,void 0,(function(){var i,r,o,s,c,u,d=this;return l(this,(function(p){switch(p.label){case 0:if(i=t.reportData,void 0!==(r=t.pageUnload)&&r)return[2,e.REQUEST_FAILED];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.encryption.encryt(i)];case 2:return o=p.sent(),[3,4];case 3:return s=p.sent(),V.Logger.warn("[MDAP] Failed to encrypt data.",null!==(n=null==s?void 0:s.message)&&void 0!==n?n:""),[2,this.sendPlainData(t)];case 4:return c=I.APIs.isLimitedDataSize(o.cipherData),u=function(){return a(d,void 0,void 0,(function(){var t,n,r,a,s,u,d;return l(this,(function(l){switch(l.label){case 0:return t=i.tag,c&&I.APIs.supportFetchKeepAlive?(n=this.getReportDataUrl(t),[4,I.APIs.fetchPostCipher({url:n,data:o.cipherData,token:this.token,secretKey:o.secretKey,secretKeyVersion:this.encryption.keyVersion})]):[3,2];case 1:return s=l.sent(),V.Logger.info("[MDAP] post successfully - event_id "+(null==s?void 0:s.event_id)),[2,s];case 2:return c&&I.APIs.supportSendBeacon?(r=this.token?"?access_token="+this.token+"&encrypted_key="+encodeURIComponent(o.secretKey)+"&algkey_version="+encodeURIComponent("v1;"+(null===(d=this.encryption)||void 0===d?void 0:d.keyVersion)):"",a=""+this.getReportDataUrl(t)+r,(s=I.APIs.sendBeaconCipher({url:a,data:o.cipherData}))?[2]:[2,e.REQUEST_FAILED]):(u=this.getReportDataUrl(t),[2,I.APIs.postCipher({url:u,data:o.cipherData,token:this.token,secretKey:o.secretKey,secretKeyVersion:this.encryption.keyVersion})])}}))}))},[2,this.authRetryWrapper(u)]}}))}))},n.prototype.sendConfigMonitor=function(t){return a(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:return[4,this.checkAuth()];case 1:return n.sent(),e=this.getReportDataUrl(t.tag),[4,I.APIs.post({url:e,token:this.token,data:t})];case 2:return n.sent(),[2]}}))}))},n.prototype.sendBulk=function(t){var e;return a(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,this.checkAuth()];case 1:return n.sent(),(null===(e=this.encryption)||void 0===e?void 0:e.enable)?[2,this.sendCipherBulk(t)]:[2,this.sendPlainBulk(t)]}}))}))},n.prototype.sendPlainBulk=function(t){return a(this,void 0,void 0,(function(){var e,n,i=this;return l(this,(function(r){return e=this.getReportBulkUrl(t.tag),n=function(){return a(i,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,I.APIs.post({url:e,data:{events:t.data},token:this.token})];case 1:return[2,n.sent()]}}))}))},[2,this.authRetryWrapper(n)]}))}))},n.prototype.sendCipherBulk=function(t){return a(this,void 0,void 0,(function(){var e,n,i,r,o,s=this;return l(this,(function(c){switch(c.label){case 0:e=t.data,n=t.tag,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.encryption.encryt({events:e})];case 2:return i=c.sent(),[3,4];case 3:return c.sent(),[2,this.sendPlainBulk(t)];case 4:return r=this.getReportBulkUrl(n),o=function(){return a(s,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,I.APIs.postCipher({url:r,data:i.cipherData,token:this.token,secretKey:i.secretKey,secretKeyVersion:this.encryption.keyVersion})];case 1:return[2,t.sent()]}}))}))},[2,this.authRetryWrapper(o)]}}))}))},n}($.Auth);e.Network=u})),nt=r((function(t,e){var n=i&&i.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},r=i&&i.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.OfflineStore=void 0;var o=function(){function t(t,e){this.pending=!1;try{this.storage=new x.MdapStorage({name:"mdap_offlinestore_"+t}),this.network=e}catch(t){}}return t.prototype.setup=function(){var t=this;x.supportLocalstorage&&("requestIdleCallback"in window?requestIdleCallback(this.checkCache.bind(this)):setTimeout((function(){t.checkCache()}),0),window.addEventListener("online",(function(){t.checkCache()})))},t.prototype.checkCache=function(){var t,e,i;return n(this,void 0,void 0,(function(){var n,o,a,l,s,c,u,d,p,m;return r(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),this.pending&&!x.supportLocalstorage)return[2];for(this.pending=!0,n=null!==(t=this.storage.getKeys())&&void 0!==t?t:[],o={},a=0,l=n;a<l.length;a++)s=l[a],(c=this.storage.getObject(s))&&(c instanceof Array?(p=c[0].tag,o[p]=null!==(e=c[p])&&void 0!==e?e:[],(m=o[p]).push.apply(m,c)):(p=c.tag,o[p]=null!==(i=c[p])&&void 0!==i?i:[],o[p].push(c)),this.storage.removeItem(s));u=0,d=Object.keys(o),r.label=1;case 1:return u<d.length?(p=d[u],[4,this.network.sendBulk({tag:p,data:o[p]})]):[3,4];case 2:r.sent(),r.label=3;case 3:return u++,[3,1];case 4:return this.pending=!1,[2,!0];case 5:return r.sent(),this.pending=!1,[2,!1];case 6:return[2]}}))}))},t.prototype.checkLimit=function(){var t,e=null!==(t=this.storage.getKeys())&&void 0!==t?t:[];if(e.length<30)return!0;for(var n=0,i=e.sort((function(t,e){return t>e?-1:1})).slice(29,e.length);n<i.length;n++){var r=i[n];this.storage.removeItem(r)}},t.prototype.cacheData=function(t){return n(this,void 0,void 0,(function(){var e;return r(this,(function(n){if(!x.supportLocalstorage)return[2];try{this.checkLimit(),e="data_"+ +new Date,this.storage.setObject(e,t)}catch(t){V.Logger.log("[MDAP] Failed to cache data.")}return[2]}))}))},t}();e.OfflineStore=o})),it=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=void 0,e.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}})),rt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){return new Promise((function(n){return setTimeout(n,t,e)}))}function i(t,e){try{var n=t();(i=n)&&"function"==typeof i.then?n.then((function(t){return e(!0,t)}),(function(t){return e(!1,t)})):e(!0,n)}catch(t){e(!1,t)}var i}function r(t,e,i){return void 0===i&&(i=16),v.__awaiter(this,void 0,void 0,(function(){var r,o,a;return v.__generator(this,(function(l){switch(l.label){case 0:r=Date.now(),o=0,l.label=1;case 1:return o<t.length?(e(t[o],o),(a=Date.now())>=r+i?(r=a,[4,n(0)]):[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:return++o,[3,1];case 4:return[2]}}))}))}function o(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]+e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function a(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var n=[0,0,0,0];return n[3]+=t[3]*e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(t,e){return 32==(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function s(t,e){return 0==(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function c(t,e){return[t[0]^e[0],t[1]^e[1]]}function u(t){return t=c(t,[0,t[0]>>>1]),t=c(t=a(t,[4283543511,3981806797]),[0,t[0]>>>1]),c(t=a(t,[3301882366,444984403]),[0,t[0]>>>1])}function d(t,e){e=e||0;var n,i=(t=t||"").length%16,r=t.length-i,d=[0,e],p=[0,e],m=[0,0],h=[0,0],b=[2277735313,289559509],y=[1291169091,658871167];for(n=0;n<r;n+=16)m=[255&t.charCodeAt(n+4)|(255&t.charCodeAt(n+5))<<8|(255&t.charCodeAt(n+6))<<16|(255&t.charCodeAt(n+7))<<24,255&t.charCodeAt(n)|(255&t.charCodeAt(n+1))<<8|(255&t.charCodeAt(n+2))<<16|(255&t.charCodeAt(n+3))<<24],h=[255&t.charCodeAt(n+12)|(255&t.charCodeAt(n+13))<<8|(255&t.charCodeAt(n+14))<<16|(255&t.charCodeAt(n+15))<<24,255&t.charCodeAt(n+8)|(255&t.charCodeAt(n+9))<<8|(255&t.charCodeAt(n+10))<<16|(255&t.charCodeAt(n+11))<<24],m=l(m=a(m,b),31),d=o(d=l(d=c(d,m=a(m,y)),27),p),d=o(a(d,[0,5]),[0,1390208809]),h=l(h=a(h,y),33),p=o(p=l(p=c(p,h=a(h,b)),31),d),p=o(a(p,[0,5]),[0,944331445]);switch(m=[0,0],h=[0,0],i){case 15:h=c(h,s([0,t.charCodeAt(n+14)],48));case 14:h=c(h,s([0,t.charCodeAt(n+13)],40));case 13:h=c(h,s([0,t.charCodeAt(n+12)],32));case 12:h=c(h,s([0,t.charCodeAt(n+11)],24));case 11:h=c(h,s([0,t.charCodeAt(n+10)],16));case 10:h=c(h,s([0,t.charCodeAt(n+9)],8));case 9:h=a(h=c(h,[0,t.charCodeAt(n+8)]),y),p=c(p,h=a(h=l(h,33),b));case 8:m=c(m,s([0,t.charCodeAt(n+7)],56));case 7:m=c(m,s([0,t.charCodeAt(n+6)],48));case 6:m=c(m,s([0,t.charCodeAt(n+5)],40));case 5:m=c(m,s([0,t.charCodeAt(n+4)],32));case 4:m=c(m,s([0,t.charCodeAt(n+3)],24));case 3:m=c(m,s([0,t.charCodeAt(n+2)],16));case 2:m=c(m,s([0,t.charCodeAt(n+1)],8));case 1:m=a(m=c(m,[0,t.charCodeAt(n)]),b),d=c(d,m=a(m=l(m,31),y))}return d=o(d=c(d,[0,t.length]),p=c(p,[0,t.length])),p=o(p,d),d=o(d=u(d),p=u(p)),p=o(p,d),("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)+("00000000"+(p[0]>>>0).toString(16)).slice(-8)+("00000000"+(p[1]>>>0).toString(16)).slice(-8)}function p(t){return parseInt(t)}function m(t){return parseFloat(t)}function h(t,e){return"number"==typeof t&&isNaN(t)?e:t}function b(t){return t.reduce((function(t,e){return t+(e?1:0)}),0)}function y(t,e){if(void 0===e&&(e=1),Math.abs(e)>=1)return Math.round(t/e)*e;var n=1/e;return Math.round(t*n)/n}function f(t){return t&&"object"==typeof t&&"message"in t?t:{message:t}}function Z(t,e,o){var a=Object.keys(t).filter((function(t){return!function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return!0;return!1}(o,t)})),l=Array(a.length);return r(a,(function(n,r){l[r]=function(t,e){var n=function(t){return"function"!=typeof t},r=new Promise((function(r){var o=Date.now();i(t.bind(null,e),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var a=Date.now()-o;if(!t[0])return r((function(){return{error:f(t[1]),duration:a}}));var l=t[1];if(n(l))return r((function(){return{value:l,duration:a}}));r((function(){return new Promise((function(t){var e=Date.now();i(l,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=a+Date.now()-e;if(!n[0])return t({error:f(n[1]),duration:r});t({value:n[1],duration:r})}))}))}))}))}));return function(){return r.then((function(t){return t()}))}}(t[n],e)})),function(){return v.__awaiter(this,void 0,void 0,(function(){var t,e,i,o,s,c;return v.__generator(this,(function(u){switch(u.label){case 0:for(t={},e=0,i=a;e<i.length;e++)o=i[e],t[o]=void 0;s=Array(a.length),c=function(){var e;return v.__generator(this,(function(i){switch(i.label){case 0:return e=!0,[4,r(a,(function(n,i){s[i]||(l[i]?s[i]=l[i]().then((function(e){return t[n]=e})):e=!1)}))];case 1:return i.sent(),e?[2,"break"]:[4,n(1)];case 2:return i.sent(),[2]}}))},u.label=1;case 1:return[5,c()];case 2:if("break"===u.sent())return[3,4];u.label=3;case 3:return[3,1];case 4:return[4,Promise.all(s)];case 5:return u.sent(),[2,t]}}))}))}}function G(){var t=window,e=navigator;return b(["MSCSSMatrix"in t,"msSetImmediate"in t,"msIndexedDB"in t,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function X(){var t=window,e=navigator;return b(["msWriteProfilerMark"in t,"MSStream"in t,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!G()}function g(){var t=window,e=navigator;return b(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,0===e.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in t,"BatteryManager"in t,"webkitMediaStream"in t,"webkitSpeechGrammar"in t])>=5}function K(){var t=window,e=navigator;return b(["ApplePayError"in t,"CSSPrimitiveValue"in t,"Counter"in t,0===e.vendor.indexOf("Apple"),"getStorageUpdates"in e,"WebKitMediaKeys"in t])>=4}function S(){var t=window;return b(["safari"in t,!("DeviceMotionEvent"in t),!("ongestureend"in t),!("standalone"in navigator)])>=3}function I(){var t,e,n=window;return b(["buildID"in navigator,"MozAppearance"in(null!==(e=null===(t=document.documentElement)||void 0===t?void 0:t.style)&&void 0!==e?e:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function x(){var t=document;return t.fullscreenElement||t.msFullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||null}function L(){var t=document;return(t.exitFullscreen||t.msExitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen).call(t)}function W(){var t=g(),e=I();if(!t&&!e)return!1;var n=window;return b(["onorientationchange"in n,"orientation"in n,t&&!("SharedWorker"in n),e&&/android/i.test(navigator.appVersion)])>=2}function V(t){var e=new Error(t);return e.name=t,e}function w(t,e,i){var r,o,a;return void 0===i&&(i=50),v.__awaiter(this,void 0,void 0,(function(){var l,s;return v.__generator(this,(function(c){switch(c.label){case 0:l=document,c.label=1;case 1:return l.body?[3,3]:[4,n(i)];case 2:return c.sent(),[3,1];case 3:s=l.createElement("iframe"),c.label=4;case 4:return c.trys.push([4,,10,11]),[4,new Promise((function(t,n){var i=!1,r=function(){i=!0,t()};s.onload=r,s.onerror=function(t){i=!0,n(t)};var o=s.style;o.setProperty("display","block","important"),o.position="absolute",o.top="0",o.left="0",o.visibility="hidden",e&&"srcdoc"in s?s.srcdoc=e:s.src="about:blank",l.body.appendChild(s);var a=function(){var t,e;i||("complete"===(null===(e=null===(t=s.contentWindow)||void 0===t?void 0:t.document)||void 0===e?void 0:e.readyState)?r():setTimeout(a,10))};a()}))];case 5:c.sent(),c.label=6;case 6:return(null===(o=null===(r=s.contentWindow)||void 0===r?void 0:r.document)||void 0===o?void 0:o.body)?[3,8]:[4,n(i)];case 7:return c.sent(),[3,6];case 8:return[4,t(s,s.contentWindow)];case 9:return[2,c.sent()];case 10:return null===(a=s.parentNode)||void 0===a||a.removeChild(s),[7];case 11:return[2]}}))}))}function T(t){for(var e=function(t){for(var e,n,i="Unexpected syntax '"+t+"'",r=/^\s*([a-z-]*)(.*)$/i.exec(t),o=r[1]||void 0,a={},l=/([.:#][\w-]+|\[.+?\])/gi,s=function(t,e){a[t]=a[t]||[],a[t].push(e)};;){var c=l.exec(r[2]);if(!c)break;var u=c[0];switch(u[0]){case".":s("class",u.slice(1));break;case"#":s("id",u.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(u);if(!d)throw new Error(i);s(d[1],null!==(n=null!==(e=d[4])&&void 0!==e?e:d[5])&&void 0!==n?n:"");break;default:throw new Error(i)}}return[o,a]}(t),n=e[0],i=e[1],r=document.createElement(null!=n?n:"div"),o=0,a=Object.keys(i);o<a.length;o++){var l=a[o],s=i[l].join(" ");"style"===l?C(r.style,s):r.setAttribute(l,s)}return r}function C(t,e){for(var n=0,i=e.split(";");n<i.length;n++){var r=i[n],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(r);if(o){var a=o[1],l=o[2],s=o[4];t.setProperty(a,l,s||"")}}}var M,Y,R=["monospace","sans-serif","serif"],H=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function k(t){return t.rect(0,0,10,10),t.rect(2,2,6,6),!t.isPointInPath(5,5,"evenodd")}function P(t,e){t.width=240,t.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var n="Cwm fjordbank gly "+String.fromCharCode(55357,56835);return e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(n,4,45),J(t)}function N(t,e){t.width=122,t.height=110,e.globalCompositeOperation="multiply";for(var n=0,i=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<i.length;n++){var r=i[n],o=r[0],a=r[1],l=r[2];e.fillStyle=o,e.beginPath(),e.arc(a,l,40,0,2*Math.PI,!0),e.closePath(),e.fill()}return e.fillStyle="#f9c",e.arc(60,60,60,0,2*Math.PI,!0),e.arc(60,60,20,0,2*Math.PI,!0),e.fill("evenodd"),J(t)}function J(t){return t.toDataURL()}function j(){var t=this;return function(){if(void 0===Y){var t=function(){var e=z();U(e)?Y=setTimeout(t,2500):(M=e,Y=void 0)};t()}}(),function(){return v.__awaiter(t,void 0,void 0,(function(){var t;return v.__generator(this,(function(e){switch(e.label){case 0:return U(t=z())?M?[2,v.__spreadArrays(M)]:x()?[4,L()]:[3,2]:[3,2];case 1:e.sent(),t=z(),e.label=2;case 2:return U(t)||(M=t),[2,t]}}))}))}}function z(){var t=screen;return[h(m(t.availTop),null),h(m(t.width)-m(t.availWidth)-h(m(t.availLeft),0),null),h(m(t.height)-m(t.availHeight)-h(m(t.availTop),0),null),h(m(t.availLeft),null)]}function U(t){for(var e=0;e<4;++e)if(t[e])return!1;return!0}var D={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function F(t){var e;return v.__awaiter(this,void 0,void 0,(function(){var i,r,o,a,l,s,c;return v.__generator(this,(function(u){switch(u.label){case 0:for(i=document,r=i.createElement("div"),o=new Array(t.length),a={},E(r),c=0;c<t.length;++c)l=T(t[c]),E(s=i.createElement("div")),s.appendChild(l),r.appendChild(s),o[c]=l;u.label=1;case 1:return i.body?[3,3]:[4,n(50)];case 2:return u.sent(),[3,1];case 3:i.body.appendChild(r);try{for(c=0;c<t.length;++c)o[c].offsetParent||(a[t[c]]=!0)}finally{null===(e=r.parentNode)||void 0===e||e.removeChild(r)}return[2,a]}}))}))}function E(t){t.style.setProperty("display","block","important")}function B(t){return matchMedia("(inverted-colors: "+t+")").matches}function Q(t){return matchMedia("(forced-colors: "+t+")").matches}function O(t){return matchMedia("(prefers-contrast: "+t+")").matches}function _(t){return matchMedia("(prefers-reduced-motion: "+t+")").matches}function A(t){return matchMedia("(dynamic-range: "+t+")").matches}var q=Math,$=function(){return 0},tt={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},et={fonts:function(){return w((function(t,e){var n=e.document,i=n.body;i.style.fontSize="48px";var r=n.createElement("div"),o={},a={},l=function(t){var e=n.createElement("span"),i=e.style;return i.position="absolute",i.top="0",i.left="0",i.fontFamily=t,e.textContent="mmMwWLliI0O&1",r.appendChild(e),e},s=R.map(l),c=function(){for(var t={},e=function(e){t[e]=R.map((function(t){return function(t,e){return l("'"+t+"',"+e)}(e,t)}))},n=0,i=H;n<i.length;n++)e(i[n]);return t}();i.appendChild(r);for(var u=0;u<R.length;u++)o[R[u]]=s[u].offsetWidth,a[R[u]]=s[u].offsetHeight;return H.filter((function(t){return e=c[t],R.some((function(t,n){return e[n].offsetWidth!==o[t]||e[n].offsetHeight!==a[t]}));var e}))}))},domBlockers:function(t){var e=(void 0===t?{}:t).debug;return v.__awaiter(this,void 0,void 0,(function(){var t,n,i,r;return v.__generator(this,(function(o){switch(o.label){case 0:return K()||W()?(t=Object.keys(D),[4,F((r=[]).concat.apply(r,t.map((function(t){return D[t]}))))]):[2,void 0];case 1:return n=o.sent(),e&&function(t){for(var e="DOM blockers debug:\n```",n=0,i=Object.keys(D);n<i.length;n++){var r=i[n];e+="\n"+r+":";for(var o=0,a=D[r];o<a.length;o++){var l=a[o];e+="\n  "+l+" "+(t[l]?"ðŸš«":"âž¡ï¸")}}console.log(e+"\n```")}(n),(i=t.filter((function(t){var e=D[t];return b(e.map((function(t){return n[t]})))>.6*e.length}))).sort(),[2,i]}}))}))},fontPreferences:function(){return function(t,e){return void 0===e&&(e=4e3),w((function(t,n){var i=n.document,r=i.body,o=r.style;o.width=e+"px",o.webkitTextSizeAdjust=o.textSizeAdjust="none",g()?r.style.zoom=""+1/n.devicePixelRatio:K()&&(r.style.zoom="reset");var a=i.createElement("div");return a.textContent=v.__spreadArrays(Array(e/20<<0)).map((function(){return"word"})).join(" "),r.appendChild(a),function(t,e){for(var n={},i={},r=0,o=Object.keys(tt);r<o.length;r++){var a=o[r],l=tt[a],s=l[0],c=void 0===s?{}:s,u=l[1],d=void 0===u?"mmMwWLliI0fiflO&1":u,p=t.createElement("span");p.textContent=d,p.style.whiteSpace="nowrap";for(var m=0,h=Object.keys(c);m<h.length;m++){var b=h[m],y=c[b];void 0!==y&&(p.style[b]=y)}n[a]=p,e.appendChild(t.createElement("br")),e.appendChild(p)}for(var f=0,Z=Object.keys(tt);f<Z.length;f++)i[a=Z[f]]=n[a].getBoundingClientRect().width;return i}(i,r)}),'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}()},audio:function(){var t=window,e=t.OfflineAudioContext||t.webkitOfflineAudioContext;if(!e)return-2;if(K()&&!S()&&!function(){var t=window;return b(["DOMRectList"in t,"RTCPeerConnectionIceEvent"in t,"SVGGeometryElement"in t,"ontransitioncancel"in t])>=3}())return-1;var n=new e(1,5e3,44100),i=n.createOscillator();i.type="triangle",i.frequency.value=1e4;var r=n.createDynamicsCompressor();r.threshold.value=-50,r.knee.value=40,r.ratio.value=12,r.attack.value=0,r.release.value=.25,i.connect(r),r.connect(n.destination),i.start(0);var o=function(t){var e=function(){},n=new Promise((function(n,i){var r=!1,o=0,a=0;t.oncomplete=function(t){return n(t.renderedBuffer)};var l=function(){setTimeout((function(){return i(V("timeout"))}),Math.min(500,a+5e3-Date.now()))},s=function(){try{switch(t.startRendering(),t.state){case"running":a=Date.now(),r&&l();break;case"suspended":document.hidden||o++,r&&o>=3?i(V("suspended")):setTimeout(s,500)}}catch(t){i(t)}};s(),e=function(){r||(r=!0,a>0&&l())}}));return[n,e]}(n),a=o[0],l=o[1],s=a.then((function(t){return function(t){for(var e=0,n=0;n<t.length;++n)e+=Math.abs(t[n]);return e}(t.getChannelData(0).subarray(4500))}),(function(t){if("timeout"===t.name||"suspended"===t.name)return-3;throw t}));return s.catch((function(){})),function(){return l(),s}},screenFrame:function(){var t=this,e=j();return function(){return v.__awaiter(t,void 0,void 0,(function(){var t,n;return v.__generator(this,(function(i){switch(i.label){case 0:return[4,e()];case 1:return t=i.sent(),[2,[(n=function(t){return null===t?null:y(t,10)})(t[0]),n(t[1]),n(t[2]),n(t[3])]]}}))}))}},osCpu:function(){return navigator.oscpu},languages:function(){var t=navigator,e=[],n=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==n&&e.push([n]),Array.isArray(t.languages))g()&&function(){var t=window;return b([!("MediaSettingsRange"in t),"RTCEncodedAudioFrame"in t,""+t.Intl=="[object Intl]",""+t.Reflect=="[object Reflect]"])>=3}()||e.push(t.languages);else if("string"==typeof t.languages){var i=t.languages;i&&e.push(i.split(","))}return e},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return h(m(navigator.deviceMemory),void 0)},screenResolution:function(){var t=screen,e=function(t){return h(p(t),null)},n=[e(t.width),e(t.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return h(p(navigator.hardwareConcurrency),void 0)},timezone:function(){var t,e=null===(t=window.Intl)||void 0===t?void 0:t.DateTimeFormat;if(e){var n=(new e).resolvedOptions().timeZone;if(n)return n}var i,r=(i=(new Date).getFullYear(),-Math.max(m(new Date(i,0,1).getTimezoneOffset()),m(new Date(i,6,1).getTimezoneOffset())));return"UTC"+(r>=0?"+":"")+Math.abs(r)},sessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},localStorage:function(){try{return!!window.localStorage}catch(t){return!0}},indexedDB:function(){if(!G()&&!X())try{return!!window.indexedDB}catch(t){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var t=navigator.platform;return"MacIntel"===t&&K()&&!S()?function(){if("iPad"===navigator.platform)return!0;var t=screen,e=t.width/t.height;return b(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}()?"iPad":"iPhone":t},plugins:function(){var t=navigator.plugins;if(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];if(i){for(var r=[],o=0;o<i.length;++o){var a=i[o];r.push({type:a.type,suffixes:a.suffixes})}e.push({name:i.name,description:i.description,mimeTypes:r})}}return e}},canvas:function(){var t=function(){var t=document.createElement("canvas");return t.width=1,t.height=1,[t,t.getContext("2d")]}(),e=t[0],n=t[1];return function(t,e){return!(!e||!t.toDataURL)}(e,n)?{winding:k(n),geometry:N(e,n),text:P(e,n)}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var t,e=navigator,n=0;void 0!==e.maxTouchPoints?n=p(e.maxTouchPoints):void 0!==e.msMaxTouchPoints&&(n=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:n,touchEvent:t,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var t=[],e=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<n.length;e++){var i=n[e],r=window[i];r&&"object"==typeof r&&t.push(i)}return t.sort()},cookiesEnabled:function(){var t=document;try{t.cookie="cookietest=1; SameSite=Strict;";var e=-1!==t.cookie.indexOf("cookietest=");return t.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(t){return!1}},colorGamut:function(){for(var t=0,e=["rec2020","p3","srgb"];t<e.length;t++){var n=e[t];if(matchMedia("(color-gamut: "+n+")").matches)return n}},invertedColors:function(){return!!B("inverted")||!B("none")&&void 0},forcedColors:function(){return!!Q("active")||!Q("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var t=0;t<=100;++t)if(matchMedia("(max-monochrome: "+t+")").matches)return t;throw new Error("Too high value")}},contrast:function(){return O("no-preference")?0:O("high")||O("more")?1:O("low")||O("less")?-1:O("forced")?10:void 0},reducedMotion:function(){return!!_("reduce")||!_("no-preference")&&void 0},hdr:function(){return!!A("high")||!A("standard")&&void 0},math:function(){var t,e=q.acos||$,n=q.acosh||$,i=q.asin||$,r=q.asinh||$,o=q.atanh||$,a=q.atan||$,l=q.sin||$,s=q.sinh||$,c=q.cos||$,u=q.cosh||$,d=q.tan||$,p=q.tanh||$,m=q.exp||$,h=q.expm1||$,b=q.log1p||$;return{acos:e(.12312423423423424),acosh:n(1e308),acoshPf:(t=1e154,q.log(t+q.sqrt(t*t-1))),asin:i(.12312423423423424),asinh:r(1),asinhPf:q.log(1+q.sqrt(2)),atanh:o(.5),atanhPf:q.log(3)/2,atan:a(.5),sin:l(-1e300),sinh:s(1),sinhPf:q.exp(1)-1/q.exp(1)/2,cos:c(10.000000000123),cosh:u(1),coshPf:(q.exp(1)+1/q.exp(1))/2,tan:d(-1e300),tanh:p(1),tanhPf:(q.exp(2)-1)/(q.exp(2)+1),exp:m(1),expm1:h(1),expm1Pf:q.exp(1)-1,log1p:b(10),log1pPf:q.log(11),powPI:q.pow(q.PI,-100)}}};function nt(t){var e=function(t){if(W())return.4;if(K())return S()?.5:.3;var e=t.platform.value||"";return/^Win/.test(e)?.6:/^Mac/.test(e)?.5:.7}(t),n=function(t){return y(.99+.01*t,1e-4)}(e);return{score:e,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+n)}}function it(t){return JSON.stringify(t,(function(t,e){return e instanceof Error?(n=e,v.__assign({name:n.name,message:n.message,stack:null===(i=n.stack)||void 0===i?void 0:i.split("\n")},n)):e;var n,i}),2)}function rt(t){return d(function(t){for(var e="",n=0,i=Object.keys(t).sort();n<i.length;n++){var r=i[n],o=t[r],a=o.error?"error":JSON.stringify(o.value);e+=(e?"|":"")+r.replace(/([:|\\])/g,"\\$1")+":"+a}return e}(t))}function ot(t){return void 0===t&&(t=50),function(t,e){void 0===e&&(e=1/0);var i=window.requestIdleCallback;return i?new Promise((function(t){return i.call(window,(function(){return t()}),{timeout:e})})):n(Math.min(t,e))}(t,2*t)}function at(t,e){var n=Date.now();return{get:function(i){return v.__awaiter(this,void 0,void 0,(function(){var r,o,a;return v.__generator(this,(function(l){switch(l.label){case 0:return r=Date.now(),[4,t()];case 1:return o=l.sent(),a=function(t){var e;return{get visitorId(){return void 0===e&&(e=rt(this.components)),e},set visitorId(t){e=t},confidence:nt(t),components:t,version:"3.3.3"}}(o),(e||(null==i?void 0:i.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+a.version+"\nuserAgent: "+navigator.userAgent+"\ntimeBetweenLoadAndGet: "+(r-n)+"\nvisitorId: "+a.visitorId+"\ncomponents: "+it(o)+"\n```"),[2,a]}}))}))}}}function lt(t){var e=void 0===t?{}:t,n=e.delayFallback,i=e.debug,r=e.monitoring,o=void 0===r||r;return v.__awaiter(this,void 0,void 0,(function(){return v.__generator(this,(function(t){switch(t.label){case 0:return o&&function(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var t=new XMLHttpRequest;t.open("get","https://m1.openfpcdn.io/fingerprintjs/v3.3.3/npm-monitoring",!0),t.send()}catch(t){console.error(t)}}(),[4,ot(n)];case 1:return t.sent(),[2,at(Z(et,{debug:i},[]),i)]}}))}))}var st={load:lt,hashComponents:rt,componentsToDebugString:it},ct=d;e.componentsToDebugString=it,e.default=st,e.getFullscreenElement=x,e.getScreenFrame=j,e.hashComponents=rt,e.isAndroid=W,e.isChromium=g,e.isDesktopSafari=S,e.isEdgeHTML=X,e.isGecko=I,e.isTrident=G,e.isWebKit=K,e.load=lt,e.loadSources=Z,e.murmurX64Hash128=ct,e.prepareForSources=ot,e.sources=et})),ot={name:"mdap_web_sdk",version:"0.4.19"},at=rt,lt=r((function(t,e){var n=i&&i.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=i&&i.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},o=i&&i.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},a=i&&i.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},l=i&&i.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},s=i&&i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Reporter=void 0;var c=s(at),u=s(ot),d=["api","resource","customized"],p=["navigation"],m=["custom_accum"],h=l(l(l([],d,!0),p,!0),m,!0),b=function(t,e){return d.includes(t)},y=function(t,e){return p.includes(t)},f=function(t,e){return"api"===t&&!!e.event_timestamp},Z=function(t,e){return"custom_accum"===t};function G(t){V.Logger.warn("Should not call reporter's triggerhandler cause "+t+" is not an internal plugin type")}var X=function(){function t(t,e){this.queue=[],this.customQueue=[],this.fingerprint="",this.buildId="",this.labels={},this.tags={},this.session_id="",this.timeOffset=0,this.configs=t,this.userAgent=new L.UserAgent,this.network=e,this.offlineStore=new nt.OfflineStore(t.app_name,e),this.offlineStore.setup(),this.session_id=(window.__MDAP_SESSION_ID__=window.__MDAP_SESSION_ID__||(0,it.uuidv4)(),window.__MDAP_SESSION_ID__)}return t.prototype.start=function(){var t,e=this;this.buildId=function(){try{return"ea829c9e-b794-4317-85bb-e07888a09110"}catch(t){return""}}(),this.timer=setInterval((function(){e.check()}),null!==(t=this.configs.interval)&&void 0!==t?t:1e4);var n="onpagehide"in self?"pagehide":"unload";window.addEventListener(n,this.check.bind(this,!0),!1)},t.prototype.initFingerprint=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,c.default.load()];case 1:return[4,e.sent().get()];case 2:return t=e.sent(),this.fingerprint=t.visitorId,[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}}))}))},t.prototype.addTrackData=function(t){var e=this;return function(n){var i;if(V.Logger.log("[MDAP report data] "+t+" - ",n),function(t,e){return m.includes(e.type||t)}(t,n)){var r=null!==(i=n.type)&&void 0!==i?i:"custom_accum";e.customQueue.push({type:r,data:e.attachTags(r,n)})}else e.queue.push({type:t,data:e.attachTags(t,n)})}},t.prototype.serverNow=function(t){var e;return("number"==typeof t?t:(new Date).getTime())+(null!==(e=this.timeOffset)&&void 0!==e?e:0)},t.prototype.addLabels=function(t){try{this.labels=n(n({},this.labels),t)}catch(t){V.Logger.info("[MDAP] Failed to add new labels")}},t.prototype.register=function(t){try{t.addLabels=this.addLabels.bind(this),t.serverNow=this.serverNow.bind(this),t.delegateReporter&&(t.reporter=this);var e=function(t){return h.includes(t)}(t.type)?this.addTrackData(t.type):G;t.register({trigger:e,app_name:this.configs.app_name,env:this.configs.environment})}catch(t){V.Logger.log("Failed to register plugin"),V.Logger.error(t)}},t.prototype.unregister=function(t){t.unregister(this.configs.app_name)},t.prototype.check=function(t){return void 0===t&&(t=!1),r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.fingerprint?[3,2]:[4,this.initFingerprint()];case 1:e.sent(),e.label=2;case 2:return"requestIdleCallback"in window&&!t?requestIdleCallback(this.reportData.bind(this,t)):this.reportData(t),[2]}}))}))},t.prototype.getDataChunk=function(t){var e;try{var n=l([],this[t],!0);this[t]=[];for(var i=[],r=1;n.length;){var o=n.splice(0,300),a="queue"===t?this.processData(o):this.processCustomData(o);r>=4&&(a.labels=Object.assign({},null!==(e=a.labels)&&void 0!==e?e:{},{entries_length:""+(o.length+n.length)}),n=[]),i.push(a),r++}return i}catch(t){return V.Logger.warn("Failed to process report data."),[]}},t.prototype.handleDataBeforeTerminated=function(t){return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(i){switch(i.label){case 0:if(!this[t].length)return[2];i.label=1;case 1:return i.trys.push([1,5,,6]),e=this[t].length<=100,n=this.getDataChunk(t),e?[4,this.sendData(n[0],!0)]:[3,3];case 2:return i.sent(),[3,4];case 3:return this.offlineStore.cacheData(n),[2,!0];case 4:return[3,6];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.reportData=function(t){return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(i){switch(i.label){case 0:if(t)return this.handleDataBeforeTerminated("queue"),this.handleDataBeforeTerminated("customQueue"),[2];if(!this.queue.length)return[3,4];e=this.getDataChunk("queue"),i.label=1;case 1:return e.length?(n=e.shift())?[4,this.sendData(n)]:[3,3]:[3,4];case 2:i.sent(),i.label=3;case 3:return[3,1];case 4:if(!this.customQueue.length)return[3,8];e=this.getDataChunk("customQueue"),i.label=5;case 5:return e.length?(n=e.shift())?[4,this.sendData(n)]:[3,7]:[3,8];case 6:i.sent(),i.label=7;case 7:return[3,5];case 8:return[2]}}))}))},Object.defineProperty(t.prototype,"commonData",{get:function(){var t=this.configs,e=t.app_name,i=t.app_version,r=void 0===i?"unknown":i,o=t.app_build_id,a=void 0===o?this.buildId||r||"unknown":o,l=t.user_id,s=void 0===l?"":l;return n(n({event_timestamp:this.serverNow(),app_name:e,app_version:r,app_build_id:a,user_id:s,sdk_name:u.default.name,sdk_version:u.default.version,session_id:this.session_id,tag:"web-performance"},this.userAgent.device),{device_id:this.fingerprint,labels:n(n({},this.userAgent.browserCompatibility),this.labels)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webCommonData",{get:function(){var t,e;return n(n({},this.userAgent.webData),{region:null!==(t=this.configs.region)&&void 0!==t?t:"unknown",environment:null!==(e=this.configs.environment)&&void 0!==e?e:""})},enumerable:!1,configurable:!0}),t.prototype.updateConfig=function(t){this.configs=Object.assign(this.configs,t)},t.prototype.attachTags=function(t,e){var i,r;if(!Object.keys(this.tags).length)return e;try{if(Z(t))return n(n({},e),{data:n(n({},this.tags),null!==(i=e.data)&&void 0!==i?i:{})});if(b(t)||f(t,e)||y(t))return n(n({},e),{customized_data:n(n({},this.tags),null!==(r=e.customized_data)&&void 0!==r?r:{})})}catch(t){return V.Logger.warn("[MDAP] failed to attach tags"),V.Logger.error(t),e}},t.prototype.processData=function(t){for(var e,i=[],r=[],o=n(n({},this.commonData),{data:this.webCommonData}),l=0,s=t;l<s.length;l++){var c=s[l];if(f(c.type,c.data)){var u=c.data;u.event_timestamp;var d=a(u,["event_timestamp"]);r.push(d)}else if(b(c.type,c.data))c.data.type=c.type,i.push(c.data);else if(y(c.type,c.data)){var p=c.data;p.event_timestamp,d=a(p,["event_timestamp"]),o.data.page_performance=d,o.data.page_performance.offline_bundle=null!==(e=this.configs.offline_bundle)&&void 0!==e&&e}}return i.length&&(o.data.entries=i),r.length&&(o.data.api_performances=r),o},t.prototype.processCustomData=function(t){for(var e=n(n({},this.commonData),{tag:"web-custom",data:this.webCommonData}),i=[],r=0,o=t;r<o.length;r++){var l=o[r];if(Z(l.type,l.data)){var s=l.data;s.type;var c=a(s,["type"]);i.push(c)}}return e.data.custom_accums=i,e},t.prototype.sendData=function(t,e){return void 0===e&&(e=!1),r(this,void 0,void 0,(function(){var n,i;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.network.sendRequest({reportData:t,pageUnload:e})];case 1:return(n=r.sent())===et.REQUEST_FAILED&&this.offlineStore.cacheData(t),"function"==typeof this.onDataSentCallback&&this.onDataSentCallback(n),[3,3];case 2:return i=r.sent(),this.offlineStore.cacheData(t),V.Logger.warn("[MDAP] Failed to send data: "+((null==i?void 0:i.message)||"unknown reason.")),[3,3];case 3:return[2]}}))}))},t.prototype.sendBulkData=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.network.sendBulk({tag:"web-exception",data:t})];case 1:return(null==(e=n.sent())?void 0:e.errors)&&this.offlineStore.cacheData(t),"function"==typeof this.onDataSentCallback&&this.onDataSentCallback(e),[2,e];case 2:return n.sent(),this.offlineStore.cacheData(t),[3,3];case 3:return[2]}}))}))},t.prototype.onDataSent=function(t){this.onDataSentCallback=t},t.prototype.close=function(){this.timer&&clearInterval(this.timer),this.check()},t}();e.Reporter=X})),st=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.type="base",this.offsetByte=void 0,this.triggerHandler=function(t){},this.delegateReporter=!1,this.configs=null!=t?t:{}}return t.prototype.serverNow=function(t){return(new Date).getTime()},t.prototype.register=function(t){this.triggerHandler=t.trigger},t.prototype.unregister=function(t){this.triggerHandler=function(){}},t.prototype.updateConfig=function(t){this.configs=Object.assign(this.configs,t)},t.prototype.addLabels=function(t){},t}();e.default=n})),ct=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isValidTag=void 0;var n=["number","string","boolean"];e.isValidTag=function(t,e){return!(!n.includes(typeof e)||t.length>32||"string"==typeof e&&e.length>250)}})),ut=r((function(t,e){var n,r=i&&i.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=i&&i.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=i&&i.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},l=i&&i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.transferDataField=void 0;var s=l(st);e.transferDataField=function(t){if(!t)return{};for(var e={},n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],o=t[r];(0,ct.isValidTag)(r,o)&&(e[r]=o?"string"!=typeof o?o.toString():o:"")}return e};var c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="customized",e}return r(n,t),n.prototype.sendData=function(t){var n,i;if(t.point_id)if(function(t){return void 0!==t.duration}(t))null===(n=this.triggerHandler)||void 0===n||n.call(this,{type:"customized",customized_point_id:t.point_id,duration:Math.round(t.duration),customized_data:(0,e.transferDataField)(t.data)});else{var r=t.data,l=a(t,["data"]);null===(i=this.triggerHandler)||void 0===i||i.call(this,o(o({},l),{type:"custom_accum",timestamp:this.serverNow(),data:(0,e.transferDataField)(r)}))}else V.Logger.warn("[MDAP] Custom Report - point Id is required.")},n}(s.default);e.default=c})),dt=r((function(t,e){var n=i&&i.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=i&&i.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function l(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((i=i.apply(t,e||[])).next())}))},o=i&&i.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},a=i&&i.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},l=i&&i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MdapSdk=e.CustomPlugin=e.host=e.BasePlugin=void 0,Object.defineProperty(e,"BasePlugin",{enumerable:!0,get:function(){return l(st).default}});var s=l(ot),c=W;Object.defineProperty(e,"host",{enumerable:!0,get:function(){return c.host}}),Object.defineProperty(e,"CustomPlugin",{enumerable:!0,get:function(){return l(ut).default}});var u=function(){function t(t){var e,i,r,o;this.inited=!1,this.enable=!1,this.remoteConfigMap={},this.localConfigUnexpired=!1,this.configMonitor=n({},W.defaultConfigMonitor);try{this.configs=t,this.network=new et.Network({env:null!==(e=t.environment)&&void 0!==e?e:"test",app_name:t.app_name,secret_key:t.secret_key,report_host:t.report_host}),this.reporter=new lt.Reporter(t,this.network),V.Logger.mute=!t.logger,this.storage=new x.MdapStorage({name:W.CONFIT_STORAGE_PREFIX}),this.initConfig();var a=(null!==(r=null===(i=this.localConfig)||void 0===i?void 0:i.user_id)&&void 0!==r?r:void 0)!==(null!==(o=this.configs.user_id)&&void 0!==o?o:void 0);!t.async_config&&(!this.localConfigUnexpired||a)&&this.updateLocalConfig()}catch(t){V.Logger.log("Failed to init mdap sdk"),V.Logger.error(t)}}return t.prototype.setConfig=function(t){var e,n,i,r;void 0===t&&(t={});var o=(null!==(n=null===(e=this.localConfig)||void 0===e?void 0:e.user_id)&&void 0!==n?n:void 0)!==(null!==(i=t.user_id)&&void 0!==i?i:void 0);this.configs=Object.assign(this.configs,t),null===(r=this.reporter)||void 0===r||r.updateConfig(this.configs),this.localConfigUnexpired&&!o||this.updateLocalConfig(),this.sendConfigMonitor(o?1:0)},Object.defineProperty(t.prototype,"localConfigStorageKey",{get:function(){var t=this.configs,e=t.app_version,n=t.app_name,i=t.environment;return n+"_"+(void 0===i?"test":i)+"_"+(null!=e?e:"unknown")},enumerable:!1,configurable:!0}),t.prototype.getLocalConfig=function(){var t,e,n,i,r,o=this.storage.getObject(this.localConfigStorageKey);if(null==o?void 0:o.config){var a=o.config,l=!("DISABLED"===(null===(t=o.sdk_spec)||void 0===t?void 0:t.status))&&((null==a?void 0:a.vip_user)||(null===(n=null===(e=null==a?void 0:a.switch_config_extra)||void 0===e?void 0:e.switch_config)||void 0===n?void 0:n.is_sampled)),s=(null===(i=o.sdk_spec)||void 0===i?void 0:i.config_max_age)?1e3*(null===(r=o.sdk_spec)||void 0===r?void 0:r.config_max_age):18e5,c=(new Date).getTime();return this.localConfigUnexpired=!(!o.last_update||!(c>=o.last_update||o.last_update+s>c)),{enable:!!l,config:o}}return{enable:!1}},t.prototype.initPluginConfigs=function(){var t,e,n=null===(t=this.localConfig)||void 0===t?void 0:t.config;if(null===(e=null==n?void 0:n.switch_config)||void 0===e?void 0:e.switch_config)try{for(var i=n.switch_config.switch_config,r=(i.app_sample,i.enable_tasks),o=a(i,["app_sample","enable_tasks"]),l=0,s=Object.keys(o);l<s.length;l++){var c=s[l],u=o[c],d={};"regexp"===u.filter_type&&(d.path=u.filter_value.map((function(t){return new RegExp(t)}))),"string"===u.filter_type&&(d.path=u.filter_value),this.remoteConfigMap[c]=d}this.configMonitor.enable_tasks=null!=r?r:0}catch(t){V.Logger.log("Failed to init remote configs")}},t.prototype.initConfig=function(){var t,e,n=this;try{var i=this.getLocalConfig();this.enable=i.enable,this.localConfig=i.config,this.enable?(this.initPluginConfigs(),null===(t=this.reporter)||void 0===t||t.start(),this.localConfig&&this.network.setEncryptionConfig(this.localConfig),this.configs.async_config||setTimeout((function(){n.sendConfigMonitor()}),0),(null===(e=this.localConfig)||void 0===e?void 0:e.time_offset)&&this.reporter&&(this.reporter.timeOffset=this.localConfig.time_offset)):V.Logger.warn("[MDAP] Application "+this.configs.app_name+" is out of sampling. SDK will not collect and report data."),this.inited=!0}catch(t){V.Logger.log("Failed to init config")}},Object.defineProperty(t.prototype,"defaultSample",{get:function(){return"number"==typeof this.configs.sample&&this.configs.sample>=0&&this.configs.sample<=1?this.configs.sample:.1},enumerable:!1,configurable:!0}),t.prototype.resetLocalConfig=function(){try{this.storage.removeItem(this.localConfigStorageKey)}catch(t){}},t.prototype.updateLocalConfig=function(){var t,e,n,i,a,l,c,u,d,p,m,h,b,y;return r(this,void 0,void 0,(function(){var r,f,Z,G,X,v;return o(this,(function(o){switch(o.label){case 0:r=this.localConfig,o.label=1;case 1:return o.trys.push([1,5,,6]),(null===(t=this.reporter)||void 0===t?void 0:t.fingerprint)?[3,3]:[4,null===(e=this.reporter)||void 0===e?void 0:e.initFingerprint()];case 2:o.sent(),o.label=3;case 3:return f=null===(i=null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.switch_config_checksum)||void 0===i?void 0:i.switch_config,Z=null===(c=null===(l=null===(a=null==r?void 0:r.config)||void 0===a?void 0:a.switch_config_extra)||void 0===l?void 0:l.switch_config)||void 0===c?void 0:c.is_sampled,G="-1"===f&&this.defaultSample!==(null==r?void 0:r.default_sample),[4,this.network.fetchRemoteConfigs({tags:["web-performance"],view:"ALL",user_id:this.configs.user_id,sdk_name:s.default.name,sdk_version:s.default.version,os_name:null===(u=this.reporter)||void 0===u?void 0:u.userAgent.device.os_name,os_version:null===(d=this.reporter)||void 0===d?void 0:d.userAgent.device.os_version,device_name:null===(p=this.reporter)||void 0===p?void 0:p.userAgent.device.device_name,device_id:null===(m=this.reporter)||void 0===m?void 0:m.fingerprint,switch_config_labels:{app_version:this.configs.app_version},sdk_spec_checksum:null==r?void 0:r.sdk_spec_checksum,switch_config_keys:[{key:"switch_config",checksum:G?"":f,sample_sub_key:"app_sample",default_sample_rate:this.defaultSample,is_sampled:Z}],algorithm_version:"v1"})];case 4:return(null==(X=o.sent())?void 0:X.time_offset)&&this.reporter&&(this.reporter.timeOffset=X.time_offset),(null==X?void 0:X.config)&&(f&&(null===(b=null===(h=null==X?void 0:X.config)||void 0===h?void 0:h.switch_config_checksum)||void 0===b?void 0:b.switch_config)===f&&(X.config.switch_config=null===(y=r.config)||void 0===y?void 0:y.switch_config),X.default_sample=this.defaultSample,X.user_id=this.configs.user_id,X.last_update=+new Date,X.reported=!1,this.storage.setObject(this.localConfigStorageKey,X)),V.Logger.log("[MDAP] Local configs updated. "+this.localConfigStorageKey),[3,6];case 5:return v=o.sent(),this.resetLocalConfig(),V.Logger.log("[MDAP] Failed to update local configs"),V.Logger.error(v),[3,6];case 6:return[2]}}))}))},t.prototype.sendConfigMonitor=function(t){var e,i,a,l,s,c,u,d,p,m;return void 0===t&&(t=0),r(this,void 0,void 0,(function(){var r,h,b,y,f,Z;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),r=!this.enable||!t&&(null===(e=this.localConfig)||void 0===e?void 0:e.reported),!(null===(i=this.reporter)||void 0===i?void 0:i.commonData)||r?[2]:(null===(a=this.reporter)||void 0===a?void 0:a.fingerprint)?[3,2]:[4,null===(l=this.reporter)||void 0===l?void 0:l.initFingerprint()];case 1:o.sent(),o.label=2;case 2:return h=null===(s=this.localConfig)||void 0===s?void 0:s.config,b=null!==(d=null===(u=null===(c=null==h?void 0:h.switch_config)||void 0===c?void 0:c.switch_config)||void 0===u?void 0:u.enable_tasks)&&void 0!==d?d:0,y=n(n({},this.configMonitor),{status:t,is_vip:(null==h?void 0:h.vip_user)?1:0,invoke_tasks:this.configMonitor.install_tasks&b,enable_tasks:b,used_config:null!==(p=JSON.stringify(h))&&void 0!==p?p:"",extra_info:JSON.stringify({time_offset:this.reporter.timeOffset})}),f=n(n({},null===(m=this.reporter)||void 0===m?void 0:m.commonData),{event_timestamp:this.reporter.serverNow(),tag:"config-monitor",data:y}),[4,this.network.sendConfigMonitor(f)];case 3:return o.sent(),this.localConfig&&!t&&(this.localConfig=n(n({},this.localConfig),{reported:!0}),this.storage.setObject(this.localConfigStorageKey,this.localConfig)),V.Logger.log("[MDAP] Send config data successfully.",f),[3,5];case 4:return Z=o.sent(),V.Logger.log("[MDAP] Send config data failed."),V.Logger.error(Z),[3,5];case 5:return[2]}}))}))},t.prototype.use=function(t){var e,n,i;if(this.inited&&this.enable){var r=null!==(n=null!==(e=t.offsetByte)&&void 0!==e?e:W.PluginOffsetByte[t.type])&&void 0!==n?n:0;r&&0==(this.configMonitor.install_tasks&r)&&(this.configMonitor.install_tasks+=r),this.remoteConfigMap[t.type]&&t.updateConfig(this.remoteConfigMap[t.type]),null===(i=this.reporter)||void 0===i||i.register(t)}},t.prototype.remove=function(t){var e;null===(e=this.reporter)||void 0===e||e.unregister(t)},t.prototype.addEntryTag=function(t,e){t?this.reporter&&((0,ct.isValidTag)(t,e)?this.reporter.tags[t]=e.toString():V.Logger.warn("[MDAP] addTag - invalid tag key or value")):V.Logger.warn("[MDAP] addTag - tag is required")},t.prototype.removeEntryTag=function(t){t?this.reporter&&Object.prototype.hasOwnProperty.call(this.reporter.tags,t)&&delete this.reporter.tags[t]:V.Logger.warn("[MDAP] removeTag - tag is required")},t}();e.MdapSdk=u})),pt={chrome:/^(.*)\n\s+(at)/,safari:/^(.*)\/<@/},mt=function(t){if(!t)return"";if("string"==typeof t)return t;try{return JSON.stringify(t,"object"==typeof t?Object.getOwnPropertyNames(t):void 0)}catch(t){return""}},ht=function(t){function e(e){var n=t.call(this,e)||this;return n.reportDatas=[],n.interval=6e4,n.init(),n}return v.__extends(e,t),Object.defineProperty(e.prototype,"hasPendingData",{get:function(){var t,e=this.reportDatas.filter((function(t){return t.data.exceptions.length}));return!(!e.length||!(null===(t=e[0])||void 0===t?void 0:t.data.exceptions.length))},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this;this.processData(),this.triggerHandler=function(e){var n,i,r,o,a,l,s,c,u;try{t.reportDatas.length||t.processData();var d=t.reportDatas[t.reportDatas.length-1];if(null===(n=d.labels)||void 0===n?void 0:n.entries_length)return void(d.labels.entries_length+=1);if(d.data.exceptions.length>=300)return d.labels=Object.assign(null!==(i=d.labels)&&void 0!==i?i:{},{entries_length:d.data.exceptions.length}),void(d.data.exceptions=[d.data.exceptions[0]]);e.data_field=Object.assign(null!==(r=e.data_field)&&void 0!==r?r:{},{report_page_url:""+window.location.origin+window.location.pathname}),Object.keys(null!==(a=null===(o=t.reporter)||void 0===o?void 0:o.tags)&&void 0!==a?a:{}).length&&(e.data_field=Object.assign({},null!==(s=null===(l=t.reporter)||void 0===l?void 0:l.tags)&&void 0!==s?s:{},null!==(c=e.data_field)&&void 0!==c?c:{})),e.data_field=Object.assign(null!==(u=e.data_field)&&void 0!==u?u:{},window.location.hash?{path_hash:window.location.hash}:{},window.location.search?{path_search:window.location.search}:{}),d.data.exceptions.push(e)}catch(t){console.warn("[MDAP] Failed to add datas")}},this.start()},e.prototype.getDataChunks=function(){for(var t,e,n,i=0,r=0,o=[];this.reportDatas.length>0;){var a=this.reportDatas.shift();if(a){if(r>100){this.reportDatas=[this.reportDatas[this.reportDatas.length-1]];break}i+a.data.exceptions.length>1200&&(r++,a.labels=Object.assign(null!==(t=a.labels)&&void 0!==t?t:{},{entries_length:a.data.exceptions.length}),a.data.exceptions=[a.data.exceptions[0]]),"number"==typeof(null===(e=a.labels)||void 0===e?void 0:e.entries_length)&&(a.labels.entries_length=""+(null===(n=a.labels)||void 0===n?void 0:n.entries_length)),i+=a.data.exceptions.length,o.push(a)}}return this.processData(),o},e.prototype.sendData=function(){return v.__awaiter(this,void 0,void 0,(function(){var t,e;return v.__generator(this,(function(n){switch(n.label){case 0:if(!this.reporter||!this.hasPendingData)return[2];n.label=1;case 1:return n.trys.push([1,5,,6]),(t=this.getDataChunks()).length?1!==t.length?[3,3]:[4,this.reporter.sendData(t[0])]:[2];case 2:return n.sent(),[2];case 3:return[4,this.reporter.sendBulkData(t)];case 4:return n.sent(),[3,6];case 5:return e=n.sent(),console.error(e),[3,6];case 6:return[2]}}))}))},e.prototype.start=function(){var t=this;this.timer=setInterval((function(){t.check()}),this.interval)},e.prototype.unregister=function(){this.timer&&clearInterval(this.timer)},e.prototype.check=function(){try{if(!this.hasPendingData)return;this.sendData()}catch(t){console.error(t)}},e.prototype.processData=function(){if(this.reporter)try{var t=v.__assign(v.__assign({},this.reporter.commonData),{tag:"web-exception",event_timestamp:this.reporter.serverNow(),data:v.__assign(v.__assign({},this.reporter.webCommonData),{page_url:""+window.location.origin+window.location.pathname,exceptions:[]})});return this.reportDatas.push(t),t}catch(t){console.error(t)}},e.prototype.capture=function(t){var e,n,i;if("function"==typeof this.triggerHandler){var r=null!=t?t:{},o=r.error,a=r.message,l=r.data;if(o||a)try{var s="",c=null!=a?a:"",u=null!==(e=null==l?void 0:l.name)&&void 0!==e?e:"";!function(t){return t instanceof Error}(o)?c||"string"!=typeof o||(c=o):(s=o.stack,c=null!==(n=c+o.message)&&void 0!==n?n:"",u=null!==(i=u+o.name)&&void 0!==i?i:""),s||(s=new Error(c).stack);var d={timestamp:this.reporter.serverNow(),type:"custom",level:(null==l?void 0:l.level)||"error",error_name:u||"error",error_message:c,error_stack:s,original_exception:mt(o),data_field:ut.transferDataField(null==l?void 0:l.data_field),extra:null==l?void 0:l.extra};d.error_stack=function(t){if(!t)return"";for(var e=t,n=0,i=Object.values(pt);n<i.length;n++){var r=i[n];if(r.test(t)){e=t.replace(r,"$2");break}}return e}(d.error_stack),d&&this.triggerHandler(d)}catch(o){console.error(o)}else console.info("[MDAP] error / message cannot be empty at the same time")}else console.warn("[MDAP] capture - triggerhandler not exist")},e}(dt.MdapSdk),bt=null,yt={live:"full-story",test:"full-story-sdk"},ft={live:"35206eb27bb3e6cf8d323f49982dc04434bafe9077818382b713e559ca5ffb3f",test:"77829129fb6a0e958a560c7e36098094e73cc453276096c9a7243435a6b5f644"},Zt={live:"live",test:"test"},Gt=function(t){switch(typeof t){case"number":return t===-1/0?-Number.MAX_VALUE:t===1/0?new Date(-864e13):0===t?Number.MIN_VALUE:t+.01;case"string":return t+"\0";default:throw TypeError("Unsupported key type: "+t)}},Xt=function(t){var e=t.index,n=t.query,i=t.limit,r=void 0===i?-1:i,o=t.lowerOpenFlag,a=void 0!==o&&o,l=t.upperOpenFlag,s=void 0!==l&&l,c=t.cursorCallback,u=t.completeCallback,d=n[0],p=n[1];e.openCursor(IDBKeyRange.bound(d,p,a,s)).onsuccess=function(t){var e=t.target.result;if(e){for(var n=1;n<e.key.length;++n){var i=e.key.slice(n),o=d.slice(n);if(indexedDB.cmp(i,o)<0)return void e.continue(e.key.slice(0,n).concat(o));var a=p.slice(n);if(indexedDB.cmp(i,a)>0)return void e.continue(e.key.slice(0,n).concat([Gt(e.key[n])]).concat(d.slice(n+1)))}c(e),-1!==r&&r--,(-1===r||r>=1)&&e.continue()}else u&&u()}},vt=function(){function t(t){var e=t.errorCallback;this.errorCallback=function(){},this.errorCallback=e}return t.prototype.upgrade=function(t,e){var n;n=t.objectStoreNames.contains(y.OBJECT_STORE_EVENTS)?e.target.transaction.objectStore(y.OBJECT_STORE_EVENTS):t.createObjectStore(y.OBJECT_STORE_EVENTS,{autoIncrement:!0}),[y.INDEX_EVENTS_TIMESTAMP,y.INDEX_EVENTS_READ_TIME,y.INDEX_EVENTS_PLUGIN_TYPE,y.INDEX_EVENTS_UID,y.INDEX_EVENTS_UNION_UID_TIMESTAMP,y.INDEX_EVENTS_OFFLINE_TASK_ID].forEach((function(t){var e;try{e=n.index(t)}catch(t){}e&&n.deleteIndex(t)})),function(t){t.createIndex(y.INDEX_EVENTS_TIMESTAMP,y.INDEX_EVENTS_TIMESTAMP,{unique:!1}),t.createIndex(y.INDEX_EVENTS_UID,[y.INDEX_EVENTS_FETCHED,y.INDEX_EVENTS_READ_TIME,y.INDEX_EVENTS_UID],{unique:!1}),t.createIndex(y.INDEX_EVENTS_UNION_UID_TIMESTAMP,[y.INDEX_EVENTS_FETCHED,y.INDEX_EVENTS_READ_TIME,y.INDEX_EVENTS_TIMESTAMP,y.INDEX_EVENTS_UID],{unique:!1}),t.createIndex(y.INDEX_EVENTS_OFFLINE_TASK_ID,[y.INDEX_EVENTS_OFFLINE_TASK_ID,y.INDEX_EVENTS_FETCHED,y.INDEX_EVENTS_READ_TIME,y.INDEX_EVENTS_TIMESTAMP,y.INDEX_EVENTS_UID],{unique:!1})}(n)},t.prototype.init=function(t){return v.__awaiter(this,void 0,void 0,(function(){var e,n;return v.__generator(this,(function(i){switch(i.label){case 0:this.projectId=t,i.label=1;case 1:return i.trys.push([1,3,,4]),e=this,[4,this.openDB(y.DATABASE_NAME,15)];case 2:return e.idb=i.sent(),[2,!0];case 3:return n=i.sent(),console.error("IndexedDBStorage",n),bt.capture({error:n,data:{name:"[IndexedDBStorage]Error"}}),[2,!1];case 4:return[2]}}))}))},t.prototype.openDB=function(t,e){var n=this;return new Promise((function(i,r){var o=self.window.indexedDB.open(t,e);o.onblocked=function(){console.warn("[IndexedDBStorage] Upgrade is blocked since connection to old version exists.")},o.onerror=function(t){console.warn("[IndexedDBStorage] Can not open indexedDB."),r(t)},o.onsuccess=function(t){var e=t.target.result;e.objectStoreNames.contains(y.OBJECT_STORE_EVENTS)?(e.onerror=function(t){n.errorCallback(),console.warn("[IndexedDBStorage]",t.target.errorCode)},e.onversionchange=function(){e.close(),n.errorCallback(),console.warn("[IndexedDBStorage] A new version of indexedDB is ready.")},i(e)):r("Required ObjectStore cannot be found.")},o.onupgradeneeded=function(t){var e=t.target.result;try{n.upgrade(e,t)}catch(t){r(t)}}}))},t.prototype.addEvent=function(t){var e=this;return new Promise((function(n,i){var r,o=e.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");o.oncomplete=function(){n(!0)},e.transactionOnError(o,i);var a=v.__assign(v.__assign({},t),((r={projectId:e.projectId})[y.INDEX_EVENTS_READ_TIME]=0,r.fetched=b.FALSE,r.data=JSON.stringify(t.data),r));if(t.type===X.Custom){var l=(p=t.data).tag,s=void 0===l?"":l,c=p.payload,u=(void 0===c?{}:c).level,d=void 0===u?"":u;a=v.__assign(v.__assign({},a),{errorLogs:s+"_"+d})}else if(t.type===X.Plugin&&t.data.plugin===g.PLUGIN_NAME){var p,m=(p=t.data).payload,f=(void 0===m?{}:m).level;d=void 0===f?"":f,a=v.__assign(v.__assign({},a),{errorLogs:h.CONSOLE+"_"+d})}o.objectStore(y.OBJECT_STORE_EVENTS).add(a)}))},t.prototype.removeExpiredEvents=function(t){var e=this,n=t.retention;return new Promise((function(t,i){var r=e.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");r.oncomplete=function(){t(!0)},e.transactionOnError(r,i);var o=IDBKeyRange.upperBound(Date.now()-n);r.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_TIMESTAMP).openCursor(o).onsuccess=function(t){var e=t.target.result;e&&(e.delete(),e.continue())}}))},t.prototype.getEventsByIndex=function(t){var e=this,n=t.rangeLow,i=t.rangeUpper,r=t.only,o=t.limit,a=void 0===o?20:o,l=[],s=[];return new Promise((function(t,o){var c,u=Date.now(),d=e.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");if(d.oncomplete=function(){t({keys:l,data:s,readTime:u})},r){var p=IDBKeyRange.only([b.FALSE,0,r]);(c=d.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_UID).openCursor(p)).onsuccess=function(t){var n=t.target.result;n&&(n.value.projectId&&n.value.projectId!==e.projectId||(l.push(n.primaryKey),s.push(n.value),n.update(v.__assign(v.__assign({},n.value),{readTime:u}))),(-1===a||a-- >1)&&n.continue())}}if(n&&i){var m=[v.__spreadArrays([b.FALSE,0],n),v.__spreadArrays([b.FALSE,0],i)];c=d.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_UNION_UID_TIMESTAMP),Xt({index:c,query:m,limit:a,cursorCallback:function(t){t&&(t.value.projectId&&t.value.projectId!==e.projectId||(l.push(t.primaryKey),s.push(t.value),t.update(v.__assign(v.__assign({},t.value),{readTime:u}))))}})}}))},t.prototype.updateEventFetchedByReadTime=function(t,e,n){var i=this;return new Promise((function(r,o){var a=i.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");a.oncomplete=function(){r(!0)},i.transactionOnError(a,o);var l=[[b.FALSE,e,n[0],t],[b.FALSE,e,n[1],t]],s=a.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_UNION_UID_TIMESTAMP);Xt({index:s,query:l,limit:-1,cursorCallback:function(t){t&&(t.value.projectId&&t.value.projectId!==i.projectId||t.update(v.__assign(v.__assign({},t.value),{fetched:b.TRUE})))}})}))},t.prototype.revertEventsUpperTimestamp=function(t,e){var n=this;return new Promise((function(i,r){var o=n.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");o.oncomplete=function(){i(!0)},n.transactionOnError(o,r);var a=(new Date).getTime(),l=[[b.FALSE,1,t,e],[b.TRUE,a,a,e]],s=o.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_UNION_UID_TIMESTAMP);Xt({index:s,limit:-1,query:l,lowerOpenFlag:!0,cursorCallback:function(t){t&&(t.value.projectId&&t.value.projectId!==n.projectId||t.update(v.__assign(v.__assign({},t.value),{fetched:b.FALSE,readTime:0})))}})}))},t.prototype.revertEventsByDefault=function(t){var e=this;return new Promise((function(n,i){var r=e.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");r.oncomplete=function(){n(!0)},e.transactionOnError(r,i);var o=(new Date).getTime(),a=[[b.FALSE,1,0,t],[b.FALSE,o,o,t]],l=r.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_UNION_UID_TIMESTAMP);Xt({index:l,query:a,cursorCallback:function(t){t&&(t.value.projectId&&t.value.projectId!==e.projectId||t.update(v.__assign(v.__assign({},t.value),{readTime:0})))}})}))},t.prototype.isEventsFetchedAroundThisTime=function(t,e,n){var i=this,r=[];return new Promise((function(o,a){var l=i.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");l.oncomplete=function(){r.length&&o(!1),o(!0)},i.transactionOnError(l,a);var s=[[e,b.FALSE,0,n[0]-1,t],[e,b.FALSE,(new Date).getTime(),n[1],t]],c=l.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_OFFLINE_TASK_ID);Xt({index:c,query:s,cursorCallback:function(t){t&&(t.value.projectId&&t.value.projectId!==i.projectId||r.push(t.primaryKey))}})}))},t.prototype.getEventsByTimestamps=function(t){var e=this,n=t.timestamps,i=void 0===n?[]:n,r=t.limit,o=void 0===r?20:r,a=t.taskId,l=t.uid,s=[],c=[];return new Promise((function(t,n){var r=Date.now(),u=e.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");if(u.oncomplete=function(){t({keys:s,data:c,readTime:r})},e.transactionOnError(u,n),2===i.length){var d=IDBKeyRange.bound(i[0],i[1]);u.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_TIMESTAMP).openCursor(d).onsuccess=function(t){var n=t.target.result;if(n){if((!n.value.projectId||n.value.projectId===e.projectId)&&n.value.uid===l)if("f"===n.value.fetched&&0===n.value.readTime){s.push(n.primaryKey),c.push(n.value);var i=v.__assign(v.__assign({},n.value),{readTime:r});a&&(i=v.__assign(v.__assign({},i),{offlineTaskId:a})),o--,n.update(i)}else"t"===n.value.fetched&&n.value.readTime>0&&(!n.value.offlineTaskId||n.value.offlineTaskId!==a)&&(s.push(n.primaryKey),c.push(n.value),i=v.__assign(v.__assign({},n.value),{readTime:r}),a&&(i=v.__assign(v.__assign({},i),{fetched:"f",offlineTaskId:a})),n.update(i));(-1===o||o+1>1)&&n.continue()}}}}))},t.prototype.getEventsReadTimeNotFetchFromNow=function(t){var e=this,n=t.limit,i=void 0===n?20:n,r=t.uid,o=[],a=b.FALSE,l=Date.now();return new Promise((function(t,n){var s=e.idb.transaction(y.OBJECT_STORE_EVENTS,"readwrite");s.oncomplete=function(){t(!0)},s.onerror=function(t){n(t)},s.onabort=function(t){n(t)};var c=[[a,0,r],[a,l,r]],u=s.objectStore(y.OBJECT_STORE_EVENTS).index(y.INDEX_EVENTS_UID);Xt({index:u,query:c,limit:i,lowerOpenFlag:!0,upperOpenFlag:!1,cursorCallback:function(t){t&&(t.value.projectId&&t.value.projectId!==e.projectId||(o.push(t.value),t.update(v.__assign(v.__assign({},t.value),{fetched:b.FALSE,readTime:0}))))}})}))},t.prototype.transactionOnError=function(t,e){t.onerror=function(t){e(t)},t.onabort=function(t){e(t)}},t}(),gt=null,Kt=function(){function t(t,e){this.retention=t,this.projectId=e}return t.prototype.initIndexedDB=function(t){return v.__awaiter(this,void 0,void 0,(function(){var e,n,i;return v.__generator(this,(function(r){switch(r.label){case 0:return self.window&&self.window.indexedDB?(e=t.indexDBErrorCallback,n=void 0===e?function(){}:e,[4,(i=new vt({errorCallback:function(){if(t.intervalId&&clearTimeout(t.intervalId),t.activeIntervalIdQueue&&Array.isArray(t.activeIntervalIdQueue)&&t.activeIntervalIdQueue.length){var e=t.activeIntervalIdQueue.shift();clearTimeout(e)}t.destroy(),g.record.addCustomEvent=function(){},n()}})).init(this.projectId)]):[3,2];case 1:if(r.sent()){try{i.removeExpiredEvents({retention:this.retention})}catch(t){console.warn("[FullstoryStorage]",t),bt.capture({error:t,data:{name:"[FullstoryStorage]Error"}})}return[2,i]}r.label=2;case 2:return[2,null]}}))}))},t.prototype.get=function(t){return v.__awaiter(this,void 0,void 0,(function(){return v.__generator(this,(function(e){switch(e.label){case 0:return gt?[3,2]:[4,this.initIndexedDB(t)];case 1:gt=e.sent(),e.label=2;case 2:return[2,gt]}}))}))},t}(),St=function(t,e){this.destroy=function(){},this.config=t,this.store=e},It=r((function(t,e){let n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)};const i=new Uint8Array(16)})),xt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i})),Lt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=xt)&&n.__esModule?n:{default:n};e.default=function(t){return"string"==typeof t&&i.default.test(t)}})),Wt=Lt,Vt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=Wt)&&n.__esModule?n:{default:n};const r=[];for(let t=0;t<256;++t)r.push((t+256).toString(16).substr(1));e.default=function(t,e=0){const n=(r[t[e+0]]+r[t[e+1]]+r[t[e+2]]+r[t[e+3]]+"-"+r[t[e+4]]+r[t[e+5]]+"-"+r[t[e+6]]+r[t[e+7]]+"-"+r[t[e+8]]+r[t[e+9]]+"-"+r[t[e+10]]+r[t[e+11]]+r[t[e+12]]+r[t[e+13]]+r[t[e+14]]+r[t[e+15]]).toLowerCase();if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n}})),wt=It,Tt=Vt,Ct=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(wt),i=r(Tt);function r(t){return t&&t.__esModule?t:{default:t}}let o,a,l=0,s=0;e.default=function(t,e,r){let c=e&&r||0;const u=e||new Array(16);let d=(t=t||{}).node||o,p=void 0!==t.clockseq?t.clockseq:a;if(null==d||null==p){const e=t.random||(t.rng||n.default)();null==d&&(d=o=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==p&&(p=a=16383&(e[6]<<8|e[7]))}let m=void 0!==t.msecs?t.msecs:Date.now(),h=void 0!==t.nsecs?t.nsecs:s+1;const b=m-l+(h-s)/1e4;if(b<0&&void 0===t.clockseq&&(p=p+1&16383),(b<0||m>l)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=m,s=h,a=p,m+=122192928e5;const y=(1e4*(268435455&m)+h)%4294967296;u[c++]=y>>>24&255,u[c++]=y>>>16&255,u[c++]=y>>>8&255,u[c++]=255&y;const f=m/4294967296*1e4&268435455;u[c++]=f>>>8&255,u[c++]=255&f,u[c++]=f>>>24&15|16,u[c++]=f>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(let t=0;t<6;++t)u[c+t]=d[t];return e||(0,i.default)(u)}})),Mt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=Wt)&&n.__esModule?n:{default:n};e.default=function(t){if(!(0,i.default)(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}})),Yt=Mt,Rt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){function l(t,o,a,l){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof o&&(o=(0,i.default)(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+t.length);if(s.set(o),s.set(t,o.length),s=r(s),s[6]=15&s[6]|e,s[8]=63&s[8]|128,a){l=l||0;for(let t=0;t<16;++t)a[l+t]=s[t];return a}return(0,n.default)(s)}try{l.name=t}catch(t){}return l.DNS=o,l.URL=a,l},e.URL=e.DNS=void 0;var n=r(Tt),i=r(Yt);function r(t){return t&&t.__esModule?t:{default:t}}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=a})),Ht=r((function(t,e){function n(t){return 14+(t+64>>>9<<4)+1}function i(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e,n,r,o,a){return i((l=i(i(e,t),i(r,a)))<<(s=o)|l>>>32-s,n);var l,s}function o(t,e,n,i,o,a,l){return r(e&n|~e&i,t,e,o,a,l)}function a(t,e,n,i,o,a,l){return r(e&i|n&~i,t,e,o,a,l)}function l(t,e,n,i,o,a,l){return r(e^n^i,t,e,o,a,l)}function s(t,e,n,i,o,a,l){return r(n^(e|~i),t,e,o,a,l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){const e=[],n=32*t.length,i="0123456789abcdef";for(let r=0;r<n;r+=8){const n=t[r>>5]>>>r%32&255,o=parseInt(i.charAt(n>>>4&15)+i.charAt(15&n),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[n(e)-1]=e;let r=1732584193,c=-271733879,u=-1732584194,d=271733878;for(let e=0;e<t.length;e+=16){const n=r,p=c,m=u,h=d;r=o(r,c,u,d,t[e],7,-680876936),d=o(d,r,c,u,t[e+1],12,-389564586),u=o(u,d,r,c,t[e+2],17,606105819),c=o(c,u,d,r,t[e+3],22,-1044525330),r=o(r,c,u,d,t[e+4],7,-176418897),d=o(d,r,c,u,t[e+5],12,1200080426),u=o(u,d,r,c,t[e+6],17,-1473231341),c=o(c,u,d,r,t[e+7],22,-45705983),r=o(r,c,u,d,t[e+8],7,1770035416),d=o(d,r,c,u,t[e+9],12,-1958414417),u=o(u,d,r,c,t[e+10],17,-42063),c=o(c,u,d,r,t[e+11],22,-1990404162),r=o(r,c,u,d,t[e+12],7,1804603682),d=o(d,r,c,u,t[e+13],12,-40341101),u=o(u,d,r,c,t[e+14],17,-1502002290),c=o(c,u,d,r,t[e+15],22,1236535329),r=a(r,c,u,d,t[e+1],5,-165796510),d=a(d,r,c,u,t[e+6],9,-1069501632),u=a(u,d,r,c,t[e+11],14,643717713),c=a(c,u,d,r,t[e],20,-373897302),r=a(r,c,u,d,t[e+5],5,-701558691),d=a(d,r,c,u,t[e+10],9,38016083),u=a(u,d,r,c,t[e+15],14,-660478335),c=a(c,u,d,r,t[e+4],20,-405537848),r=a(r,c,u,d,t[e+9],5,568446438),d=a(d,r,c,u,t[e+14],9,-1019803690),u=a(u,d,r,c,t[e+3],14,-187363961),c=a(c,u,d,r,t[e+8],20,1163531501),r=a(r,c,u,d,t[e+13],5,-1444681467),d=a(d,r,c,u,t[e+2],9,-51403784),u=a(u,d,r,c,t[e+7],14,1735328473),c=a(c,u,d,r,t[e+12],20,-1926607734),r=l(r,c,u,d,t[e+5],4,-378558),d=l(d,r,c,u,t[e+8],11,-2022574463),u=l(u,d,r,c,t[e+11],16,1839030562),c=l(c,u,d,r,t[e+14],23,-35309556),r=l(r,c,u,d,t[e+1],4,-1530992060),d=l(d,r,c,u,t[e+4],11,1272893353),u=l(u,d,r,c,t[e+7],16,-155497632),c=l(c,u,d,r,t[e+10],23,-1094730640),r=l(r,c,u,d,t[e+13],4,681279174),d=l(d,r,c,u,t[e],11,-358537222),u=l(u,d,r,c,t[e+3],16,-722521979),c=l(c,u,d,r,t[e+6],23,76029189),r=l(r,c,u,d,t[e+9],4,-640364487),d=l(d,r,c,u,t[e+12],11,-421815835),u=l(u,d,r,c,t[e+15],16,530742520),c=l(c,u,d,r,t[e+2],23,-995338651),r=s(r,c,u,d,t[e],6,-198630844),d=s(d,r,c,u,t[e+7],10,1126891415),u=s(u,d,r,c,t[e+14],15,-1416354905),c=s(c,u,d,r,t[e+5],21,-57434055),r=s(r,c,u,d,t[e+12],6,1700485571),d=s(d,r,c,u,t[e+3],10,-1894986606),u=s(u,d,r,c,t[e+10],15,-1051523),c=s(c,u,d,r,t[e+1],21,-2054922799),r=s(r,c,u,d,t[e+8],6,1873313359),d=s(d,r,c,u,t[e+15],10,-30611744),u=s(u,d,r,c,t[e+6],15,-1560198380),c=s(c,u,d,r,t[e+13],21,1309151649),r=s(r,c,u,d,t[e+4],6,-145523070),d=s(d,r,c,u,t[e+11],10,-1120210379),u=s(u,d,r,c,t[e+2],15,718787259),c=s(c,u,d,r,t[e+9],21,-343485551),r=i(r,n),c=i(c,p),u=i(u,m),d=i(d,h)}return[r,c,u,d]}(function(t){if(0===t.length)return[];const e=8*t.length,i=new Uint32Array(n(e));for(let n=0;n<e;n+=8)i[n>>5]|=(255&t[n/8])<<n%32;return i}(t),8*t.length))}})),kt=Rt,Pt=Ht,Nt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(kt),i=r(Pt);function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,n.default)("v3",48,i.default);e.default=o})),Jt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(wt),i=r(Tt);function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,r){const o=(t=t||{}).random||(t.rng||n.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=o[t];return e}return(0,i.default)(o)}})),jt=r((function(t,e){function n(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function i(t,e){return t<<e|t>>>32-e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const o=t.length/4+2,a=Math.ceil(o/16),l=new Array(a);for(let e=0;e<a;++e){const n=new Uint32Array(16);for(let i=0;i<16;++i)n[i]=t[64*e+4*i]<<24|t[64*e+4*i+1]<<16|t[64*e+4*i+2]<<8|t[64*e+4*i+3];l[e]=n}l[a-1][14]=8*(t.length-1)/Math.pow(2,32),l[a-1][14]=Math.floor(l[a-1][14]),l[a-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<a;++t){const o=new Uint32Array(80);for(let e=0;e<16;++e)o[e]=l[t][e];for(let t=16;t<80;++t)o[t]=i(o[t-3]^o[t-8]^o[t-14]^o[t-16],1);let a=r[0],s=r[1],c=r[2],u=r[3],d=r[4];for(let t=0;t<80;++t){const r=Math.floor(t/20),l=i(a,5)+n(r,s,c,u)+d+e[r]+o[t]>>>0;d=u,u=c,c=i(s,30)>>>0,s=a,a=l}r[0]=r[0]+a>>>0,r[1]=r[1]+s>>>0,r[2]=r[2]+c>>>0,r[3]=r[3]+u>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}})),zt=jt,Ut=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(kt),i=r(zt);function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,n.default)("v5",80,i.default);e.default=o})),Dt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default="00000000-0000-0000-0000-000000000000"})),Ft=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=Wt)&&n.__esModule?n:{default:n};e.default=function(t){if(!(0,i.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}})),Et=Ct,Bt=Nt,Qt=Jt,Ot=Ut,_t=Dt,At=Ft,qt=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return u.default}});var n=d(Et),i=d(Bt),r=d(Qt),o=d(Ot),a=d(_t),l=d(At),s=d(Wt),c=d(Tt),u=d(Yt);function d(t){return t&&t.__esModule?t:{default:t}}})),$t=[],te=[],ee="undefined"!=typeof Uint8Array?Uint8Array:Array,ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie=0,re=ne.length;ie<re;++ie)$t[ie]=ne[ie],te[ne.charCodeAt(ie)]=ie;function oe(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function ae(t,e,n){for(var i,r,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push($t[(r=i)>>18&63]+$t[r>>12&63]+$t[r>>6&63]+$t[63&r]);return o.join("")}te["-".charCodeAt(0)]=62,te["_".charCodeAt(0)]=63;var le=function(t){var e,n,i=oe(t),r=i[0],o=i[1],a=new ee(function(t,e,n){return 3*(e+n)/4-n}(0,r,o)),l=0,s=o>0?r-4:r;for(n=0;n<s;n+=4)e=te[t.charCodeAt(n)]<<18|te[t.charCodeAt(n+1)]<<12|te[t.charCodeAt(n+2)]<<6|te[t.charCodeAt(n+3)],a[l++]=e>>16&255,a[l++]=e>>8&255,a[l++]=255&e;return 2===o&&(e=te[t.charCodeAt(n)]<<2|te[t.charCodeAt(n+1)]>>4,a[l++]=255&e),1===o&&(e=te[t.charCodeAt(n)]<<10|te[t.charCodeAt(n+1)]<<4|te[t.charCodeAt(n+2)]>>2,a[l++]=e>>8&255,a[l++]=255&e),a},se=function(t){for(var e,n=t.length,i=n%3,r=[],o=16383,a=0,l=n-i;a<l;a+=o)r.push(ae(t,a,a+o>l?l:a+o));return 1===i?(e=t[n-1],r.push($t[e>>2]+$t[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push($t[e>>10]+$t[e>>4&63]+$t[e<<2&63]+"=")),r.join("")},ce=function(t,e,n,i,r){var o,a,l=8*r-i-1,s=(1<<l)-1,c=s>>1,u=-7,d=n?r-1:0,p=n?-1:1,m=t[e+d];for(d+=p,o=m&(1<<-u)-1,m>>=-u,u+=l;u>0;o=256*o+t[e+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+t[e+d],d+=p,u-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(m?-1:1);a+=Math.pow(2,i),o-=c}return(m?-1:1)*a*Math.pow(2,o-i)},ue=function(t,e,n,i,r,o){var a,l,s,c=8*o-r-1,u=(1<<c)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:o-1,h=i?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+d>=1?p/s:p*Math.pow(2,1-d))*s>=2&&(a++,s/=2),a+d>=u?(l=0,a=u):a+d>=1?(l=(e*s-1)*Math.pow(2,r),a+=d):(l=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+m]=255&l,m+=h,l/=256,r-=8);for(a=a<<r|l,c+=r;c>0;t[n+m]=255&a,m+=h,a/=256,c-=8);t[n+m-h]|=128*b},de=r((function(t,e){var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function r(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,o.prototype),e}function o(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return s(t)}return a(t,e,n)}function a(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|p(t,e),i=r(n),a=i.write(t,e);return a!==n&&(i=i.slice(0,a)),i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(P(t,Uint8Array)){var e=new Uint8Array(t);return u(e.buffer,e.byteOffset,e.byteLength)}return c(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(P(t,ArrayBuffer)||t&&P(t.buffer,ArrayBuffer))return u(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(P(t,SharedArrayBuffer)||t&&P(t.buffer,SharedArrayBuffer)))return u(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return o.from(i,e,n);var a=function(t){if(o.isBuffer(t)){var e=0|d(t.length),n=r(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||N(t.length)?r(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return o.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function s(t){return l(t),r(t<0?0:0|d(t))}function c(t){for(var e=t.length<0?0:0|d(t.length),n=r(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function u(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,o.prototype),i}function d(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function p(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||P(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return i?-1:R(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return K(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return g(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function h(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function b(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),N(n=+n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=o.from(e,i)),o.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,r);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){var o,a=1,l=t.length,s=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,l/=2,s/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var u=-1;for(o=n;o<l;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===s)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+s>l&&(n=l-s),o=n;o>=0;o--){for(var d=!0,p=0;p<s;p++)if(c(t,o+p)!==c(e,p)){d=!1;break}if(d)return o}return-1}function f(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;i>o/2&&(i=o/2);for(var a=0;a<i;++a){var l=parseInt(e.substr(2*a,2),16);if(N(l))return a;t[n+a]=l}return a}function Z(t,e,n,i){return k(R(e,t.length-n),t,n,i)}function G(t,e,n,i){return k(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function X(t,e,n,i){return k(H(e),t,n,i)}function v(t,e,n,i){return k(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=(n=t.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function g(t,e,n){return 0===e&&n===t.length?se(t):se(t.slice(e,n))}function K(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,l,s,c=t[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[r+1]))&&(s=(31&c)<<6|63&o)>127&&(u=s);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(u=s);break;case 4:o=t[r+1],a=t[r+2],l=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&l)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&l)>65535&&s<1114112&&(u=s)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=S));return n}(i)}e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(t,e,n){return a(t,e,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?r(t):void 0!==e?"string"==typeof n?r(t).fill(e,n):r(t).fill(e):r(t)}(t,e,n)},o.allocUnsafe=function(t){return s(t)},o.allocUnsafeSlow=function(t){return s(t)},o.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==o.prototype},o.compare=function(t,e){if(P(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),P(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,i=e.length,r=0,a=Math.min(n,i);r<a;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=o.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(P(a,Uint8Array))r+a.length>i.length?o.from(a).copy(i,r):Uint8Array.prototype.set.call(i,a,r);else{if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r)}r+=a.length}return i},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?K(this,0,t):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(t,e,n,i,r){if(P(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(r>>>=0)-(i>>>=0),l=(n>>>=0)-(e>>>=0),s=Math.min(a,l),c=this.slice(i,r),u=t.slice(e,n),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],l=u[d];break}return a<l?-1:l<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},o.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return f(this,t,e,n);case"utf8":case"utf-8":return Z(this,t,e,n);case"ascii":case"latin1":case"binary":return G(this,t,e,n);case"base64":return X(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function I(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function x(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function L(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=J[t[o]];return r}function W(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length-1;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function V(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function w(t,e,n,i,r,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<a)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function T(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(t,e,n,i,r){return e=+e,n>>>=0,r||T(t,0,n,4),ue(t,e,n,i,23,4),n+4}function M(t,e,n,i,r){return e=+e,n>>>=0,r||T(t,0,n,8),ue(t,e,n,i,52,8),n+8}o.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,o.prototype),i},o.prototype.readUintLE=o.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||V(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||V(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},o.prototype.readUint8=o.prototype.readUInt8=function(t,e){return t>>>=0,e||V(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,e){return t>>>=0,e||V(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,e){return t>>>=0,e||V(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,e){return t>>>=0,e||V(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,e){return t>>>=0,e||V(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||V(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||V(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return t>>>=0,e||V(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){t>>>=0,e||V(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){t>>>=0,e||V(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return t>>>=0,e||V(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t>>>=0,e||V(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t>>>=0,e||V(t,4,this.length),ce(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t>>>=0,e||V(t,4,this.length),ce(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t>>>=0,e||V(t,8,this.length),ce(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t>>>=0,e||V(t,8,this.length),ce(this,t,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||w(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,e,n,i){t=+t,e>>>=0,n>>>=0,i||w(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,1,255,0),this[e]=255&t,e+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);w(this,t,e,n,r-1,-r)}var o=0,a=1,l=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===l&&0!==this[e+o-1]&&(l=1),this[e+o]=(t/a>>0)-l&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*n-1);w(this,t,e,n,r-1,-r)}var o=n-1,a=1,l=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===l&&0!==this[e+o+1]&&(l=1),this[e+o]=(t/a>>0)-l&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||w(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},o.prototype.writeFloatLE=function(t,e,n){return C(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return C(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r=i-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),r},o.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var r=t.charCodeAt(0);("utf8"===i&&r<128||"latin1"===i)&&(t=r)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var l=o.isBuffer(t)?t:o.from(t,i),s=l.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<n-e;++a)this[a+e]=l[a%s]}return this};var Y=/[^+/0-9A-Za-z-_]/g;function R(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){return le(function(t){if((t=(t=t.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function k(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function P(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function N(t){return t!=t}var J=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var i=16*n,r=0;r<16;++r)e[i+r]=t[n]+t[r];return e}()})),pe=de.Buffer;function me(t){return function(e){if(pe.isBuffer(e))return e.length;switch(typeof e){case"string":return 2*e.length;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor&&Symbol.keyFor(e)?2*Symbol.keyFor(e).length:2*(e.toString().length-8);case"object":return Array.isArray(e)?e.map(me(t)).reduce((function(t,e){return t+e}),0):function(t,e){if(null==e)return 0;for(var n=0,i=function(t){const e=[];for(var n in t)e.push(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);Array.prototype.push.apply(e,i)}return e}(e),r=0;r<i.length;r++){var o=i[r];if("object"==typeof e[o]&&null!==e[o]){if(t.has(e[o]))continue;t.add(e[o])}n+=me(t)(o);try{n+=me(t)(e[o])}catch(t){t instanceof RangeError&&(n=0)}}return n}(t,e);default:return 0}}}var he=function(t){return me(new WeakSet)(t)},be={isLogAddEvents:!0,crossOriginThreshold:1e3},ye="undefined"!=typeof window?window:"undefined"!=typeof self?self:{},fe=(ye.__FSY__=ye.__FSY__||{},ye.__FSY__);function Ze(){return Date.now()}fe.replaceFlag=fe.replaceFlag||{},fe.replaceFlag;var Ge=function(t,e,n){if(e in t){var i=t[e],r=n(i);return"function"==typeof r&&(t[e]=r),function(){t[e]=i}}};function Xe(t,e,n,i){void 0===i&&(i=!1),t.addEventListener(e,n,i)}var ve=function(t){return"string"==typeof t&&(t.includes("/api/v1/sdk")||t.includes("fullstory-api")||t.includes("/datagroup-reporting")||t.includes("/api/pap")||t.includes("/timestone-api")||t.includes("/dem/entrance/v1")||t.includes("/dem/janus/v1")||t.includes("/dem/kose/v1"))};function ge(t){be.isLogAddEvents=!1,t(),be.isLogAddEvents=!0}function Ke(t,e,n){if(void 0===n&&(n=new Map),"object"==typeof t){var i=t instanceof Array?[]:{};for(var r in t){var o=""===e?r:e+"."+r;n.get(o)||(i[r]=Ke(t[r],o,n))}return i}return t}var Se=r((function(t,e){t.exports=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+e[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+e[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+e[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+e[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+e[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+e[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+e[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+e[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+e[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+e[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+e[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+e[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+e[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+e[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+e[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+e[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+e[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+e[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+e[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+e[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+e[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+e[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+e[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|i>>>11)+r|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=r+t[2]|0,t[3]=o+t[3]|0}function i(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function o(t){var e,r,o,a,l,s,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(u,i(t.substring(e-64,e)));for(r=(t=t.substring(e-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(u,o),e=0;e<16;e+=1)o[e]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),l=parseInt(a[2],16),s=parseInt(a[1],16)||0,o[14]=l,o[15]=s,n(u,o),u}function a(t){var e,i,o,a,l,s,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(u,r(t.subarray(e-64,e)));for(i=(t=e-64<c?t.subarray(e-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)o[e>>2]|=t[e]<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(u,o),e=0;e<16;e+=1)o[e]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),l=parseInt(a[2],16),s=parseInt(a[1],16)||0,o[14]=l,o[15]=s,n(u,o),u}function l(t){var n,i="";for(n=0;n<4;n+=1)i+=e[t>>8*n+4&15]+e[t>>8*n&15];return i}function s(t){var e;for(e=0;e<t.length;e+=1)t[e]=l(t[e]);return t.join("")}function c(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t){var e,n=[],i=t.length;for(e=0;e<i-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(e,n){var i,r,o,a,l=this.byteLength,s=t(e,l),c=l;return undefined!==n&&(c=t(n,l)),s>c?new ArrayBuffer(0):(i=c-s,r=new ArrayBuffer(i),o=new Uint8Array(r),a=new Uint8Array(this,s,i),o.set(a),r)}}(),d.prototype.append=function(t){return this.appendBinary(c(t)),this},d.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,r=this._buff.length;for(e=64;e<=r;e+=64)n(this._hash,i(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},d.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(o,r),n=s(this._hash),t&&(n=u(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(t,e){var i,r,o,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,t),a=0;a<16;a+=1)t[a]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,t[14]=r,t[15]=o,n(this._hash,t)},d.hash=function(t,e){return d.hashBinary(c(t),e)},d.hashBinary=function(t,e){var n=s(o(t));return e?u(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(t){var e,i=function(t,e,n){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t)),i.set(new Uint8Array(e),t.byteLength),n?i:i.buffer}(this._buff.buffer,t,!0),o=i.length;for(this._length+=t.byteLength,e=64;e<=o;e+=64)n(this._hash,r(i.subarray(e-64,e)));return this._buff=e-64<o?new Uint8Array(i.buffer.slice(e-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i[e]<<(e%4<<3);return this._finish(o,r),n=s(this._hash),t&&(n=u(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var t=d.prototype.getState.call(this);return t.buff=function(t){return String.fromCharCode.apply(null,new Uint8Array(t))}(t.buff),t},d.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,i=t.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=t.charCodeAt(n);return e?o:r}(t.buff,!0),d.prototype.setState.call(this,t)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(t,e){var n=s(a(new Uint8Array(t)));return e?u(n):n},d}()})),Ie=new Map,xe=function(t){return t instanceof FormData},Le={test:"https://fullstory.seller-data.test.shopee.com/api/v1/sdk",live:"https://fullstory.seller-data.shopee.com/api/v1/sdk",uat:"https://fullstory.seller-data.uat.shopee.com/api/v1/sdk"},We=function(t){return Promise.resolve(t).then((function(t){return function(t){if(t.ok)return t.text().then((function(t){if(t){var e=JSON.parse(t);return 0!==e.code?console.error(e):e}})).catch((function(){return console.error("parse error")}));var e=Reflect.has(t,"status")&&Reflect.has(t,"statusText")?t.status+":"+t.statusText:"unknown error";console.error(e)}(t)})).catch((function(t){console.error(t)}))},Ve=function(t){if(!t)return"";var e=function(t){return null==t||""===t};return Object.keys(t).map((function(n){return Array.isArray(t[n])?t[n].map((function(t){return e(t)?"":n+"="+encodeURIComponent(t)})).filter((function(t){return""!==t})).join("&"):e(t[n])?"":n+"="+encodeURIComponent(t[n])})).filter((function(t){return""!==t})).join("&")};r((function(t,e){!function(t){var e="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e,n="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(t){return t&&l.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function h(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function b(t){var e=new FileReader,n=h(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:r&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&r&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||s(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(b)}),this.text=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=h(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(X)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=c(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[c(t)]},p.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},p.prototype.set=function(t,e){this.map[c(t)]=u(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var Z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function G(t,e){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(e=e||{}).body;if(t instanceof G){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=function(t){var e=t.toUpperCase();return Z.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function X(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}})),e}function v(t){var e=new p;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}})),e}function g(t,e){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})},f.call(G.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var K=[301,302,303,307,308];g.redirect=function(t,e){if(-1===K.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(n,i){return new Promise((function(o,l){var s=new G(n,i);if(s.signal&&s.signal.aborted)return l(new t.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function d(){c.abort()}c.onload=function(){var t={status:c.status,statusText:c.statusText,headers:v(c.getAllResponseHeaders()||"")};t.url="responseURL"in c?c.responseURL:t.headers.get("X-Request-URL");var e="response"in c?c.response:c.responseText;setTimeout((function(){o(new g(e,t))}),0)},c.onerror=function(){setTimeout((function(){l(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){l(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){l(new t.DOMException("Aborted","AbortError"))}),0)},c.open(s.method,function(t){try{return""===t&&e.location.href?e.location.href:t}catch(e){return t}}(s.url),!0),"include"===s.credentials?c.withCredentials=!0:"omit"===s.credentials&&(c.withCredentials=!1),"responseType"in c&&(r?c.responseType="blob":a&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!i||"object"!=typeof i.headers||i.headers instanceof p?s.headers.forEach((function(t,e){c.setRequestHeader(e,t)})):Object.getOwnPropertyNames(i.headers).forEach((function(t){c.setRequestHeader(t,u(i.headers[t]))})),s.signal&&(s.signal.addEventListener("abort",d),c.onreadystatechange=function(){4===c.readyState&&s.signal.removeEventListener("abort",d)}),c.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=p,e.Request=G,e.Response=g),t.Headers=p,t.Request=G,t.Response=g,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}(e)}));var we,Te=r((function(t,e){t.exports=function(){var t=6e4,e=36e5,n="millisecond",i="second",r="minute",o="hour",a="day",l="week",s="month",c="quarter",u="year",d="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},f={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+y(i,2,"0")+":"+y(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,s),o=n-r<0,a=e.clone().add(i+(o?-1:1),s);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:u,w:l,d:a,D:d,h:o,m:r,s:i,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},Z="en",G={};G[Z]=b;var X=function(t){return t instanceof S},v=function(t,e,n){var i;if(!t)return Z;if("string"==typeof t)G[t]&&(i=t),e&&(G[t]=e,i=t);else{var r=t.name;G[r]=t,i=r}return!n&&i&&(Z=i),i||!n&&Z},g=function(t,e){if(X(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},K=f;K.l=v,K.i=X,K.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function b(t){this.$L=v(t.locale,null,!0),this.parse(t)}var y=b.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(K.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(m);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return K},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return g(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<g(t)},y.$g=function(t,e,n){return K.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,c=!!K.u(e)||e,p=K.p(t),m=function(t,e){var i=K.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?i:i.endOf(a)},h=function(t,e){return K.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},b=this.$W,y=this.$M,f=this.$D,Z="set"+(this.$u?"UTC":"");switch(p){case u:return c?m(1,0):m(31,11);case s:return c?m(1,y):m(0,y+1);case l:var G=this.$locale().weekStart||0,X=(b<G?b+7:b)-G;return m(c?f-X:f+(6-X),y);case a:case d:return h(Z+"Hours",0);case o:return h(Z+"Minutes",1);case r:return h(Z+"Seconds",2);case i:return h(Z+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var l,c=K.p(t),p="set"+(this.$u?"UTC":""),m=(l={},l[a]=p+"Date",l[d]=p+"Date",l[s]=p+"Month",l[u]=p+"FullYear",l[o]=p+"Hours",l[r]=p+"Minutes",l[i]=p+"Seconds",l[n]=p+"Milliseconds",l)[c],h=c===a?this.$D+(e-this.$W):e;if(c===s||c===u){var b=this.clone().set(d,1);b.$d[m](h),b.init(),this.$d=b.set(d,Math.min(this.$D,b.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[K.p(t)]()},y.add=function(n,c){var d,p=this;n=Number(n);var m=K.p(c),h=function(t){var e=g(p);return K.w(e.date(e.date()+Math.round(t*n)),p)};if(m===s)return this.set(s,this.$M+n);if(m===u)return this.set(u,this.$y+n);if(m===a)return h(1);if(m===l)return h(7);var b=(d={},d[r]=t,d[o]=e,d[i]=1e3,d)[m]||1,y=this.$d.getTime()+n*b;return K.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=K.z(this),o=this.$H,a=this.$m,l=this.$M,s=n.weekdays,c=n.months,u=function(t,n,r,o){return t&&(t[n]||t(e,i))||r[n].substr(0,o)},d=function(t){return K.s(o%12||12,t,"0")},m=n.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},b={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:K.s(l+1,2,"0"),MMM:u(n.monthsShort,l,c,3),MMMM:u(c,l),D:this.$D,DD:K.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,s,2),ddd:u(n.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(o),HH:K.s(o,2,"0"),h:d(1),hh:d(2),a:m(o,a,!0),A:m(o,a,!1),m:String(a),mm:K.s(a,2,"0"),s:String(this.$s),ss:K.s(this.$s,2,"0"),SSS:K.s(this.$ms,3,"0"),Z:r};return i.replace(h,(function(t,e){return e||b[t]||r.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(n,d,p){var m,h=K.p(d),b=g(n),y=(b.utcOffset()-this.utcOffset())*t,f=this-b,Z=K.m(this,b);return Z=(m={},m[u]=Z/12,m[s]=Z,m[c]=Z/3,m[l]=(f-y)/6048e5,m[a]=(f-y)/864e5,m[o]=f/e,m[r]=f/t,m[i]=f/1e3,m)[h]||f,p?Z:K.a(Z)},y.daysInMonth=function(){return this.endOf(s).$D},y.$locale=function(){return G[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=v(t,e,!0);return i&&(n.$L=i),n},y.clone=function(){return K.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},b}(),I=S.prototype;return g.prototype=I,[["$ms",n],["$s",i],["$m",r],["$H",o],["$W",a],["$M",s],["$y",u],["$D",d]].forEach((function(t){I[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),g.extend=function(t,e){return t.$i||(t(e,S,g),t.$i=!0),g},g.locale=v,g.isDayjs=X,g.unix=function(t){return g(1e3*t)},g.en=G[Z],g.Ls=G,g.p={},g}()})),Ce=function(t,e){var n=function(t){t||(t={}),t.body&&!t.method&&(t.method="POST"),t.method&&(t.method=t.method.toUpperCase());var e,n=Object.assign({},t,{body:(e=t.body,e&&"object"==typeof e&&!xe(e)?JSON.stringify(t.body):t.body)});return n.body&&(n.headers=Object.assign(xe(n.body)?{}:{"Content-Type":"application/json"},n.headers)),n}(e),i=function(t,e){var n=t;if(/^http(s)?:\/\//.test(t)||(n=""+Le[e]+t),n.includes("datagroup-reporting"))return n;var i=qt.v4(),r=Math.floor(Date.now()/1e3),o=function(t,e,n){return Se.hash(t+e+"DontTellOthers")}(r,i);return n.split("?").length>1?n+"&nonce="+i+"&timestamp="+r+"&sign="+o:n+"?nonce="+i+"&timestamp="+r+"&sign="+o}(t,we);if(!n.guaranteeId)return We(fetch(i,n));var r=function(t){var e=Ie.get(t.guaranteeId);!1===(null==e?void 0:e.signal.aborted)&&e.abort();var n=new AbortController;return Ie.set(t.guaranteeId,n),t.signal=n.signal,{controller:n,guarantee:Ie}}(n),o=r.controller,a=r.guarantee;return We(fetch(i,n).finally((function(){a.get(n.guaranteeId)===o&&a.delete(n.guaranteeId)})))},Me=function(t){var e=Ve({project_id:t});return Ce("/project_config/list?"+e).then((function(t){return t.result}))},Ye=function(t,e,n){var i=Ve({project_id:e,uid:t,ubid:n});return Ce("/report/config?"+i).then((function(t){return t.result}))},Re=function(t,e,n){var i=Ve({project_id:n,uid:t,ubid:e});return Ce("/event/latest_time?"+i).then((function(t){return t.result}))},He=function(t,e){return Ce("/sub_offline_task/update_status?project_id="+e,{body:{sub_offline_task_id:t,status:2},method:"PUT"}).then((function(t){return t.result}))};["String","Number","Boolean","RegExp"].map((function(t){var e,n;return(e={})["is"+t]=(n=t,function(t){return Object.prototype.toString.call(t)==="[object "+n+"]"}),e}));var ke=function(t){if("string"!=typeof t)return!1;try{var e=JSON.parse(t);if(e&&"object"==typeof e)return!0}catch(t){return!1}return!1};function Pe(){return qt.v4()}var Ne=function(t){return t&&"0"!==t};function Je(t){return"[object Function]"===Object.prototype.toString.call(t)}var je=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="record",e.isInstalled=!1,e}return v.__extends(e,t),e.prototype.handleRecord=function(){var t,e=this;this.destroy=g.record({emit:function(t){var n=e.config.uid,i=e.config.ubid,r=t;r.uid=""+n,r.ubid=i,e.store.addEvent(r).catch((function(){}))},onError:function(t){console.error(t)},sampling:{mousemove:!0,mouseInteraction:!0,scroll:150,input:"all"},blockSelector:e.config.blockSelector,recordCanvas:!1,checkoutEveryNms:1e3*(this.config.checkoutEveryNth||10),plugins:(null===(t=this.config)||void 0===t?void 0:t.reportConsole)?[g.getRecordConsolePlugin({level:["debug","info","warn","error","assert"],lengthThreshold:o.billion,stringifyOptions:{stringLengthLimit:a.MB,numOfKeysLimit:o.thhousand,depthOfLimit:10},logger:window.console})]:[]})},e.prototype.install=function(){this.isInstalled?ge((function(){console.log("already install recordPlugin")})):(this.handleRecord(),this.isInstalled=!0)},e}(St),ze=r((function(t,e){!function(n){var r=e&&!e.nodeType&&e,o=t&&!t.nodeType&&t,a="object"==typeof i&&i;a.global!==a&&a.window!==a&&a.self!==a||(n=a);var l,s,c=2147483647,u=36,d=/^xn--/,p=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,y=String.fromCharCode;function f(t){throw RangeError(h[t])}function Z(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function G(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+Z((t=t.replace(m,".")).split("."),e).join(".")}function X(t){for(var e,n,i=[],r=0,o=t.length;r<o;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<o?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function v(t){return Z(t,(function(t){var e="";return t>65535&&(e+=y((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+y(t)})).join("")}function g(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function K(t,e,n){var i=0;for(t=n?b(t/700):t>>1,t+=b(t/e);t>455;i+=u)t=b(t/35);return b(i+36*t/(t+38))}function S(t){var e,n,i,r,o,a,l,s,d,p,m,h=[],y=t.length,Z=0,G=128,X=72;for((n=t.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&f("not-basic"),h.push(t.charCodeAt(i));for(r=n>0?n+1:0;r<y;){for(o=Z,a=1,l=u;r>=y&&f("invalid-input"),((s=(m=t.charCodeAt(r++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:u)>=u||s>b((c-Z)/a))&&f("overflow"),Z+=s*a,!(s<(d=l<=X?1:l>=X+26?26:l-X));l+=u)a>b(c/(p=u-d))&&f("overflow"),a*=p;X=K(Z-o,e=h.length+1,0==o),b(Z/e)>c-G&&f("overflow"),G+=b(Z/e),Z%=e,h.splice(Z++,0,G)}return v(h)}function I(t){var e,n,i,r,o,a,l,s,d,p,m,h,Z,G,v,S=[];for(h=(t=X(t)).length,e=128,n=0,o=72,a=0;a<h;++a)(m=t[a])<128&&S.push(y(m));for(i=r=S.length,r&&S.push("-");i<h;){for(l=c,a=0;a<h;++a)(m=t[a])>=e&&m<l&&(l=m);for(l-e>b((c-n)/(Z=i+1))&&f("overflow"),n+=(l-e)*Z,e=l,a=0;a<h;++a)if((m=t[a])<e&&++n>c&&f("overflow"),m==e){for(s=n,d=u;!(s<(p=d<=o?1:d>=o+26?26:d-o));d+=u)v=s-p,G=u-p,S.push(y(g(p+v%G,0))),s=b(v/G);S.push(y(g(s,0))),o=K(n,Z,i==r),n=0,++i}++n,++e}return S.join("")}if(l={version:"1.3.2",ucs2:{decode:X,encode:v},decode:S,encode:I,toASCII:function(t){return G(t,(function(t){return p.test(t)?"xn--"+I(t):t}))},toUnicode:function(t){return G(t,(function(t){return d.test(t)?S(t.slice(4).toLowerCase()):t}))}},r&&o)if(t.exports==r)o.exports=l;else for(s in l)l.hasOwnProperty(s)&&(r[s]=l[s]);else n.punycode=l}(i)})),Ue=function(t){return"string"==typeof t},De=function(t){return"object"==typeof t&&null!==t},Fe=function(t){return null===t};function Ee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Be=function(t,e,n,i){e=e||"&",n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;var o=/\+/g;t=t.split(e);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var s=0;s<l;++s){var c,u,d,p,m=t[s].replace(o,"%20"),h=m.indexOf(n);h>=0?(c=m.substr(0,h),u=m.substr(h+1)):(c=m,u=""),d=decodeURIComponent(c),p=decodeURIComponent(u),Ee(r,d)?Array.isArray(r[d])?r[d].push(p):r[d]=[r[d],p]:r[d]=p}return r},Qe=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Oe=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var r=encodeURIComponent(Qe(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return r+encodeURIComponent(Qe(t))})).join(e):r+encodeURIComponent(Qe(t[i]))})).join(e):i?encodeURIComponent(Qe(i))+n+encodeURIComponent(Qe(t)):""},_e=r((function(t,e){e.decode=e.parse=Be,e.encode=e.stringify=Oe})),Ae=mn,qe=$e;function $e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var tn=/^([a-z0-9.+-]+:)/i,en=/:[0-9]*$/,nn=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,rn=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),on=["'"].concat(rn),an=["%","/","?",";","#"].concat(on),ln=["/","?","#"],sn=/^[+a-z0-9A-Z_-]{0,63}$/,cn=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,un={javascript:!0,"javascript:":!0},dn={javascript:!0,"javascript:":!0},pn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function mn(t,e,n){if(t&&De(t)&&t instanceof $e)return t;var i=new $e;return i.parse(t,e,n),i}$e.prototype.parse=function(t,e,n){if(!Ue(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),r=-1!==i&&i<t.indexOf("#")?"?":"#",o=t.split(r);o[0]=o[0].replace(/\\/g,"/");var a=t=o.join(r);if(a=a.trim(),!n&&1===t.split("#").length){var l=nn.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=e?_e.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var s=tn.exec(a);if(s){var c=(s=s[0]).toLowerCase();this.protocol=c,a=a.substr(s.length)}if(n||s||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===a.substr(0,2);!u||s&&dn[s]||(a=a.substr(2),this.slashes=!0)}if(!dn[s]&&(u||s&&!pn[s])){for(var d,p,m=-1,h=0;h<ln.length;h++)-1!==(b=a.indexOf(ln[h]))&&(-1===m||b<m)&&(m=b);for(-1!==(p=-1===m?a.lastIndexOf("@"):a.lastIndexOf("@",m))&&(d=a.slice(0,p),a=a.slice(p+1),this.auth=decodeURIComponent(d)),m=-1,h=0;h<an.length;h++){var b;-1!==(b=a.indexOf(an[h]))&&(-1===m||b<m)&&(m=b)}-1===m&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var f=this.hostname.split(/\./),Z=(h=0,f.length);h<Z;h++){var G=f[h];if(G&&!G.match(sn)){for(var X="",v=0,g=G.length;v<g;v++)G.charCodeAt(v)>127?X+="x":X+=G[v];if(!X.match(sn)){var K=f.slice(0,h),S=f.slice(h+1),I=G.match(cn);I&&(K.push(I[1]),S.unshift(I[2])),S.length&&(a="/"+S.join(".")+a),this.hostname=K.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=ze.toASCII(this.hostname));var x=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+x,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!un[c])for(h=0,Z=on.length;h<Z;h++){var W=on[h];if(-1!==a.indexOf(W)){var V=encodeURIComponent(W);V===W&&(V=escape(W)),a=a.split(W).join(V)}}var w=a.indexOf("#");-1!==w&&(this.hash=a.substr(w),a=a.slice(0,w));var T=a.indexOf("?");if(-1!==T?(this.search=a.substr(T),this.query=a.substr(T+1),e&&(this.query=_e.parse(this.query)),a=a.slice(0,T)):e&&(this.search="",this.query={}),a&&(this.pathname=a),pn[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){x=this.pathname||"";var C=this.search||"";this.path=x+C}return this.href=this.format(),this},$e.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&De(this.query)&&Object.keys(this.query).length&&(o=_e.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||pn[e])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+r+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},$e.prototype.resolve=function(t){return this.resolveObject(mn(t,!1,!0)).format()},$e.prototype.resolveObject=function(t){if(Ue(t)){var e=new $e;e.parse(t,!1,!0),t=e}for(var n=new $e,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var s=a[l];"protocol"!==s&&(n[s]=t[s])}return pn[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!pn[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var d=c[u];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||dn[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",h=n.search||"";n.path=m+h}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=y||b||n.host&&t.pathname,Z=f,G=n.pathname&&n.pathname.split("/")||[],X=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!pn[n.protocol]);if(X&&(n.hostname="",n.port=null,n.host&&(""===G[0]?G[0]=n.host:G.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),f=f&&(""===p[0]||""===G[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,G=p;else if(p.length)G||(G=[]),G.pop(),G=G.concat(p),n.search=t.search,n.query=t.query;else if(!function(t){return null==t}(t.search))return X&&(n.hostname=n.host=G.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),n.search=t.search,n.query=t.query,Fe(n.pathname)&&Fe(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!G.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var v=G.slice(-1)[0],g=(n.host||t.host||G.length>1)&&("."===v||".."===v)||""===v,K=0,S=G.length;S>=0;S--)"."===(v=G[S])?G.splice(S,1):".."===v?(G.splice(S,1),K++):K&&(G.splice(S,1),K--);if(!f&&!Z)for(;K--;K)G.unshift("..");!f||""===G[0]||G[0]&&"/"===G[0].charAt(0)||G.unshift(""),g&&"/"!==G.join("/").substr(-1)&&G.push("");var I,x=""===G[0]||G[0]&&"/"===G[0].charAt(0);return X&&(n.hostname=n.host=x?"":G.length?G.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),(f=f||n.host&&G.length)&&!x&&G.unshift(""),G.length?n.pathname=G.join("/"):(n.pathname=null,n.path=null),Fe(n.pathname)&&Fe(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},$e.prototype.parseHost=function(){var t=this.host,e=en.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var hn,bn,yn={parse:Ae,resolve:function(t,e){return mn(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?mn(t,!1,!0).resolveObject(e):e},format:function(t){return Ue(t)&&(t=mn(t)),t instanceof $e?t.format():$e.prototype.format.call(t)},Url:qe},fn=r((function(t,e){function n(t,e){void 0===e&&(e={});for(var n=function(t){for(var e=[],n=0;n<t.length;){var i=t[n];if("*"!==i&&"+"!==i&&"?"!==i)if("\\"!==i)if("{"!==i)if("}"!==i)if(":"!==i)if("("!==i)e.push({type:"CHAR",index:n,value:t[n++]});else{var r=1,o="";if("?"===t[l=n+1])throw new TypeError('Pattern cannot start with "?" at '+l);for(;l<t.length;)if("\\"!==t[l]){if(")"===t[l]){if(0==--r){l++;break}}else if("("===t[l]&&(r++,"?"!==t[l+1]))throw new TypeError("Capturing groups are not allowed at "+l);o+=t[l++]}else o+=t[l++]+t[l++];if(r)throw new TypeError("Unbalanced pattern at "+n);if(!o)throw new TypeError("Missing pattern at "+n);e.push({type:"PATTERN",index:n,value:o}),n=l}else{for(var a="",l=n+1;l<t.length;){var s=t.charCodeAt(l);if(!(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s))break;a+=t[l++]}if(!a)throw new TypeError("Missing parameter name at "+n);e.push({type:"NAME",index:n,value:a}),n=l}else e.push({type:"CLOSE",index:n,value:t[n++]});else e.push({type:"OPEN",index:n,value:t[n++]});else e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});else e.push({type:"MODIFIER",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}(t),i=e.prefixes,r=void 0===i?"./":i,a="[^"+o(e.delimiter||"/#?")+"]+?",l=[],s=0,c=0,u="",d=function(t){if(c<n.length&&n[c].type===t)return n[c++].value},p=function(t){var e=d(t);if(void 0!==e)return e;var i=n[c],r=i.type,o=i.index;throw new TypeError("Unexpected "+r+" at "+o+", expected "+t)},m=function(){for(var t,e="";t=d("CHAR")||d("ESCAPED_CHAR");)e+=t;return e};c<n.length;){var h=d("CHAR"),b=d("NAME"),y=d("PATTERN");if(b||y){var f=h||"";-1===r.indexOf(f)&&(u+=f,f=""),u&&(l.push(u),u=""),l.push({name:b||s++,prefix:f,suffix:"",pattern:y||a,modifier:d("MODIFIER")||""})}else{var Z=h||d("ESCAPED_CHAR");if(Z)u+=Z;else if(u&&(l.push(u),u=""),d("OPEN")){f=m();var G=d("NAME")||"",X=d("PATTERN")||"",v=m();p("CLOSE"),l.push({name:G||(X?s++:""),pattern:G&&!X?a:X,prefix:f,suffix:v,modifier:d("MODIFIER")||""})}else p("END")}}return l}function i(t,e){void 0===e&&(e={});var n=a(e),i=e.encode,r=void 0===i?function(t){return t}:i,o=e.validate,l=void 0===o||o,s=t.map((function(t){if("object"==typeof t)return new RegExp("^(?:"+t.pattern+")$",n)}));return function(e){for(var n="",i=0;i<t.length;i++){var o=t[i];if("string"!=typeof o){var a=e?e[o.name]:void 0,c="?"===o.modifier||"*"===o.modifier,u="*"===o.modifier||"+"===o.modifier;if(Array.isArray(a)){if(!u)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===a.length){if(c)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var d=0;d<a.length;d++){var p=r(a[d],o);if(l&&!s[i].test(p))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+p+'"');n+=o.prefix+p+o.suffix}}else if("string"!=typeof a&&"number"!=typeof a){if(!c){var m=u?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+m)}}else{if(p=r(String(a),o),l&&!s[i].test(p))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+p+'"');n+=o.prefix+p+o.suffix}}else n+=o}return n}}function r(t,e,n){void 0===n&&(n={});var i=n.decode,r=void 0===i?function(t){return t}:i;return function(n){var i=t.exec(n);if(!i)return!1;for(var o=i[0],a=i.index,l=Object.create(null),s=function(t){if(void 0===i[t])return"continue";var n=e[t-1];"*"===n.modifier||"+"===n.modifier?l[n.name]=i[t].split(n.prefix+n.suffix).map((function(t){return r(t,n)})):l[n.name]=r(i[t],n)},c=1;c<i.length;c++)s(c);return{path:o,index:a,params:l}}}function o(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function a(t){return t&&t.sensitive?"":"i"}function l(t,e,n){void 0===n&&(n={});for(var i=n.strict,r=void 0!==i&&i,l=n.start,s=void 0===l||l,c=n.end,u=void 0===c||c,d=n.encode,p=void 0===d?function(t){return t}:d,m="["+o(n.endsWith||"")+"]|$",h="["+o(n.delimiter||"/#?")+"]",b=s?"^":"",y=0,f=t;y<f.length;y++){var Z=f[y];if("string"==typeof Z)b+=o(p(Z));else{var G=o(p(Z.prefix)),X=o(p(Z.suffix));if(Z.pattern)if(e&&e.push(Z),G||X)if("+"===Z.modifier||"*"===Z.modifier){var v="*"===Z.modifier?"?":"";b+="(?:"+G+"((?:"+Z.pattern+")(?:"+X+G+"(?:"+Z.pattern+"))*)"+X+")"+v}else b+="(?:"+G+"("+Z.pattern+")"+X+")"+Z.modifier;else b+="("+Z.pattern+")"+Z.modifier;else b+="(?:"+G+X+")"+Z.modifier}}if(u)r||(b+=h+"?"),b+=n.endsWith?"(?="+m+")":"$";else{var g=t[t.length-1],K="string"==typeof g?h.indexOf(g[g.length-1])>-1:void 0===g;r||(b+="(?:"+h+"(?="+m+"))?"),K||(b+="(?="+h+"|"+m+")")}return new RegExp(b,a(n))}function s(t,e,i){return t instanceof RegExp?function(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,i=0,r=n.exec(t.source);r;)e.push({name:r[1]||i++,prefix:"",suffix:"",modifier:"",pattern:""}),r=n.exec(t.source);return t}(t,e):Array.isArray(t)?function(t,e,n){var i=t.map((function(t){return s(t,e,n).source}));return new RegExp("(?:"+i.join("|")+")",a(n))}(t,e,i):function(t,e,i){return l(n(t,i),e,i)}(t,e,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.pathToRegexp=e.tokensToRegexp=e.regexpToFunction=e.match=e.tokensToFunction=e.compile=e.parse=void 0,e.parse=n,e.compile=function(t,e){return i(n(t,e),e)},e.tokensToFunction=i,e.match=function(t,e){var n=[];return r(s(t,n,e),n,e)},e.regexpToFunction=r,e.tokensToRegexp=l,e.pathToRegexp=s}));!function(t){t.RequestBodyFilter="requestBodyFilter",t.ResponseBodyFilter="responseBodyFilter"}(hn||(hn={})),function(t){t.Request="Request",t.Response="Response"}(bn||(bn={}));var Zn=[s.TextPlain,s.ApplicationJson],Gn=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.type="http",i.isInstalled=!1,i.needFilterUrl=[],i.needFilterUrl=i.getFilterTransportUrl(e),i}return v.__extends(e,t),e.prototype.handleHttp=function(t){var e=void 0!==t.status&&t.status>=400||0===t.status;g.record.addCustomEvent(h.HTTP,v.__assign(v.__assign({},t),{level:c.Info})),e&&g.record.addCustomEvent(h.HTTP,v.__assign(v.__assign({},t),{level:c.Error}))},e.prototype.replaceXHR=function(){if("XMLHttpRequest"in ye){var t=this,e=XMLHttpRequest.prototype;Ge(e,"open",(function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t.config._emit){var r=n[1];this.fullstoryXhr={sTime:Ze(),type:p.XHR},"string"==typeof n[0]&&(this.fullstoryXhr.method=n[0].toUpperCase()),"string"==typeof n[1]&&(this.fullstoryXhr.url=n[1]),this.fullstoryRequestHeaders={},ve(r)&&(this.fullstoryXhr.isSdkUrl=!0),t.isFilterTransportUrl(r)&&(this.fullstoryXhr.isFilterUrl=!0)}e.apply(this,n)}})),Ge(e,"setRequestHeader",(function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t.config._emit){var r=n[0],o=n[1];"string"==typeof r&&"string"==typeof o&&(!this.fullstoryRequestHeaders&&(this.fullstoryRequestHeaders={}),this.fullstoryRequestHeaders[r]=o)}e.apply(this,n)}})),Ge(e,"send",(function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Xe(this,"loadend",(function(){if(t.config._emit)try{if(this.fullstoryXhr.isSdkUrl||this.fullstoryXhr.isFilterUrl)return;this.fullstoryXhr.reqData=n[0],this.fullstoryXhr.reqData=t.xhrHttpFilter(this.fullstoryXhr,bn.Request,this);var e=Ze();this.fullstoryXhr.time=e,this.fullstoryXhr.status=this.status,this.fullstoryXhr.statusText=this.statusText,this.fullstoryXhr.responseText=t.xhrHttpFilter(this.fullstoryXhr,bn.Response,this),this.fullstoryXhr.elapsedTime=e-this.fullstoryXhr.sTime;var i={};this.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((function(t){var e=t.split(": "),n=e.shift(),r=e.join(": ");i[n]=r})),this.fullstoryXhr.responseHeaders=JSON.stringify(i),this.fullstoryXhr.requestHeaders=JSON.stringify(this.fullstoryRequestHeaders||{}),t.handleHttp(this.fullstoryXhr)}catch(t){null==bt||bt.capture({error:t})}})),e.apply(this,n)}}))}},e.prototype.replaceFetch=function(){if("fetch"in ye){var t=this;Ge(ye,d.FETCH,(function(e){return function(n,i){var r=Ze(),o=n,a=i;return"object"==typeof n&&(o=n.url,a=n),e.apply(ye,[n,i]).then((function(e){if(t.config._emit&&!ve(o)&&!t.isFilterTransportUrl(o)){var n=e.clone(),i=Ze(),l={elapsedTime:i-r,type:p.FETCH,reqData:null==a?void 0:a.body,method:a&&a.method||"GET",requestHeaders:JSON.stringify(a&&a.headers||{}),url:o,status:n.status,statusText:n.statusText,time:i,sTime:r},s=n.headers.get("Content-Type")||"";n.text().then((function(e){l.reqData=t.fetchFilter(l,bn.Request,s,e);var i={};n.headers.forEach((function(t,e){i[e]=t})),l.responseHeaders=JSON.stringify(i),l.responseText=t.fetchFilter(l,bn.Response,s,e),t.handleHttp(l)}))}return e}),(function(e){if(!t.config._emit)throw e;if(!ve(o)){var n=Ze(),i={elapsedTime:n-r,type:p.FETCH,method:a&&a.method||"GET",reqData:(null==a?void 0:a.body)&&t.httpContentFilter({url:o,body:a.body,filterType:hn.RequestBodyFilter}),url:o,status:0,statusText:e.name+e.message,time:n};throw t.handleHttp(i),e}}))}}))}},e.prototype.install=function(){this.isInstalled?ge((function(){console.log("already install APIPlugin")})):this.config.reportAjax?(this.replaceFetch(),this.replaceXHR(),this.isInstalled=!0):ge((function(){console.log("reportAPI closed")}))},e.prototype.httpDataFilter=function(t,e){void 0===e&&(e=!0);var n=this.config.httpLimitSize,i=void 0===n?4:n,r=this.config.httpReserved,o=void 0===r?[]:r;if(he(t)>1024*i*1024){if(ke(t)){var a=JSON.parse(t);if(o=o.filter((function(t){return!!(a.hasOwnProperty(t)&&he(a[t])<=1024*i*1024)})),e&&o.length){var l={};return o.forEach((function(t){l[t]=a[t]})),JSON.stringify(l)}}return"The data is too large and has been filtered"}return t},e.prototype.isFilterTransportUrl=function(t){var e=this.establishUrlConfig(t);return!!this.needFilterUrl.find((function(t){var n=t.pathname;return(t.host===e.host&&t.protocol===e.protocol||!t.protocol&&!t.host)&&n&&!!fn.pathToRegexp(n).exec(e.pathname)}))},e.prototype.getFilterTransportUrl=function(t){var e=this;try{var n=t.filterRules;if(ke(n)){var i=JSON.parse(n)||[];if(Array.isArray(i)&&i.length)return i.filter((function(t){return"string"==typeof t.url&&!0===t.urlFilter})).map((function(t){return e.establishUrlConfig(t.url)}))}}catch(t){return[]}return[]},e.prototype.establishUrlConfig=function(t){var e=yn.parse(t),n=yn.parse(window.location.href);return!e.protocol&&(e.protocol=n.protocol),!e.host&&(e.host=n.host),e},e.prototype.httpContentFilter=function(t){var e=t.url,n=t.filterType,i=t.body,r=this.config.filterRules;try{var o=this.establishUrlConfig(e);if(ke(i)&&ke(r)){var a=JSON.parse(r)||[];if(Array.isArray(a)&&a.length){var l=a.find((function(t){var e=yn.parse(t.url),n=e.pathname;return(e.host===o.host&&e.protocol===o.protocol||!e.protocol&&!e.host)&&n&&!!fn.pathToRegexp(n).exec(o.pathname)})),s=l&&l[n];if(s&&Array.isArray(s)){var c="string"==typeof i&&JSON.parse(i),u=new Map;return s.forEach((function(t){return"string"==typeof t&&u.set(t,!0)})),JSON.stringify(Ke(c,"",u))}}}}catch(t){return i}return i},e.prototype.xhrHttpFilter=function(t,e,n){var i=t.url,r=t.reqData;if(e===bn.Request)return this.httpContentFilter({url:i,body:this.httpDataFilter(r),filterType:hn.RequestBodyFilter});if(e===bn.Response){var o=n.getResponseHeader("Content-Type")||"",a=void 0,c=!0;return Zn.filter((function(t){return o.includes(t)})).length?n.responseType===l.Json?a=JSON.stringify(n.response):o.includes(s.ApplicationJson)?a=n.responseText:(a=n.responseText,c=!1):a=o,this.httpContentFilter({url:i,body:this.httpDataFilter(a,c),filterType:hn.ResponseBodyFilter})}},e.prototype.fetchFilter=function(t,e,n,i){var r=t.url,o=t.reqData;if(e===bn.Request)return this.httpContentFilter({url:r,body:this.httpDataFilter(o),filterType:hn.RequestBodyFilter});if(e===bn.Response){var a=void 0,l=!0;return a=n,Zn.filter((function(t){return n.includes(t)})).length&&(n.includes(s.ApplicationJson)||(l=!1),a=this.httpDataFilter(i,l),ke(a)&&(a=this.httpContentFilter({url:r,body:a,filterType:hn.ResponseBodyFilter}))),a}},e}(St);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=d.CONSOLE,e.isInstalled=!1,e}v.__extends(e,t),e.prototype.handleConsole=function(t){be.isLogAddEvents&&g.record.addCustomEvent(h.CONSOLE,t)},e.prototype.replaceConsole=function(){if("console"in ye){var t=this;["debug","info","warn","error","assert"].forEach((function(e){return Ge(ye.console,e,(function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];n&&(t.handleConsole({args:i,level:e}),n.apply(ye.console,i))}}))}))}},e.prototype.install=function(){this.isInstalled?ge((function(){console.log("already install consolePlugin")})):(this.replaceConsole(),this.isInstalled=!0)}}(St);var Xn=null;try{var vn="undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof require&&require("worker_threads")||"function"==typeof require&&require("worker_threads");Xn=vn.Worker}catch(R){}var gn,Kn,Sn=(gn="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBlKHQsZSxyKXtyZXR1cm4gdChyPXtwYXRoOmUsZXhwb3J0czp7fSxyZXF1aXJlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJEeW5hbWljIHJlcXVpcmVzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBAcm9sbHVwL3BsdWdpbi1jb21tb25qcyIpfShudWxsPT1lJiZyLnBhdGgpfX0sci5leHBvcnRzKSxyLmV4cG9ydHN9dmFyIHI9ZSgoZnVuY3Rpb24oZSl7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoJQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgoJUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CglwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgoJVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKCVJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQoJQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAoJSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCglMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgoJT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgoJUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KCSoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovCnZhciByLG4sbyxpLGEsdSxzLGYsaCxjLGwscCxkLHksdixnLGIsdyxtLF8sQSxFLE8sUzshZnVuY3Rpb24oTSl7dmFyIEI9Im9iamVjdCI9PXR5cGVvZiB0P3Q6Im9iamVjdCI9PXR5cGVvZiBzZWxmP3NlbGY6Im9iamVjdCI9PXR5cGVvZiB0aGlzP3RoaXM6e307ZnVuY3Rpb24gVSh0LGUpe3JldHVybiB0IT09QiYmKCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTp0Ll9fZXNNb2R1bGU9ITApLGZ1bmN0aW9uKHIsbil7cmV0dXJuIHRbcl09ZT9lKHIsbik6bn19IWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKX07cj1mdW5jdGlvbih0LHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LHIpLHQucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX0sbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGUscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiBlPWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmKHRbb109ZVtvXSk7cmV0dXJuIHR9LG89ZnVuY3Rpb24odCxlKXt2YXIgcj17fTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmZS5pbmRleE9mKG4pPDAmJihyW25dPXRbbl0pO2lmKG51bGwhPXQmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7bzxuLmxlbmd0aDtvKyspZS5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LG5bb10pJiYocltuW29dXT10W25bb11dKX1yZXR1cm4gcn0saT1mdW5jdGlvbih0LGUscixuKXt2YXIgbyxpPWFyZ3VtZW50cy5sZW5ndGgsYT1pPDM/ZTpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTpuO2lmKCJvYmplY3QiPT10eXBlb2YgUmVmbGVjdCYmImZ1bmN0aW9uIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpYT1SZWZsZWN0LmRlY29yYXRlKHQsZSxyLG4pO2Vsc2UgZm9yKHZhciB1PXQubGVuZ3RoLTE7dT49MDt1LS0pKG89dFt1XSkmJihhPShpPDM/byhhKTppPjM/byhlLHIsYSk6byhlLHIpKXx8YSk7cmV0dXJuIGk+MyYmYSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixhKSxhfSxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7ZShyLG4sdCl9fSx1PWZ1bmN0aW9uKHQsZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBSZWZsZWN0JiYiZnVuY3Rpb24iPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxzPWZ1bmN0aW9uKHQsZSxyLG4pe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCl9KSl9cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHIsaSl7ZnVuY3Rpb24gYSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHUodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gcyh0KXt0LmRvbmU/cih0LnZhbHVlKTpvKHQudmFsdWUpLnRoZW4oYSx1KX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9LGY9ZnVuY3Rpb24odCxlKXt2YXIgcixuLG8saSxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OnUoMCksdGhyb3c6dSgxKSxyZXR1cm46dSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiB1KHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gcyhbdCxlXSl9fWZ1bmN0aW9uIHMoaSl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYocj0xLG4mJihvPTImaVswXT9uLnJldHVybjppWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4saVsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYoaT1bMiZpWzBdLG8udmFsdWVdKSxpWzBdKXtjYXNlIDA6Y2FzZSAxOm89aTticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6aVsxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49aVsxXSxpPVswXTtjb250aW51ZTtjYXNlIDc6aT1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09aVswXSYmMiE9PWlbMF0pKXthPTA7Y29udGludWV9aWYoMz09PWlbMF0mJighb3x8aVsxXT5vWzBdJiZpWzFdPG9bM10pKXthLmxhYmVsPWlbMV07YnJlYWt9aWYoNj09PWlbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89aTticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKGkpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1pPWUuY2FsbCh0LGEpfWNhdGNoKHQpe2k9WzYsdF0sbj0wfWZpbmFsbHl7cj1vPTB9aWYoNSZpWzBdKXRocm93IGlbMV07cmV0dXJue3ZhbHVlOmlbMF0/aVsxXTp2b2lkIDAsZG9uZTohMH19fSxoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIHQpImRlZmF1bHQiPT09cnx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscil8fFMoZSx0LHIpfSxTPU9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlLHIsbil7dm9pZCAwPT09biYmKG49ciksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtyXX19KX06ZnVuY3Rpb24odCxlLHIsbil7dm9pZCAwPT09biYmKG49ciksdFtuXT1lW3JdfSxjPWZ1bmN0aW9uKHQpe3ZhciBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPWUmJnRbZV0sbj0wO2lmKHIpcmV0dXJuIHIuY2FsbCh0KTtpZih0JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJm4+PXQubGVuZ3RoJiYodD12b2lkIDApLHt2YWx1ZTp0JiZ0W24rK10sZG9uZTohdH19fTt0aHJvdyBuZXcgVHlwZUVycm9yKGU/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxsPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiB0O3ZhciBuLG8saT1yLmNhbGwodCksYT1bXTt0cnl7Zm9yKDsodm9pZCAwPT09ZXx8ZS0tID4wKSYmIShuPWkubmV4dCgpKS5kb25lOylhLnB1c2gobi52YWx1ZSl9Y2F0Y2godCl7bz17ZXJyb3I6dH19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBhfSxwPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXQ9dC5jb25jYXQobChhcmd1bWVudHNbZV0pKTtyZXR1cm4gdH0sZD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxyPWFyZ3VtZW50cy5sZW5ndGg7ZTxyO2UrKyl0Kz1hcmd1bWVudHNbZV0ubGVuZ3RoO3ZhciBuPUFycmF5KHQpLG89MDtmb3IoZT0wO2U8cjtlKyspZm9yKHZhciBpPWFyZ3VtZW50c1tlXSxhPTAsdT1pLmxlbmd0aDthPHU7YSsrLG8rKyluW29dPWlbYV07cmV0dXJuIG59LHk9ZnVuY3Rpb24odCxlLHIpe2lmKHJ8fDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgbixvPTAsaT1lLmxlbmd0aDtvPGk7bysrKSFuJiZvIGluIGV8fChufHwobj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDAsbykpLG5bb109ZVtvXSk7cmV0dXJuIHQuY29uY2F0KG58fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sdj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHY/KHRoaXMudj10LHRoaXMpOm5ldyB2KHQpfSxnPWZ1bmN0aW9uKHQsZSxyKXtpZighU3ltYm9sLmFzeW5jSXRlcmF0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7dmFyIG4sbz1yLmFwcGx5KHQsZXx8W10pLGk9W107cmV0dXJuIG49e30sYSgibmV4dCIpLGEoInRocm93IiksYSgicmV0dXJuIiksbltTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbjtmdW5jdGlvbiBhKHQpe29bdF0mJihuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixuKXtpLnB1c2goW3QsZSxyLG5dKT4xfHx1KHQsZSl9KSl9KX1mdW5jdGlvbiB1KHQsZSl7dHJ5e3Mob1t0XShlKSl9Y2F0Y2godCl7YyhpWzBdWzNdLHQpfX1mdW5jdGlvbiBzKHQpe3QudmFsdWUgaW5zdGFuY2VvZiB2P1Byb21pc2UucmVzb2x2ZSh0LnZhbHVlLnYpLnRoZW4oZixoKTpjKGlbMF1bMl0sdCl9ZnVuY3Rpb24gZih0KXt1KCJuZXh0Iix0KX1mdW5jdGlvbiBoKHQpe3UoInRocm93Iix0KX1mdW5jdGlvbiBjKHQsZSl7dChlKSxpLnNoaWZ0KCksaS5sZW5ndGgmJnUoaVswXVswXSxpWzBdWzFdKX19LGI9ZnVuY3Rpb24odCl7dmFyIGUscjtyZXR1cm4gZT17fSxuKCJuZXh0IiksbigidGhyb3ciLChmdW5jdGlvbih0KXt0aHJvdyB0fSkpLG4oInJldHVybiIpLGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlO2Z1bmN0aW9uIG4obixvKXtlW25dPXRbbl0/ZnVuY3Rpb24oZSl7cmV0dXJuKHI9IXIpP3t2YWx1ZTp2KHRbbl0oZSkpLGRvbmU6InJldHVybiI9PT1ufTpvP28oZSk6ZX06b319LHc9ZnVuY3Rpb24odCl7aWYoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpO3ZhciBlLHI9dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl07cmV0dXJuIHI/ci5jYWxsKHQpOih0PWModCksZT17fSxuKCJuZXh0IiksbigidGhyb3ciKSxuKCJyZXR1cm4iKSxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlKTtmdW5jdGlvbiBuKHIpe2Vbcl09dFtyXSYmZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe28obixpLChlPXRbcl0oZSkpLmRvbmUsZS52YWx1ZSl9KSl9fWZ1bmN0aW9uIG8odCxlLHIsbil7UHJvbWlzZS5yZXNvbHZlKG4pLnRoZW4oKGZ1bmN0aW9uKGUpe3Qoe3ZhbHVlOmUsZG9uZTpyfSl9KSxlKX19LG09ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJyYXciLHt2YWx1ZTplfSk6dC5yYXc9ZSx0fTt2YXIgTT1PYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KX06ZnVuY3Rpb24odCxlKXt0LmRlZmF1bHQ9ZX07Xz1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdCkiZGVmYXVsdCIhPT1yJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmUyhlLHQscik7cmV0dXJuIE0oZSx0KSxlfSxBPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0sRT1mdW5jdGlvbih0LGUscixuKXtpZigiYSI9PT1yJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXIiKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZT90IT09ZXx8IW46IWUuaGFzKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCIpO3JldHVybiJtIj09PXI/bjoiYSI9PT1yP24uY2FsbCh0KTpuP24udmFsdWU6ZS5nZXQodCl9LE89ZnVuY3Rpb24odCxlLHIsbixvKXtpZigibSI9PT1uKXRocm93IG5ldyBUeXBlRXJyb3IoIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZSIpO2lmKCJhIj09PW4mJiFvKXRocm93IG5ldyBUeXBlRXJyb3IoIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlciIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlP3QhPT1lfHwhbzohZS5oYXModCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXQiKTtyZXR1cm4iYSI9PT1uP28uY2FsbCh0LHIpOm8/by52YWx1ZT1yOmUuc2V0KHQscikscn0sdCgiX19leHRlbmRzIixyKSx0KCJfX2Fzc2lnbiIsbiksdCgiX19yZXN0IixvKSx0KCJfX2RlY29yYXRlIixpKSx0KCJfX3BhcmFtIixhKSx0KCJfX21ldGFkYXRhIix1KSx0KCJfX2F3YWl0ZXIiLHMpLHQoIl9fZ2VuZXJhdG9yIixmKSx0KCJfX2V4cG9ydFN0YXIiLGgpLHQoIl9fY3JlYXRlQmluZGluZyIsUyksdCgiX192YWx1ZXMiLGMpLHQoIl9fcmVhZCIsbCksdCgiX19zcHJlYWQiLHApLHQoIl9fc3ByZWFkQXJyYXlzIixkKSx0KCJfX3NwcmVhZEFycmF5Iix5KSx0KCJfX2F3YWl0Iix2KSx0KCJfX2FzeW5jR2VuZXJhdG9yIixnKSx0KCJfX2FzeW5jRGVsZWdhdG9yIixiKSx0KCJfX2FzeW5jVmFsdWVzIix3KSx0KCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsbSksdCgiX19pbXBvcnRTdGFyIixfKSx0KCJfX2ltcG9ydERlZmF1bHQiLEEpLHQoIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLEUpLHQoIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLE8pfShVKEIsVShlLmV4cG9ydHMpKSl9KCl9KSksbj1lKChmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1bIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiXTtmdW5jdGlvbiByKHQsZSl7dmFyIHI9dFswXSxuPXRbMV0sbz10WzJdLGk9dFszXTtuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG4mb3x+biZpKStlWzBdLTY4MDg3NjkzNnwwKTw8N3xyPj4+MjUpK258MCkmbnx+ciZvKStlWzFdLTM4OTU2NDU4NnwwKTw8MTJ8aT4+PjIwKStyfDApJnJ8fmkmbikrZVsyXSs2MDYxMDU4MTl8MCk8PDE3fG8+Pj4xNSkraXwwKSZpfH5vJnIpK2VbM10tMTA0NDUyNTMzMHwwKTw8MjJ8bj4+PjEwKStvfDAsbj0oKG4rPSgobz0oKG8rPSgoaT0oKGkrPSgocj0oKHIrPShuJm98fm4maSkrZVs0XS0xNzY0MTg4OTd8MCk8PDd8cj4+PjI1KStufDApJm58fnImbykrZVs1XSsxMjAwMDgwNDI2fDApPDwxMnxpPj4+MjApK3J8MCkmcnx+aSZuKStlWzZdLTE0NzMyMzEzNDF8MCk8PDE3fG8+Pj4xNSkraXwwKSZpfH5vJnIpK2VbN10tNDU3MDU5ODN8MCk8PDIyfG4+Pj4xMCkrb3wwLG49KChuKz0oKG89KChvKz0oKGk9KChpKz0oKHI9KChyKz0obiZvfH5uJmkpK2VbOF0rMTc3MDAzNTQxNnwwKTw8N3xyPj4+MjUpK258MCkmbnx+ciZvKStlWzldLTE5NTg0MTQ0MTd8MCk8PDEyfGk+Pj4yMCkrcnwwKSZyfH5pJm4pK2VbMTBdLTQyMDYzfDApPDwxN3xvPj4+MTUpK2l8MCkmaXx+byZyKStlWzExXS0xOTkwNDA0MTYyfDApPDwyMnxuPj4+MTApK298MCxuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG4mb3x+biZpKStlWzEyXSsxODA0NjAzNjgyfDApPDw3fHI+Pj4yNSkrbnwwKSZufH5yJm8pK2VbMTNdLTQwMzQxMTAxfDApPDwxMnxpPj4+MjApK3J8MCkmcnx+aSZuKStlWzE0XS0xNTAyMDAyMjkwfDApPDwxN3xvPj4+MTUpK2l8MCkmaXx+byZyKStlWzE1XSsxMjM2NTM1MzI5fDApPDwyMnxuPj4+MTApK298MCxuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG4maXxvJn5pKStlWzFdLTE2NTc5NjUxMHwwKTw8NXxyPj4+MjcpK258MCkmb3xuJn5vKStlWzZdLTEwNjk1MDE2MzJ8MCk8PDl8aT4+PjIzKStyfDApJm58ciZ+bikrZVsxMV0rNjQzNzE3NzEzfDApPDwxNHxvPj4+MTgpK2l8MCkmcnxpJn5yKStlWzBdLTM3Mzg5NzMwMnwwKTw8MjB8bj4+PjEyKStvfDAsbj0oKG4rPSgobz0oKG8rPSgoaT0oKGkrPSgocj0oKHIrPShuJml8byZ+aSkrZVs1XS03MDE1NTg2OTF8MCk8PDV8cj4+PjI3KStufDApJm98biZ+bykrZVsxMF0rMzgwMTYwODN8MCk8PDl8aT4+PjIzKStyfDApJm58ciZ+bikrZVsxNV0tNjYwNDc4MzM1fDApPDwxNHxvPj4+MTgpK2l8MCkmcnxpJn5yKStlWzRdLTQwNTUzNzg0OHwwKTw8MjB8bj4+PjEyKStvfDAsbj0oKG4rPSgobz0oKG8rPSgoaT0oKGkrPSgocj0oKHIrPShuJml8byZ+aSkrZVs5XSs1Njg0NDY0Mzh8MCk8PDV8cj4+PjI3KStufDApJm98biZ+bykrZVsxNF0tMTAxOTgwMzY5MHwwKTw8OXxpPj4+MjMpK3J8MCkmbnxyJn5uKStlWzNdLTE4NzM2Mzk2MXwwKTw8MTR8bz4+PjE4KStpfDApJnJ8aSZ+cikrZVs4XSsxMTYzNTMxNTAxfDApPDwyMHxuPj4+MTIpK298MCxuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG4maXxvJn5pKStlWzEzXS0xNDQ0NjgxNDY3fDApPDw1fHI+Pj4yNykrbnwwKSZvfG4mfm8pK2VbMl0tNTE0MDM3ODR8MCk8PDl8aT4+PjIzKStyfDApJm58ciZ+bikrZVs3XSsxNzM1MzI4NDczfDApPDwxNHxvPj4+MTgpK2l8MCkmcnxpJn5yKStlWzEyXS0xOTI2NjA3NzM0fDApPDwyMHxuPj4+MTIpK298MCxuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG5eb15pKStlWzVdLTM3ODU1OHwwKTw8NHxyPj4+MjgpK258MClebl5vKStlWzhdLTIwMjI1NzQ0NjN8MCk8PDExfGk+Pj4yMSkrcnwwKV5yXm4pK2VbMTFdKzE4MzkwMzA1NjJ8MCk8PDE2fG8+Pj4xNikraXwwKV5pXnIpK2VbMTRdLTM1MzA5NTU2fDApPDwyM3xuPj4+OSkrb3wwLG49KChuKz0oKG89KChvKz0oKGk9KChpKz0oKHI9KChyKz0obl5vXmkpK2VbMV0tMTUzMDk5MjA2MHwwKTw8NHxyPj4+MjgpK258MClebl5vKStlWzRdKzEyNzI4OTMzNTN8MCk8PDExfGk+Pj4yMSkrcnwwKV5yXm4pK2VbN10tMTU1NDk3NjMyfDApPDwxNnxvPj4+MTYpK2l8MCleaV5yKStlWzEwXS0xMDk0NzMwNjQwfDApPDwyM3xuPj4+OSkrb3wwLG49KChuKz0oKG89KChvKz0oKGk9KChpKz0oKHI9KChyKz0obl5vXmkpK2VbMTNdKzY4MTI3OTE3NHwwKTw8NHxyPj4+MjgpK258MClebl5vKStlWzBdLTM1ODUzNzIyMnwwKTw8MTF8aT4+PjIxKStyfDApXnJebikrZVszXS03MjI1MjE5Nzl8MCk8PDE2fG8+Pj4xNikraXwwKV5pXnIpK2VbNl0rNzYwMjkxODl8MCk8PDIzfG4+Pj45KStvfDAsbj0oKG4rPSgobz0oKG8rPSgoaT0oKGkrPSgocj0oKHIrPShuXm9eaSkrZVs5XS02NDAzNjQ0ODd8MCk8PDR8cj4+PjI4KStufDApXm5ebykrZVsxMl0tNDIxODE1ODM1fDApPDwxMXxpPj4+MjEpK3J8MClecl5uKStlWzE1XSs1MzA3NDI1MjB8MCk8PDE2fG8+Pj4xNikraXwwKV5pXnIpK2VbMl0tOTk1MzM4NjUxfDApPDwyM3xuPj4+OSkrb3wwLG49KChuKz0oKGk9KChpKz0obl4oKHI9KChyKz0ob14obnx+aSkpK2VbMF0tMTk4NjMwODQ0fDApPDw2fHI+Pj4yNikrbnwwKXx+bykpK2VbN10rMTEyNjg5MTQxNXwwKTw8MTB8aT4+PjIyKStyfDApXigobz0oKG8rPShyXihpfH5uKSkrZVsxNF0tMTQxNjM1NDkwNXwwKTw8MTV8bz4+PjE3KStpfDApfH5yKSkrZVs1XS01NzQzNDA1NXwwKTw8MjF8bj4+PjExKStvfDAsbj0oKG4rPSgoaT0oKGkrPShuXigocj0oKHIrPShvXihufH5pKSkrZVsxMl0rMTcwMDQ4NTU3MXwwKTw8NnxyPj4+MjYpK258MCl8fm8pKStlWzNdLTE4OTQ5ODY2MDZ8MCk8PDEwfGk+Pj4yMikrcnwwKV4oKG89KChvKz0ocl4oaXx+bikpK2VbMTBdLTEwNTE1MjN8MCk8PDE1fG8+Pj4xNykraXwwKXx+cikpK2VbMV0tMjA1NDkyMjc5OXwwKTw8MjF8bj4+PjExKStvfDAsbj0oKG4rPSgoaT0oKGkrPShuXigocj0oKHIrPShvXihufH5pKSkrZVs4XSsxODczMzEzMzU5fDApPDw2fHI+Pj4yNikrbnwwKXx+bykpK2VbMTVdLTMwNjExNzQ0fDApPDwxMHxpPj4+MjIpK3J8MCleKChvPSgobys9KHJeKGl8fm4pKStlWzZdLTE1NjAxOTgzODB8MCk8PDE1fG8+Pj4xNykraXwwKXx+cikpK2VbMTNdKzEzMDkxNTE2NDl8MCk8PDIxfG4+Pj4xMSkrb3wwLG49KChuKz0oKGk9KChpKz0obl4oKHI9KChyKz0ob14obnx+aSkpK2VbNF0tMTQ1NTIzMDcwfDApPDw2fHI+Pj4yNikrbnwwKXx+bykpK2VbMTFdLTExMjAyMTAzNzl8MCk8PDEwfGk+Pj4yMikrcnwwKV4oKG89KChvKz0ocl4oaXx+bikpK2VbMl0rNzE4Nzg3MjU5fDApPDwxNXxvPj4+MTcpK2l8MCl8fnIpKStlWzldLTM0MzQ4NTU1MXwwKTw8MjF8bj4+PjExKStvfDAsdFswXT1yK3RbMF18MCx0WzFdPW4rdFsxXXwwLHRbMl09byt0WzJdfDAsdFszXT1pK3RbM118MH1mdW5jdGlvbiBuKHQpe3ZhciBlLHI9W107Zm9yKGU9MDtlPDY0O2UrPTQpcltlPj4yXT10LmNoYXJDb2RlQXQoZSkrKHQuY2hhckNvZGVBdChlKzEpPDw4KSsodC5jaGFyQ29kZUF0KGUrMik8PDE2KSsodC5jaGFyQ29kZUF0KGUrMyk8PDI0KTtyZXR1cm4gcn1mdW5jdGlvbiBvKHQpe3ZhciBlLHI9W107Zm9yKGU9MDtlPDY0O2UrPTQpcltlPj4yXT10W2VdKyh0W2UrMV08PDgpKyh0W2UrMl08PDE2KSsodFtlKzNdPDwyNCk7cmV0dXJuIHJ9ZnVuY3Rpb24gaSh0KXt2YXIgZSxvLGksYSx1LHMsZj10Lmxlbmd0aCxoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XTtmb3IoZT02NDtlPD1mO2UrPTY0KXIoaCxuKHQuc3Vic3RyaW5nKGUtNjQsZSkpKTtmb3Iobz0odD10LnN1YnN0cmluZyhlLTY0KSkubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdLGU9MDtlPG87ZSs9MSlpW2U+PjJdfD10LmNoYXJDb2RlQXQoZSk8PChlJTQ8PDMpO2lmKGlbZT4+Ml18PTEyODw8KGUlNDw8MyksZT41NSlmb3IocihoLGkpLGU9MDtlPDE2O2UrPTEpaVtlXT0wO3JldHVybiBhPShhPTgqZikudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLHU9cGFyc2VJbnQoYVsyXSwxNikscz1wYXJzZUludChhWzFdLDE2KXx8MCxpWzE0XT11LGlbMTVdPXMscihoLGkpLGh9ZnVuY3Rpb24gYSh0KXt2YXIgZSxuLGksYSx1LHMsZj10Lmxlbmd0aCxoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XTtmb3IoZT02NDtlPD1mO2UrPTY0KXIoaCxvKHQuc3ViYXJyYXkoZS02NCxlKSkpO2ZvcihuPSh0PWUtNjQ8Zj90LnN1YmFycmF5KGUtNjQpOm5ldyBVaW50OEFycmF5KDApKS5sZW5ndGgsaT1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sZT0wO2U8bjtlKz0xKWlbZT4+Ml18PXRbZV08PChlJTQ8PDMpO2lmKGlbZT4+Ml18PTEyODw8KGUlNDw8MyksZT41NSlmb3IocihoLGkpLGU9MDtlPDE2O2UrPTEpaVtlXT0wO3JldHVybiBhPShhPTgqZikudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLHU9cGFyc2VJbnQoYVsyXSwxNikscz1wYXJzZUludChhWzFdLDE2KXx8MCxpWzE0XT11LGlbMTVdPXMscihoLGkpLGh9ZnVuY3Rpb24gdSh0KXt2YXIgcixuPSIiO2ZvcihyPTA7cjw0O3IrPTEpbis9ZVt0Pj44KnIrNCYxNV0rZVt0Pj44KnImMTVdO3JldHVybiBufWZ1bmN0aW9uIHModCl7dmFyIGU7Zm9yKGU9MDtlPHQubGVuZ3RoO2UrPTEpdFtlXT11KHRbZV0pO3JldHVybiB0LmpvaW4oIiIpfWZ1bmN0aW9uIGYodCl7cmV0dXJuL1tcdTAwODAtXHVGRkZGXS8udGVzdCh0KSYmKHQ9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSksdH1mdW5jdGlvbiBoKHQsZSl7dmFyIHIsbj10Lmxlbmd0aCxvPW5ldyBBcnJheUJ1ZmZlcihuKSxpPW5ldyBVaW50OEFycmF5KG8pO2ZvcihyPTA7cjxuO3IrPTEpaVtyXT10LmNoYXJDb2RlQXQocik7cmV0dXJuIGU/aTpvfWZ1bmN0aW9uIGModCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSh0KSl9ZnVuY3Rpb24gbCh0LGUscil7dmFyIG49bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoK2UuYnl0ZUxlbmd0aCk7cmV0dXJuIG4uc2V0KG5ldyBVaW50OEFycmF5KHQpKSxuLnNldChuZXcgVWludDhBcnJheShlKSx0LmJ5dGVMZW5ndGgpLHI/bjpuLmJ1ZmZlcn1mdW5jdGlvbiBwKHQpe3ZhciBlLHI9W10sbj10Lmxlbmd0aDtmb3IoZT0wO2U8bi0xO2UrPTIpci5wdXNoKHBhcnNlSW50KHQuc3Vic3RyKGUsMiksMTYpKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscil9ZnVuY3Rpb24gZCgpe3RoaXMucmVzZXQoKX1yZXR1cm4gcyhpKCJoZWxsbyIpKSwidW5kZWZpbmVkIj09dHlwZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2V8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybih0PTB8dHx8MCk8MD9NYXRoLm1heCh0K2UsMCk6TWF0aC5taW4odCxlKX1BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24ocixuKXt2YXIgbyxpLGEsdSxzPXRoaXMuYnl0ZUxlbmd0aCxmPWUocixzKSxoPXM7cmV0dXJuIG4hPT10JiYoaD1lKG4scykpLGY+aD9uZXcgQXJyYXlCdWZmZXIoMCk6KG89aC1mLGk9bmV3IEFycmF5QnVmZmVyKG8pLGE9bmV3IFVpbnQ4QXJyYXkoaSksdT1uZXcgVWludDhBcnJheSh0aGlzLGYsbyksYS5zZXQodSksaSl9fSgpLGQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcHBlbmRCaW5hcnkoZih0KSksdGhpc30sZC5wcm90b3R5cGUuYXBwZW5kQmluYXJ5PWZ1bmN0aW9uKHQpe3RoaXMuX2J1ZmYrPXQsdGhpcy5fbGVuZ3RoKz10Lmxlbmd0aDt2YXIgZSxvPXRoaXMuX2J1ZmYubGVuZ3RoO2ZvcihlPTY0O2U8PW87ZSs9NjQpcih0aGlzLl9oYXNoLG4odGhpcy5fYnVmZi5zdWJzdHJpbmcoZS02NCxlKSkpO3JldHVybiB0aGlzLl9idWZmPXRoaXMuX2J1ZmYuc3Vic3RyaW5nKGUtNjQpLHRoaXN9LGQucHJvdG90eXBlLmVuZD1mdW5jdGlvbih0KXt2YXIgZSxyLG49dGhpcy5fYnVmZixvPW4ubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdO2ZvcihlPTA7ZTxvO2UrPTEpaVtlPj4yXXw9bi5jaGFyQ29kZUF0KGUpPDwoZSU0PDwzKTtyZXR1cm4gdGhpcy5fZmluaXNoKGksbykscj1zKHRoaXMuX2hhc2gpLHQmJihyPXAocikpLHRoaXMucmVzZXQoKSxyfSxkLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmPSIiLHRoaXMuX2xlbmd0aD0wLHRoaXMuX2hhc2g9WzE3MzI1ODQxOTMsLTI3MTczMzg3OSwtMTczMjU4NDE5NCwyNzE3MzM4NzhdLHRoaXN9LGQucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJue2J1ZmY6dGhpcy5fYnVmZixsZW5ndGg6dGhpcy5fbGVuZ3RoLGhhc2g6dGhpcy5faGFzaC5zbGljZSgpfX0sZC5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2J1ZmY9dC5idWZmLHRoaXMuX2xlbmd0aD10Lmxlbmd0aCx0aGlzLl9oYXNoPXQuaGFzaCx0aGlzfSxkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2hhc2gsZGVsZXRlIHRoaXMuX2J1ZmYsZGVsZXRlIHRoaXMuX2xlbmd0aH0sZC5wcm90b3R5cGUuX2ZpbmlzaD1mdW5jdGlvbih0LGUpe3ZhciBuLG8saSxhPWU7aWYodFthPj4yXXw9MTI4PDwoYSU0PDwzKSxhPjU1KWZvcihyKHRoaXMuX2hhc2gsdCksYT0wO2E8MTY7YSs9MSl0W2FdPTA7bj0obj04KnRoaXMuX2xlbmd0aCkudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLG89cGFyc2VJbnQoblsyXSwxNiksaT1wYXJzZUludChuWzFdLDE2KXx8MCx0WzE0XT1vLHRbMTVdPWkscih0aGlzLl9oYXNoLHQpfSxkLmhhc2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZC5oYXNoQmluYXJ5KGYodCksZSl9LGQuaGFzaEJpbmFyeT1mdW5jdGlvbih0LGUpe3ZhciByPXMoaSh0KSk7cmV0dXJuIGU/cChyKTpyfSxkLkFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSxkLkFycmF5QnVmZmVyLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbj1sKHRoaXMuX2J1ZmYuYnVmZmVyLHQsITApLGk9bi5sZW5ndGg7Zm9yKHRoaXMuX2xlbmd0aCs9dC5ieXRlTGVuZ3RoLGU9NjQ7ZTw9aTtlKz02NClyKHRoaXMuX2hhc2gsbyhuLnN1YmFycmF5KGUtNjQsZSkpKTtyZXR1cm4gdGhpcy5fYnVmZj1lLTY0PGk/bmV3IFVpbnQ4QXJyYXkobi5idWZmZXIuc2xpY2UoZS02NCkpOm5ldyBVaW50OEFycmF5KDApLHRoaXN9LGQuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZD1mdW5jdGlvbih0KXt2YXIgZSxyLG49dGhpcy5fYnVmZixvPW4ubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdO2ZvcihlPTA7ZTxvO2UrPTEpaVtlPj4yXXw9bltlXTw8KGUlNDw8Myk7cmV0dXJuIHRoaXMuX2ZpbmlzaChpLG8pLHI9cyh0aGlzLl9oYXNoKSx0JiYocj1wKHIpKSx0aGlzLnJlc2V0KCkscn0sZC5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZj1uZXcgVWludDhBcnJheSgwKSx0aGlzLl9sZW5ndGg9MCx0aGlzLl9oYXNoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XSx0aGlzfSxkLkFycmF5QnVmZmVyLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3ZhciB0PWQucHJvdG90eXBlLmdldFN0YXRlLmNhbGwodGhpcyk7cmV0dXJuIHQuYnVmZj1jKHQuYnVmZiksdH0sZC5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYnVmZj1oKHQuYnVmZiwhMCksZC5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLHQpfSxkLkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95PWQucHJvdG90eXBlLmRlc3Ryb3ksZC5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaD1kLnByb3RvdHlwZS5fZmluaXNoLGQuQXJyYXlCdWZmZXIuaGFzaD1mdW5jdGlvbih0LGUpe3ZhciByPXMoYShuZXcgVWludDhBcnJheSh0KSkpO3JldHVybiBlP3Aocik6cn0sZH0oKX0pKSxvPWUoKGZ1bmN0aW9uKHQsZSl7bGV0IHI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD1mdW5jdGlvbigpe2lmKCFyJiYocj0idW5kZWZpbmVkIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fCJ1bmRlZmluZWQiIT10eXBlb2YgbXNDcnlwdG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSwhcikpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiByKG4pfTtjb25zdCBuPW5ldyBVaW50OEFycmF5KDE2KX0pKSxpPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7ZS5kZWZhdWx0PS9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaX0pKSxhPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHIsbj0ocj1pKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dmFyIG89ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiZuLmRlZmF1bHQudGVzdCh0KX07ZS5kZWZhdWx0PW99KSksdT1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO3ZhciByLG49KHI9YSkmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9O2NvbnN0IG89W107Zm9yKGxldCB0PTA7dDwyNTY7Kyt0KW8ucHVzaCgodCsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO3ZhciBpPWZ1bmN0aW9uKHQsZT0wKXtjb25zdCByPShvW3RbZSswXV0rb1t0W2UrMV1dK29bdFtlKzJdXStvW3RbZSszXV0rIi0iK29bdFtlKzRdXStvW3RbZSs1XV0rIi0iK29bdFtlKzZdXStvW3RbZSs3XV0rIi0iK29bdFtlKzhdXStvW3RbZSs5XV0rIi0iK29bdFtlKzEwXV0rb1t0W2UrMTFdXStvW3RbZSsxMl1dK29bdFtlKzEzXV0rb1t0W2UrMTRdXStvW3RbZSsxNV1dKS50b0xvd2VyQ2FzZSgpO2lmKCEoMCxuLmRlZmF1bHQpKHIpKXRocm93IFR5cGVFcnJvcigiU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkIik7cmV0dXJuIHJ9O2UuZGVmYXVsdD1pfSkpLHM9byxmPXUsaD1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO3ZhciByPW8ocyksbj1vKGYpO2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWxldCBpLGEsdT0wLGg9MDt2YXIgYz1mdW5jdGlvbih0LGUsbyl7bGV0IHM9ZSYmb3x8MDtjb25zdCBmPWV8fG5ldyBBcnJheSgxNik7bGV0IGM9KHQ9dHx8e30pLm5vZGV8fGksbD12b2lkIDAhPT10LmNsb2Nrc2VxP3QuY2xvY2tzZXE6YTtpZihudWxsPT1jfHxudWxsPT1sKXtjb25zdCBlPXQucmFuZG9tfHwodC5ybmd8fHIuZGVmYXVsdCkoKTtudWxsPT1jJiYoYz1pPVsxfGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdXSksbnVsbD09bCYmKGw9YT0xNjM4MyYoZVs2XTw8OHxlWzddKSl9bGV0IHA9dm9pZCAwIT09dC5tc2Vjcz90Lm1zZWNzOkRhdGUubm93KCksZD12b2lkIDAhPT10Lm5zZWNzP3QubnNlY3M6aCsxO2NvbnN0IHk9cC11KyhkLWgpLzFlNDtpZih5PDAmJnZvaWQgMD09PXQuY2xvY2tzZXEmJihsPWwrMSYxNjM4MyksKHk8MHx8cD51KSYmdm9pZCAwPT09dC5uc2VjcyYmKGQ9MCksZD49MWU0KXRocm93IG5ldyBFcnJvcigidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMiKTt1PXAsaD1kLGE9bCxwKz0xMjIxOTI5MjhlNTtjb25zdCB2PSgxZTQqKDI2ODQzNTQ1NSZwKStkKSU0Mjk0OTY3Mjk2O2ZbcysrXT12Pj4+MjQmMjU1LGZbcysrXT12Pj4+MTYmMjU1LGZbcysrXT12Pj4+OCYyNTUsZltzKytdPTI1NSZ2O2NvbnN0IGc9cC80Mjk0OTY3Mjk2KjFlNCYyNjg0MzU0NTU7ZltzKytdPWc+Pj44JjI1NSxmW3MrK109MjU1JmcsZltzKytdPWc+Pj4yNCYxNXwxNixmW3MrK109Zz4+PjE2JjI1NSxmW3MrK109bD4+Pjh8MTI4LGZbcysrXT0yNTUmbDtmb3IobGV0IHQ9MDt0PDY7Kyt0KWZbcyt0XT1jW3RdO3JldHVybiBlfHwoMCxuLmRlZmF1bHQpKGYpfTtlLmRlZmF1bHQ9Y30pKSxjPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHIsbj0ocj1hKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dmFyIG89ZnVuY3Rpb24odCl7aWYoISgwLG4uZGVmYXVsdCkodCkpdGhyb3cgVHlwZUVycm9yKCJJbnZhbGlkIFVVSUQiKTtsZXQgZTtjb25zdCByPW5ldyBVaW50OEFycmF5KDE2KTtyZXR1cm4gclswXT0oZT1wYXJzZUludCh0LnNsaWNlKDAsOCksMTYpKT4+PjI0LHJbMV09ZT4+PjE2JjI1NSxyWzJdPWU+Pj44JjI1NSxyWzNdPTI1NSZlLHJbNF09KGU9cGFyc2VJbnQodC5zbGljZSg5LDEzKSwxNikpPj4+OCxyWzVdPTI1NSZlLHJbNl09KGU9cGFyc2VJbnQodC5zbGljZSgxNCwxOCksMTYpKT4+Pjgscls3XT0yNTUmZSxyWzhdPShlPXBhcnNlSW50KHQuc2xpY2UoMTksMjMpLDE2KSk+Pj44LHJbOV09MjU1JmUsclsxMF09KGU9cGFyc2VJbnQodC5zbGljZSgyNCwzNiksMTYpKS8xMDk5NTExNjI3Nzc2JjI1NSxyWzExXT1lLzQyOTQ5NjcyOTYmMjU1LHJbMTJdPWU+Pj4yNCYyNTUsclsxM109ZT4+PjE2JjI1NSxyWzE0XT1lPj4+OCYyNTUsclsxNV09MjU1JmUscn07ZS5kZWZhdWx0PW99KSksbD1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9ZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIHUodCxpLGEsdSl7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1mdW5jdGlvbih0KXt0PXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7Y29uc3QgZT1bXTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoOysrcillLnB1c2godC5jaGFyQ29kZUF0KHIpKTtyZXR1cm4gZX0odCkpLCJzdHJpbmciPT10eXBlb2YgaSYmKGk9KDAsbi5kZWZhdWx0KShpKSksMTYhPT1pLmxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoIk5hbWVzcGFjZSBtdXN0IGJlIGFycmF5LWxpa2UgKDE2IGl0ZXJhYmxlIGludGVnZXIgdmFsdWVzLCAwLTI1NSkiKTtsZXQgcz1uZXcgVWludDhBcnJheSgxNit0Lmxlbmd0aCk7aWYocy5zZXQoaSkscy5zZXQodCxpLmxlbmd0aCkscz1vKHMpLHNbNl09MTUmc1s2XXxlLHNbOF09NjMmc1s4XXwxMjgsYSl7dT11fHwwO2ZvcihsZXQgdD0wO3Q8MTY7Kyt0KWFbdSt0XT1zW3RdO3JldHVybiBhfXJldHVybigwLHIuZGVmYXVsdCkocyl9dHJ5e3UubmFtZT10fWNhdGNoKHQpe31yZXR1cm4gdS5ETlM9aSx1LlVSTD1hLHV9LGUuVVJMPWUuRE5TPXZvaWQgMDt2YXIgcj1vKGYpLG49byhjKTtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1jb25zdCBpPSI2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgiO2UuRE5TPWk7Y29uc3QgYT0iNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4IjtlLlVSTD1hfSkpLHA9ZSgoZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiAxNCsodCs2ND4+Pjk8PDQpKzF9ZnVuY3Rpb24gbih0LGUpe2NvbnN0IHI9KDY1NTM1JnQpKyg2NTUzNSZlKTtyZXR1cm4odD4+MTYpKyhlPj4xNikrKHI+PjE2KTw8MTZ8NjU1MzUmcn1mdW5jdGlvbiBvKHQsZSxyLG8saSxhKXtyZXR1cm4gbigodT1uKG4oZSx0KSxuKG8sYSkpKTw8KHM9aSl8dT4+PjMyLXMscik7dmFyIHUsc31mdW5jdGlvbiBpKHQsZSxyLG4saSxhLHUpe3JldHVybiBvKGUmcnx+ZSZuLHQsZSxpLGEsdSl9ZnVuY3Rpb24gYSh0LGUscixuLGksYSx1KXtyZXR1cm4gbyhlJm58ciZ+bix0LGUsaSxhLHUpfWZ1bmN0aW9uIHUodCxlLHIsbixpLGEsdSl7cmV0dXJuIG8oZV5yXm4sdCxlLGksYSx1KX1mdW5jdGlvbiBzKHQsZSxyLG4saSxhLHUpe3JldHVybiBvKHJeKGV8fm4pLHQsZSxpLGEsdSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIGY9ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtjb25zdCBlPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7dD1uZXcgVWludDhBcnJheShlLmxlbmd0aCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpdFtyXT1lLmNoYXJDb2RlQXQocil9cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9W10scj0zMip0Lmxlbmd0aCxuPSIwMTIzNDU2Nzg5YWJjZGVmIjtmb3IobGV0IG89MDtvPHI7bys9OCl7Y29uc3Qgcj10W28+PjVdPj4+byUzMiYyNTUsaT1wYXJzZUludChuLmNoYXJBdChyPj4+NCYxNSkrbi5jaGFyQXQoMTUmciksMTYpO2UucHVzaChpKX1yZXR1cm4gZX0oZnVuY3Rpb24odCxlKXt0W2U+PjVdfD0xMjg8PGUlMzIsdFtyKGUpLTFdPWU7bGV0IG89MTczMjU4NDE5MyxmPS0yNzE3MzM4NzksaD0tMTczMjU4NDE5NCxjPTI3MTczMzg3ODtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTE2KXtjb25zdCByPW8sbD1mLHA9aCxkPWM7bz1pKG8sZixoLGMsdFtlXSw3LC02ODA4NzY5MzYpLGM9aShjLG8sZixoLHRbZSsxXSwxMiwtMzg5NTY0NTg2KSxoPWkoaCxjLG8sZix0W2UrMl0sMTcsNjA2MTA1ODE5KSxmPWkoZixoLGMsbyx0W2UrM10sMjIsLTEwNDQ1MjUzMzApLG89aShvLGYsaCxjLHRbZSs0XSw3LC0xNzY0MTg4OTcpLGM9aShjLG8sZixoLHRbZSs1XSwxMiwxMjAwMDgwNDI2KSxoPWkoaCxjLG8sZix0W2UrNl0sMTcsLTE0NzMyMzEzNDEpLGY9aShmLGgsYyxvLHRbZSs3XSwyMiwtNDU3MDU5ODMpLG89aShvLGYsaCxjLHRbZSs4XSw3LDE3NzAwMzU0MTYpLGM9aShjLG8sZixoLHRbZSs5XSwxMiwtMTk1ODQxNDQxNyksaD1pKGgsYyxvLGYsdFtlKzEwXSwxNywtNDIwNjMpLGY9aShmLGgsYyxvLHRbZSsxMV0sMjIsLTE5OTA0MDQxNjIpLG89aShvLGYsaCxjLHRbZSsxMl0sNywxODA0NjAzNjgyKSxjPWkoYyxvLGYsaCx0W2UrMTNdLDEyLC00MDM0MTEwMSksaD1pKGgsYyxvLGYsdFtlKzE0XSwxNywtMTUwMjAwMjI5MCksZj1pKGYsaCxjLG8sdFtlKzE1XSwyMiwxMjM2NTM1MzI5KSxvPWEobyxmLGgsYyx0W2UrMV0sNSwtMTY1Nzk2NTEwKSxjPWEoYyxvLGYsaCx0W2UrNl0sOSwtMTA2OTUwMTYzMiksaD1hKGgsYyxvLGYsdFtlKzExXSwxNCw2NDM3MTc3MTMpLGY9YShmLGgsYyxvLHRbZV0sMjAsLTM3Mzg5NzMwMiksbz1hKG8sZixoLGMsdFtlKzVdLDUsLTcwMTU1ODY5MSksYz1hKGMsbyxmLGgsdFtlKzEwXSw5LDM4MDE2MDgzKSxoPWEoaCxjLG8sZix0W2UrMTVdLDE0LC02NjA0NzgzMzUpLGY9YShmLGgsYyxvLHRbZSs0XSwyMCwtNDA1NTM3ODQ4KSxvPWEobyxmLGgsYyx0W2UrOV0sNSw1Njg0NDY0MzgpLGM9YShjLG8sZixoLHRbZSsxNF0sOSwtMTAxOTgwMzY5MCksaD1hKGgsYyxvLGYsdFtlKzNdLDE0LC0xODczNjM5NjEpLGY9YShmLGgsYyxvLHRbZSs4XSwyMCwxMTYzNTMxNTAxKSxvPWEobyxmLGgsYyx0W2UrMTNdLDUsLTE0NDQ2ODE0NjcpLGM9YShjLG8sZixoLHRbZSsyXSw5LC01MTQwMzc4NCksaD1hKGgsYyxvLGYsdFtlKzddLDE0LDE3MzUzMjg0NzMpLGY9YShmLGgsYyxvLHRbZSsxMl0sMjAsLTE5MjY2MDc3MzQpLG89dShvLGYsaCxjLHRbZSs1XSw0LC0zNzg1NTgpLGM9dShjLG8sZixoLHRbZSs4XSwxMSwtMjAyMjU3NDQ2MyksaD11KGgsYyxvLGYsdFtlKzExXSwxNiwxODM5MDMwNTYyKSxmPXUoZixoLGMsbyx0W2UrMTRdLDIzLC0zNTMwOTU1Niksbz11KG8sZixoLGMsdFtlKzFdLDQsLTE1MzA5OTIwNjApLGM9dShjLG8sZixoLHRbZSs0XSwxMSwxMjcyODkzMzUzKSxoPXUoaCxjLG8sZix0W2UrN10sMTYsLTE1NTQ5NzYzMiksZj11KGYsaCxjLG8sdFtlKzEwXSwyMywtMTA5NDczMDY0MCksbz11KG8sZixoLGMsdFtlKzEzXSw0LDY4MTI3OTE3NCksYz11KGMsbyxmLGgsdFtlXSwxMSwtMzU4NTM3MjIyKSxoPXUoaCxjLG8sZix0W2UrM10sMTYsLTcyMjUyMTk3OSksZj11KGYsaCxjLG8sdFtlKzZdLDIzLDc2MDI5MTg5KSxvPXUobyxmLGgsYyx0W2UrOV0sNCwtNjQwMzY0NDg3KSxjPXUoYyxvLGYsaCx0W2UrMTJdLDExLC00MjE4MTU4MzUpLGg9dShoLGMsbyxmLHRbZSsxNV0sMTYsNTMwNzQyNTIwKSxmPXUoZixoLGMsbyx0W2UrMl0sMjMsLTk5NTMzODY1MSksbz1zKG8sZixoLGMsdFtlXSw2LC0xOTg2MzA4NDQpLGM9cyhjLG8sZixoLHRbZSs3XSwxMCwxMTI2ODkxNDE1KSxoPXMoaCxjLG8sZix0W2UrMTRdLDE1LC0xNDE2MzU0OTA1KSxmPXMoZixoLGMsbyx0W2UrNV0sMjEsLTU3NDM0MDU1KSxvPXMobyxmLGgsYyx0W2UrMTJdLDYsMTcwMDQ4NTU3MSksYz1zKGMsbyxmLGgsdFtlKzNdLDEwLC0xODk0OTg2NjA2KSxoPXMoaCxjLG8sZix0W2UrMTBdLDE1LC0xMDUxNTIzKSxmPXMoZixoLGMsbyx0W2UrMV0sMjEsLTIwNTQ5MjI3OTkpLG89cyhvLGYsaCxjLHRbZSs4XSw2LDE4NzMzMTMzNTkpLGM9cyhjLG8sZixoLHRbZSsxNV0sMTAsLTMwNjExNzQ0KSxoPXMoaCxjLG8sZix0W2UrNl0sMTUsLTE1NjAxOTgzODApLGY9cyhmLGgsYyxvLHRbZSsxM10sMjEsMTMwOTE1MTY0OSksbz1zKG8sZixoLGMsdFtlKzRdLDYsLTE0NTUyMzA3MCksYz1zKGMsbyxmLGgsdFtlKzExXSwxMCwtMTEyMDIxMDM3OSksaD1zKGgsYyxvLGYsdFtlKzJdLDE1LDcxODc4NzI1OSksZj1zKGYsaCxjLG8sdFtlKzldLDIxLC0zNDM0ODU1NTEpLG89bihvLHIpLGY9bihmLGwpLGg9bihoLHApLGM9bihjLGQpfXJldHVybltvLGYsaCxjXX0oZnVuY3Rpb24odCl7aWYoMD09PXQubGVuZ3RoKXJldHVybltdO2NvbnN0IGU9OCp0Lmxlbmd0aCxuPW5ldyBVaW50MzJBcnJheShyKGUpKTtmb3IobGV0IHI9MDtyPGU7cis9OCluW3I+PjVdfD0oMjU1JnRbci84XSk8PHIlMzI7cmV0dXJuIG59KHQpLDgqdC5sZW5ndGgpKX07ZS5kZWZhdWx0PWZ9KSksZD1sLHk9cCx2PWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHI9byhkKSxuPW8oeSk7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIGk9KDAsci5kZWZhdWx0KSgidjMiLDQ4LG4uZGVmYXVsdCk7ZS5kZWZhdWx0PWl9KSksZz1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO3ZhciByPW8ocyksbj1vKGYpO2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciBpPWZ1bmN0aW9uKHQsZSxvKXtjb25zdCBpPSh0PXR8fHt9KS5yYW5kb218fCh0LnJuZ3x8ci5kZWZhdWx0KSgpO2lmKGlbNl09MTUmaVs2XXw2NCxpWzhdPTYzJmlbOF18MTI4LGUpe289b3x8MDtmb3IobGV0IHQ9MDt0PDE2OysrdCllW28rdF09aVt0XTtyZXR1cm4gZX1yZXR1cm4oMCxuLmRlZmF1bHQpKGkpfTtlLmRlZmF1bHQ9aX0pKSxiPWUoKGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0LGUscixuKXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiBlJnJefmUmbjtjYXNlIDE6Y2FzZSAzOnJldHVybiBlXnJebjtjYXNlIDI6cmV0dXJuIGUmcl5lJm5eciZufX1mdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHQ8PGV8dD4+PjMyLWV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIG89ZnVuY3Rpb24odCl7Y29uc3QgZT1bMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMzM5NTQ2OTc4Ml0sbz1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7Y29uc3QgZT11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpO3Q9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKGUuY2hhckNvZGVBdChyKSl9ZWxzZSBBcnJheS5pc0FycmF5KHQpfHwodD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSk7dC5wdXNoKDEyOCk7Y29uc3QgaT10Lmxlbmd0aC80KzIsYT1NYXRoLmNlaWwoaS8xNiksdT1uZXcgQXJyYXkoYSk7Zm9yKGxldCBlPTA7ZTxhOysrZSl7Y29uc3Qgcj1uZXcgVWludDMyQXJyYXkoMTYpO2ZvcihsZXQgbj0wO248MTY7KytuKXJbbl09dFs2NCplKzQqbl08PDI0fHRbNjQqZSs0Km4rMV08PDE2fHRbNjQqZSs0Km4rMl08PDh8dFs2NCplKzQqbiszXTt1W2VdPXJ9dVthLTFdWzE0XT04Kih0Lmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSx1W2EtMV1bMTRdPU1hdGguZmxvb3IodVthLTFdWzE0XSksdVthLTFdWzE1XT04Kih0Lmxlbmd0aC0xKSY0Mjk0OTY3Mjk1O2ZvcihsZXQgdD0wO3Q8YTsrK3Qpe2NvbnN0IGk9bmV3IFVpbnQzMkFycmF5KDgwKTtmb3IobGV0IGU9MDtlPDE2OysrZSlpW2VdPXVbdF1bZV07Zm9yKGxldCB0PTE2O3Q8ODA7Kyt0KWlbdF09bihpW3QtM11eaVt0LThdXmlbdC0xNF1eaVt0LTE2XSwxKTtsZXQgYT1vWzBdLHM9b1sxXSxmPW9bMl0saD1vWzNdLGM9b1s0XTtmb3IobGV0IHQ9MDt0PDgwOysrdCl7Y29uc3Qgbz1NYXRoLmZsb29yKHQvMjApLHU9bihhLDUpK3IobyxzLGYsaCkrYytlW29dK2lbdF0+Pj4wO2M9aCxoPWYsZj1uKHMsMzApPj4+MCxzPWEsYT11fW9bMF09b1swXSthPj4+MCxvWzFdPW9bMV0rcz4+PjAsb1syXT1vWzJdK2Y+Pj4wLG9bM109b1szXStoPj4+MCxvWzRdPW9bNF0rYz4+PjB9cmV0dXJuW29bMF0+PjI0JjI1NSxvWzBdPj4xNiYyNTUsb1swXT4+OCYyNTUsMjU1Jm9bMF0sb1sxXT4+MjQmMjU1LG9bMV0+PjE2JjI1NSxvWzFdPj44JjI1NSwyNTUmb1sxXSxvWzJdPj4yNCYyNTUsb1syXT4+MTYmMjU1LG9bMl0+PjgmMjU1LDI1NSZvWzJdLG9bM10+PjI0JjI1NSxvWzNdPj4xNiYyNTUsb1szXT4+OCYyNTUsMjU1Jm9bM10sb1s0XT4+MjQmMjU1LG9bNF0+PjE2JjI1NSxvWzRdPj44JjI1NSwyNTUmb1s0XV19O2UuZGVmYXVsdD1vfSkpLHc9YixtPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHI9byhkKSxuPW8odyk7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIGk9KDAsci5kZWZhdWx0KSgidjUiLDgwLG4uZGVmYXVsdCk7ZS5kZWZhdWx0PWl9KSksXz1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO2UuZGVmYXVsdD0iMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwIn0pKSxBPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHIsbj0ocj1hKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dmFyIG89ZnVuY3Rpb24odCl7aWYoISgwLG4uZGVmYXVsdCkodCkpdGhyb3cgVHlwZUVycm9yKCJJbnZhbGlkIFVVSUQiKTtyZXR1cm4gcGFyc2VJbnQodC5zdWJzdHIoMTQsMSksMTYpfTtlLmRlZmF1bHQ9b30pKSxFPWgsTz12LFM9ZyxNPW0sQj1fLFU9QSxUPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ2MSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwidjMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInY0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ2NSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTklMIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ2ZXJzaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ2YWxpZGF0ZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic3RyaW5naWZ5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwYXJzZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuZGVmYXVsdH19KTt2YXIgcj1kKEUpLG49ZChPKSxvPWQoUyksaT1kKE0pLHU9ZChCKSxzPWQoVSksaD1kKGEpLGw9ZChmKSxwPWQoYyk7ZnVuY3Rpb24gZCh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19fSkpLHg9e3Rlc3Q6e3VybDoiaHR0cHM6Ly9kYXRhZ3JvdXAtcmVwb3J0aW5nLnRlc3Quc2hvcGVlbW9iaWxlLmNvbS9kYXRhIix0b3BpYzoic2NfZnVsbHN0b3J5X3Rlc3RfZXZlbnRzIix0b2tlbjoiZTRkOTc3NzY3MDk1YTY5Y2IwM2RjNGJjMGU1ZWZhMjYifSxsaXZlOnt1cmw6Imh0dHBzOi8vZGF0YWdyb3VwLXJlcG9ydGluZy5zaG9wZWVtb2JpbGUuY29tL2RhdGEiLHRvcGljOiJzY19mdWxsc3RvcnlfbGl2ZV9ldmVudHMiLHRva2VuOiIxNzJkOGY1MmIyNmU1ZDRjMDc3OGQ1M2JmMzU1ODYzMiJ9LHVhdDp7dXJsOiJodHRwczovL2RhdGFncm91cC1yZXBvcnRpbmcudGVzdC5zaG9wZWVtb2JpbGUuY29tL2RhdGEiLHRvcGljOiJzY19mdWxsc3RvcnlfdWF0X2V2ZW50cyIsdG9rZW46IjE3ZmZjNWU3M2RmMzk5Y2MwYWZjOWViMTBhNjEyMzI2In19O3ZhciBqPW5ldyBNYXAsUD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZvcm1EYXRhfSxJPXt0ZXN0OiJodHRwczovL2Z1bGxzdG9yeS5zZWxsZXItZGF0YS50ZXN0LnNob3BlZS5jb20vYXBpL3YxL3NkayIsbGl2ZToiaHR0cHM6Ly9mdWxsc3Rvcnkuc2VsbGVyLWRhdGEuc2hvcGVlLmNvbS9hcGkvdjEvc2RrIix1YXQ6Imh0dHBzOi8vZnVsbHN0b3J5LnNlbGxlci1kYXRhLnVhdC5zaG9wZWUuY29tL2FwaS92MS9zZGsifSxEPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dDtpZigvXmh0dHAocyk/OlwvXC8vLnRlc3QodCl8fChyPSIiK0lbZV0rdCksci5pbmNsdWRlcygiZGF0YWdyb3VwLXJlcG9ydGluZyIpKXJldHVybiByO3ZhciBvPVQudjQoKSxpPU1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLGE9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuLmhhc2godCtlK3IpfShpLG8sIkRvbnRUZWxsT3RoZXJzIik7cmV0dXJuIHIuc3BsaXQoIj8iKS5sZW5ndGg+MT9yKyImbm9uY2U9IitvKyImdGltZXN0YW1wPSIraSsiJnNpZ249IithOnIrIj9ub25jZT0iK28rIiZ0aW1lc3RhbXA9IitpKyImc2lnbj0iK2F9LEM9ZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYodC5vaylyZXR1cm4gdC50ZXh0KCkudGhlbigoZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9SlNPTi5wYXJzZSh0KTtyZXR1cm4gMCE9PWUuY29kZT9jb25zb2xlLmVycm9yKGUpOmV9fSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmVycm9yKCJwYXJzZSBlcnJvciIpfSkpO3ZhciBlPVJlZmxlY3QuaGFzKHQsInN0YXR1cyIpJiZSZWZsZWN0Lmhhcyh0LCJzdGF0dXNUZXh0Iik/dC5zdGF0dXMrIjoiK3Quc3RhdHVzVGV4dDoidW5rbm93biBlcnJvciI7Y29uc29sZS5lcnJvcihlKX0odCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2NvbnNvbGUuZXJyb3IodCl9KSl9LGs9ZnVuY3Rpb24odCl7dmFyIGU9ai5nZXQodC5ndWFyYW50ZWVJZCk7ITE9PT0obnVsbD09ZT92b2lkIDA6ZS5zaWduYWwuYWJvcnRlZCkmJmUuYWJvcnQoKTt2YXIgcj1uZXcgQWJvcnRDb250cm9sbGVyO3JldHVybiBqLnNldCh0Lmd1YXJhbnRlZUlkLHIpLHQuc2lnbmFsPXIuc2lnbmFsLHtjb250cm9sbGVyOnIsZ3VhcmFudGVlOmp9fTtlKChmdW5jdGlvbih0LGUpeyFmdW5jdGlvbih0KXt2YXIgZT0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXN8fCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZnx8dm9pZCAwIT09ZSYmZSxyPXtzZWFyY2hQYXJhbXM6IlVSTFNlYXJjaFBhcmFtcyJpbiBlLGl0ZXJhYmxlOiJTeW1ib2wiaW4gZSYmIml0ZXJhdG9yImluIFN5bWJvbCxibG9iOiJGaWxlUmVhZGVyImluIGUmJiJCbG9iImluIGUmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgQmxvYiwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZm9ybURhdGE6IkZvcm1EYXRhImluIGUsYXJyYXlCdWZmZXI6IkFycmF5QnVmZmVyImluIGV9O2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJkRhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpfWlmKHIuYXJyYXlCdWZmZXIpdmFyIG89WyJbb2JqZWN0IEludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLCJbb2JqZWN0IEludDE2QXJyYXldIiwiW29iamVjdCBVaW50MTZBcnJheV0iLCJbb2JqZWN0IEludDMyQXJyYXldIiwiW29iamVjdCBVaW50MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iXSxpPUFycmF5QnVmZmVyLmlzVmlld3x8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJm8uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpPi0xfTtmdW5jdGlvbiBhKHQpe2lmKCJzdHJpbmciIT10eXBlb2YgdCYmKHQ9U3RyaW5nKHQpKSwvW15hLXowLTlcLSMkJSYnKisuXl9gfH4hXS9pLnRlc3QodCl8fCIiPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZTogIicrdCsnIicpO3JldHVybiB0LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJih0PVN0cmluZyh0KSksdH1mdW5jdGlvbiBzKHQpe3ZhciBlPXtuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dC5zaGlmdCgpO3JldHVybntkb25lOnZvaWQgMD09PWUsdmFsdWU6ZX19fTtyZXR1cm4gci5pdGVyYWJsZSYmKGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBlfSksZX1mdW5jdGlvbiBmKHQpe3RoaXMubWFwPXt9LHQgaW5zdGFuY2VvZiBmP3QuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0aGlzLmFwcGVuZChlLHQpfSksdGhpcyk6QXJyYXkuaXNBcnJheSh0KT90LmZvckVhY2goKGZ1bmN0aW9uKHQpe3RoaXMuYXBwZW5kKHRbMF0sdFsxXSl9KSx0aGlzKTp0JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt0aGlzLmFwcGVuZChlLHRbZV0pfSksdGhpcyl9ZnVuY3Rpb24gaCh0KXtpZih0LmJvZHlVc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKSk7dC5ib2R5VXNlZD0hMH1mdW5jdGlvbiBjKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxyKXt0Lm9ubG9hZD1mdW5jdGlvbigpe2UodC5yZXN1bHQpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyKHQuZXJyb3IpfX0pKX1mdW5jdGlvbiBsKHQpe3ZhciBlPW5ldyBGaWxlUmVhZGVyLHI9YyhlKTtyZXR1cm4gZS5yZWFkQXNBcnJheUJ1ZmZlcih0KSxyfWZ1bmN0aW9uIHAodCl7dmFyIGU9bmV3IEZpbGVSZWFkZXIscj1jKGUpO3JldHVybiBlLnJlYWRBc1RleHQodCkscn1mdW5jdGlvbiBkKHQpe2Zvcih2YXIgZT1uZXcgVWludDhBcnJheSh0KSxyPW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248ZS5sZW5ndGg7bisrKXJbbl09U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gci5qb2luKCIiKX1mdW5jdGlvbiB5KHQpe2lmKHQuc2xpY2UpcmV0dXJuIHQuc2xpY2UoMCk7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoKTtyZXR1cm4gZS5zZXQobmV3IFVpbnQ4QXJyYXkodCkpLGUuYnVmZmVyfWZ1bmN0aW9uIHYoKXtyZXR1cm4gdGhpcy5ib2R5VXNlZD0hMSx0aGlzLl9pbml0Qm9keT1mdW5jdGlvbih0KXt0aGlzLmJvZHlVc2VkPXRoaXMuYm9keVVzZWQsdGhpcy5fYm9keUluaXQ9dCx0PyJzdHJpbmciPT10eXBlb2YgdD90aGlzLl9ib2R5VGV4dD10OnIuYmxvYiYmQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KT90aGlzLl9ib2R5QmxvYj10OnIuZm9ybURhdGEmJkZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpP3RoaXMuX2JvZHlGb3JtRGF0YT10OnIuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCk/dGhpcy5fYm9keVRleHQ9dC50b1N0cmluZygpOnIuYXJyYXlCdWZmZXImJnIuYmxvYiYmbih0KT8odGhpcy5fYm9keUFycmF5QnVmZmVyPXkodC5idWZmZXIpLHRoaXMuX2JvZHlJbml0PW5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk6ci5hcnJheUJ1ZmZlciYmKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpfHxpKHQpKT90aGlzLl9ib2R5QXJyYXlCdWZmZXI9eSh0KTp0aGlzLl9ib2R5VGV4dD10PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTp0aGlzLl9ib2R5VGV4dD0iIix0aGlzLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKXx8KCJzdHJpbmciPT10eXBlb2YgdD90aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgiKTp0aGlzLl9ib2R5QmxvYiYmdGhpcy5fYm9keUJsb2IudHlwZT90aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLHRoaXMuX2JvZHlCbG9iLnR5cGUpOnIuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCkmJnRoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04IikpfSxyLmJsb2ImJih0aGlzLmJsb2I9ZnVuY3Rpb24oKXt2YXIgdD1oKHRoaXMpO2lmKHQpcmV0dXJuIHQ7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYik7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTtpZih0aGlzLl9ib2R5Rm9ybURhdGEpdGhyb3cgbmV3IEVycm9yKCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2IiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKX0sdGhpcy5hcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcil7dmFyIHQ9aCh0aGlzKTtyZXR1cm4gdHx8KEFycmF5QnVmZmVyLmlzVmlldyh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpP1Byb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIuYnVmZmVyLnNsaWNlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlT2Zmc2V0LHRoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlT2Zmc2V0K3RoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKSk6UHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpfXJldHVybiB0aGlzLmJsb2IoKS50aGVuKGwpfSksdGhpcy50ZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9aCh0aGlzKTtpZih0KXJldHVybiB0O2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBwKHRoaXMuX2JvZHlCbG9iKTtpZih0aGlzLl9ib2R5QXJyYXlCdWZmZXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShkKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpO2lmKHRoaXMuX2JvZHlGb3JtRGF0YSl0aHJvdyBuZXcgRXJyb3IoImNvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpfSxyLmZvcm1EYXRhJiYodGhpcy5mb3JtRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQoKS50aGVuKG0pfSksdGhpcy5qc29uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSl9LHRoaXN9Zi5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQsZSl7dD1hKHQpLGU9dShlKTt2YXIgcj10aGlzLm1hcFt0XTt0aGlzLm1hcFt0XT1yP3IrIiwgIitlOmV9LGYucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5tYXBbYSh0KV19LGYucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdD1hKHQpLHRoaXMuaGFzKHQpP3RoaXMubWFwW3RdOm51bGx9LGYucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkoYSh0KSl9LGYucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMubWFwW2EodCldPXUoZSl9LGYucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gdGhpcy5tYXApdGhpcy5tYXAuaGFzT3duUHJvcGVydHkocikmJnQuY2FsbChlLHRoaXMubWFwW3JdLHIsdGhpcyl9LGYucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3QucHVzaChyKX0pKSxzKHQpfSxmLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goZSl9KSkscyh0KX0sZi5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dC5wdXNoKFtyLGVdKX0pKSxzKHQpfSxyLml0ZXJhYmxlJiYoZi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mLnByb3RvdHlwZS5lbnRyaWVzKTt2YXIgZz1bIkRFTEVURSIsIkdFVCIsIkhFQUQiLCJPUFRJT05TIiwiUE9TVCIsIlBVVCJdO2Z1bmN0aW9uIGIodCl7dmFyIGU9dC50b1VwcGVyQ2FzZSgpO3JldHVybiBnLmluZGV4T2YoZSk+LTE/ZTp0fWZ1bmN0aW9uIHcodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiB3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdQbGVhc2UgdXNlIHRoZSAibmV3IiBvcGVyYXRvciwgdGhpcyBET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4nKTt2YXIgcj0oZT1lfHx7fSkuYm9keTtpZih0IGluc3RhbmNlb2Ygdyl7aWYodC5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKTt0aGlzLnVybD10LnVybCx0aGlzLmNyZWRlbnRpYWxzPXQuY3JlZGVudGlhbHMsZS5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyBmKHQuaGVhZGVycykpLHRoaXMubWV0aG9kPXQubWV0aG9kLHRoaXMubW9kZT10Lm1vZGUsdGhpcy5zaWduYWw9dC5zaWduYWwscnx8bnVsbD09dC5fYm9keUluaXR8fChyPXQuX2JvZHlJbml0LHQuYm9keVVzZWQ9ITApfWVsc2UgdGhpcy51cmw9U3RyaW5nKHQpO2lmKHRoaXMuY3JlZGVudGlhbHM9ZS5jcmVkZW50aWFsc3x8dGhpcy5jcmVkZW50aWFsc3x8InNhbWUtb3JpZ2luIiwhZS5oZWFkZXJzJiZ0aGlzLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IGYoZS5oZWFkZXJzKSksdGhpcy5tZXRob2Q9YihlLm1ldGhvZHx8dGhpcy5tZXRob2R8fCJHRVQiKSx0aGlzLm1vZGU9ZS5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9ZS5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwoIkdFVCI9PT10aGlzLm1ldGhvZHx8IkhFQUQiPT09dGhpcy5tZXRob2QpJiZyKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzIik7aWYodGhpcy5faW5pdEJvZHkociksISgiR0VUIiE9PXRoaXMubWV0aG9kJiYiSEVBRCIhPT10aGlzLm1ldGhvZHx8Im5vLXN0b3JlIiE9PWUuY2FjaGUmJiJuby1jYWNoZSIhPT1lLmNhY2hlKSl7dmFyIG49LyhbPyZdKV89W14mXSovO2lmKG4udGVzdCh0aGlzLnVybCkpdGhpcy51cmw9dGhpcy51cmwucmVwbGFjZShuLCIkMV89IisobmV3IERhdGUpLmdldFRpbWUoKSk7ZWxzZXt2YXIgbz0vXD8vO3RoaXMudXJsKz0oby50ZXN0KHRoaXMudXJsKT8iJiI6Ij8iKSsiXz0iKyhuZXcgRGF0ZSkuZ2V0VGltZSgpfX19ZnVuY3Rpb24gbSh0KXt2YXIgZT1uZXcgRm9ybURhdGE7cmV0dXJuIHQudHJpbSgpLnNwbGl0KCImIikuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYodCl7dmFyIHI9dC5zcGxpdCgiPSIpLG49ci5zaGlmdCgpLnJlcGxhY2UoL1wrL2csIiAiKSxvPXIuam9pbigiPSIpLnJlcGxhY2UoL1wrL2csIiAiKTtlLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobiksZGVjb2RlVVJJQ29tcG9uZW50KG8pKX19KSksZX1mdW5jdGlvbiBfKHQpe3ZhciBlPW5ldyBmO3JldHVybiB0LnJlcGxhY2UoL1xyP1xuW1x0IF0rL2csIiAiKS5zcGxpdCgiXHIiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5pbmRleE9mKCJcbiIpP3Quc3Vic3RyKDEsdC5sZW5ndGgpOnR9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9dC5zcGxpdCgiOiIpLG49ci5zaGlmdCgpLnRyaW0oKTtpZihuKXt2YXIgbz1yLmpvaW4oIjoiKS50cmltKCk7ZS5hcHBlbmQobixvKX19KSksZX1mdW5jdGlvbiBBKHQsZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgQSkpdGhyb3cgbmV3IFR5cGVFcnJvcignUGxlYXNlIHVzZSB0aGUgIm5ldyIgb3BlcmF0b3IsIHRoaXMgRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJyk7ZXx8KGU9e30pLHRoaXMudHlwZT0iZGVmYXVsdCIsdGhpcy5zdGF0dXM9dm9pZCAwPT09ZS5zdGF0dXM/MjAwOmUuc3RhdHVzLHRoaXMub2s9dGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwLHRoaXMuc3RhdHVzVGV4dD12b2lkIDA9PT1lLnN0YXR1c1RleHQ/IiI6IiIrZS5zdGF0dXNUZXh0LHRoaXMuaGVhZGVycz1uZXcgZihlLmhlYWRlcnMpLHRoaXMudXJsPWUudXJsfHwiIix0aGlzLl9pbml0Qm9keSh0KX13LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdyh0aGlzLHtib2R5OnRoaXMuX2JvZHlJbml0fSl9LHYuY2FsbCh3LnByb3RvdHlwZSksdi5jYWxsKEEucHJvdG90eXBlKSxBLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQSh0aGlzLl9ib2R5SW5pdCx7c3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6dGhpcy5zdGF0dXNUZXh0LGhlYWRlcnM6bmV3IGYodGhpcy5oZWFkZXJzKSx1cmw6dGhpcy51cmx9KX0sQS5lcnJvcj1mdW5jdGlvbigpe3ZhciB0PW5ldyBBKG51bGwse3N0YXR1czowLHN0YXR1c1RleHQ6IiJ9KTtyZXR1cm4gdC50eXBlPSJlcnJvciIsdH07dmFyIEU9WzMwMSwzMDIsMzAzLDMwNywzMDhdO0EucmVkaXJlY3Q9ZnVuY3Rpb24odCxlKXtpZigtMT09PUUuaW5kZXhPZihlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBzdGF0dXMgY29kZSIpO3JldHVybiBuZXcgQShudWxsLHtzdGF0dXM6ZSxoZWFkZXJzOntsb2NhdGlvbjp0fX0pfSx0LkRPTUV4Y2VwdGlvbj1lLkRPTUV4Y2VwdGlvbjt0cnl7bmV3IHQuRE9NRXhjZXB0aW9ufWNhdGNoKGUpe3QuRE9NRXhjZXB0aW9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5tZXNzYWdlPXQsdGhpcy5uYW1lPWU7dmFyIHI9RXJyb3IodCk7dGhpcy5zdGFjaz1yLnN0YWNrfSx0LkRPTUV4Y2VwdGlvbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHQuRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LkRPTUV4Y2VwdGlvbn1mdW5jdGlvbiBPKG4sbyl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBzPW5ldyB3KG4sbyk7aWYocy5zaWduYWwmJnMuc2lnbmFsLmFib3J0ZWQpcmV0dXJuIGEobmV3IHQuRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgaD1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gYygpe2guYWJvcnQoKX1mdW5jdGlvbiBsKHQpe3RyeXtyZXR1cm4iIj09PXQmJmUubG9jYXRpb24uaHJlZj9lLmxvY2F0aW9uLmhyZWY6dH1jYXRjaChlKXtyZXR1cm4gdH19aC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD17c3RhdHVzOmguc3RhdHVzLHN0YXR1c1RleHQ6aC5zdGF0dXNUZXh0LGhlYWRlcnM6XyhoLmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHwiIil9O3QudXJsPSJyZXNwb25zZVVSTCJpbiBoP2gucmVzcG9uc2VVUkw6dC5oZWFkZXJzLmdldCgiWC1SZXF1ZXN0LVVSTCIpO3ZhciBlPSJyZXNwb25zZSJpbiBoP2gucmVzcG9uc2U6aC5yZXNwb25zZVRleHQ7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpKG5ldyBBKGUsdCkpfSksMCl9LGgub25lcnJvcj1mdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YShuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSksMCl9LGgub250aW1lb3V0PWZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXthKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9KSwwKX0saC5vbmFib3J0PWZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXthKG5ldyB0LkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9KSwwKX0saC5vcGVuKHMubWV0aG9kLGwocy51cmwpLCEwKSwiaW5jbHVkZSI9PT1zLmNyZWRlbnRpYWxzP2gud2l0aENyZWRlbnRpYWxzPSEwOiJvbWl0Ij09PXMuY3JlZGVudGlhbHMmJihoLndpdGhDcmVkZW50aWFscz0hMSksInJlc3BvbnNlVHlwZSJpbiBoJiYoci5ibG9iP2gucmVzcG9uc2VUeXBlPSJibG9iIjpyLmFycmF5QnVmZmVyJiZzLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKSYmLTEhPT1zLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKSYmKGgucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIpKSwhb3x8Im9iamVjdCIhPXR5cGVvZiBvLmhlYWRlcnN8fG8uaGVhZGVycyBpbnN0YW5jZW9mIGY/cy5oZWFkZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7aC5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoby5oZWFkZXJzKS5mb3JFYWNoKChmdW5jdGlvbih0KXtoLnNldFJlcXVlc3RIZWFkZXIodCx1KG8uaGVhZGVyc1t0XSkpfSkpLHMuc2lnbmFsJiYocy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLGMpLGgub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWgucmVhZHlTdGF0ZSYmcy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWJvcnQiLGMpfSksaC5zZW5kKHZvaWQgMD09PXMuX2JvZHlJbml0P251bGw6cy5fYm9keUluaXQpfSkpfU8ucG9seWZpbGw9ITAsZS5mZXRjaHx8KGUuZmV0Y2g9TyxlLkhlYWRlcnM9ZixlLlJlcXVlc3Q9dyxlLlJlc3BvbnNlPUEpLHQuSGVhZGVycz1mLHQuUmVxdWVzdD13LHQuUmVzcG9uc2U9QSx0LmZldGNoPU8sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfShlKX0pKSxlKChmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0PTFlMyxlPTZlNCxyPTM2ZTUsbj0ibWlsbGlzZWNvbmQiLG89InNlY29uZCIsaT0ibWludXRlIixhPSJob3VyIix1PSJkYXkiLHM9IndlZWsiLGY9Im1vbnRoIixoPSJxdWFydGVyIixjPSJ5ZWFyIixsPSJkYXRlIixwPSJJbnZhbGlkIERhdGUiLGQ9L14oXGR7NH0pWy0vXT8oXGR7MSwyfSk/Wy0vXT8oXGR7MCwyfSlbVHRcc10qKFxkezEsMn0pPzo/KFxkezEsMn0pPzo/KFxkezEsMn0pP1suOl0/KFxkKyk/JC8seT0vXFsoW15cXV0rKV18WXsxLDR9fE17MSw0fXxEezEsMn18ZHsxLDR9fEh7MSwyfXxoezEsMn18YXxBfG17MSwyfXxzezEsMn18WnsxLDJ9fFNTUy9nLHY9e25hbWU6ImVuIix3ZWVrZGF5czoiU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXkiLnNwbGl0KCJfIiksbW9udGhzOiJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyIi5zcGxpdCgiXyIpfSxnPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1TdHJpbmcodCk7cmV0dXJuIW58fG4ubGVuZ3RoPj1lP3Q6IiIrQXJyYXkoZSsxLW4ubGVuZ3RoKS5qb2luKHIpK3R9LGI9e3M6Zyx6OmZ1bmN0aW9uKHQpe3ZhciBlPS10LnV0Y09mZnNldCgpLHI9TWF0aC5hYnMoZSksbj1NYXRoLmZsb29yKHIvNjApLG89ciU2MDtyZXR1cm4oZTw9MD8iKyI6Ii0iKStnKG4sMiwiMCIpKyI6IitnKG8sMiwiMCIpfSxtOmZ1bmN0aW9uIHQoZSxyKXtpZihlLmRhdGUoKTxyLmRhdGUoKSlyZXR1cm4tdChyLGUpO3ZhciBuPTEyKihyLnllYXIoKS1lLnllYXIoKSkrKHIubW9udGgoKS1lLm1vbnRoKCkpLG89ZS5jbG9uZSgpLmFkZChuLGYpLGk9ci1vPDAsYT1lLmNsb25lKCkuYWRkKG4rKGk/LTE6MSksZik7cmV0dXJuKygtKG4rKHItbykvKGk/by1hOmEtbykpfHwwKX0sYTpmdW5jdGlvbih0KXtyZXR1cm4gdDwwP01hdGguY2VpbCh0KXx8MDpNYXRoLmZsb29yKHQpfSxwOmZ1bmN0aW9uKHQpe3JldHVybntNOmYseTpjLHc6cyxkOnUsRDpsLGg6YSxtOmksczpvLG1zOm4sUTpofVt0XXx8U3RyaW5nKHR8fCIiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL3MkLywiIil9LHU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXR9fSx3PSJlbiIsbT17fTttW3ddPXY7dmFyIF89ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBTfSxBPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbjtpZighdClyZXR1cm4gdztpZigic3RyaW5nIj09dHlwZW9mIHQpbVt0XSYmKG49dCksZSYmKG1bdF09ZSxuPXQpO2Vsc2V7dmFyIG89dC5uYW1lO21bb109dCxuPW99cmV0dXJuIXImJm4mJih3PW4pLG58fCFyJiZ3fSxFPWZ1bmN0aW9uKHQsZSl7aWYoXyh0KSlyZXR1cm4gdC5jbG9uZSgpO3ZhciByPSJvYmplY3QiPT10eXBlb2YgZT9lOnt9O3JldHVybiByLmRhdGU9dCxyLmFyZ3M9YXJndW1lbnRzLG5ldyBTKHIpfSxPPWI7Ty5sPUEsTy5pPV8sTy53PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEUodCx7bG9jYWxlOmUuJEwsdXRjOmUuJHUseDplLiR4LCRvZmZzZXQ6ZS4kb2Zmc2V0fSl9O3ZhciBTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdih0KXt0aGlzLiRMPUEodC5sb2NhbGUsbnVsbCwhMCksdGhpcy5wYXJzZSh0KX12YXIgZz12LnByb3RvdHlwZTtyZXR1cm4gZy5wYXJzZT1mdW5jdGlvbih0KXt0aGlzLiRkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0ZSxyPXQudXRjO2lmKG51bGw9PT1lKXJldHVybiBuZXcgRGF0ZShOYU4pO2lmKE8udShlKSlyZXR1cm4gbmV3IERhdGU7aWYoZSBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIS9aJC9pLnRlc3QoZSkpe3ZhciBuPWUubWF0Y2goZCk7aWYobil7dmFyIG89blsyXS0xfHwwLGk9KG5bN118fCIwIikuc3Vic3RyaW5nKDAsMyk7cmV0dXJuIHI/bmV3IERhdGUoRGF0ZS5VVEMoblsxXSxvLG5bM118fDEsbls0XXx8MCxuWzVdfHwwLG5bNl18fDAsaSkpOm5ldyBEYXRlKG5bMV0sbyxuWzNdfHwxLG5bNF18fDAsbls1XXx8MCxuWzZdfHwwLGkpfX1yZXR1cm4gbmV3IERhdGUoZSl9KHQpLHRoaXMuJHg9dC54fHx7fSx0aGlzLmluaXQoKX0sZy5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kZDt0aGlzLiR5PXQuZ2V0RnVsbFllYXIoKSx0aGlzLiRNPXQuZ2V0TW9udGgoKSx0aGlzLiREPXQuZ2V0RGF0ZSgpLHRoaXMuJFc9dC5nZXREYXkoKSx0aGlzLiRIPXQuZ2V0SG91cnMoKSx0aGlzLiRtPXQuZ2V0TWludXRlcygpLHRoaXMuJHM9dC5nZXRTZWNvbmRzKCksdGhpcy4kbXM9dC5nZXRNaWxsaXNlY29uZHMoKX0sZy4kdXRpbHM9ZnVuY3Rpb24oKXtyZXR1cm4gT30sZy5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLiRkLnRvU3RyaW5nKCk9PT1wKX0sZy5pc1NhbWU9ZnVuY3Rpb24odCxlKXt2YXIgcj1FKHQpO3JldHVybiB0aGlzLnN0YXJ0T2YoZSk8PXImJnI8PXRoaXMuZW5kT2YoZSl9LGcuaXNBZnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBFKHQpPHRoaXMuc3RhcnRPZihlKX0sZy5pc0JlZm9yZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmVuZE9mKGUpPEUodCl9LGcuJGc9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBPLnUodCk/dGhpc1tlXTp0aGlzLnNldChyLHQpfSxnLnVuaXg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKS8xZTMpfSxnLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC5nZXRUaW1lKCl9LGcuc3RhcnRPZj1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMsbj0hIU8udShlKXx8ZSxoPU8ucCh0KSxwPWZ1bmN0aW9uKHQsZSl7dmFyIG89Ty53KHIuJHU/RGF0ZS5VVEMoci4keSxlLHQpOm5ldyBEYXRlKHIuJHksZSx0KSxyKTtyZXR1cm4gbj9vOm8uZW5kT2YodSl9LGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTy53KHIudG9EYXRlKClbdF0uYXBwbHkoci50b0RhdGUoInMiKSwobj9bMCwwLDAsMF06WzIzLDU5LDU5LDk5OV0pLnNsaWNlKGUpKSxyKX0seT10aGlzLiRXLHY9dGhpcy4kTSxnPXRoaXMuJEQsYj0ic2V0IisodGhpcy4kdT8iVVRDIjoiIik7c3dpdGNoKGgpe2Nhc2UgYzpyZXR1cm4gbj9wKDEsMCk6cCgzMSwxMSk7Y2FzZSBmOnJldHVybiBuP3AoMSx2KTpwKDAsdisxKTtjYXNlIHM6dmFyIHc9dGhpcy4kbG9jYWxlKCkud2Vla1N0YXJ0fHwwLG09KHk8dz95Kzc6eSktdztyZXR1cm4gcChuP2ctbTpnKyg2LW0pLHYpO2Nhc2UgdTpjYXNlIGw6cmV0dXJuIGQoYisiSG91cnMiLDApO2Nhc2UgYTpyZXR1cm4gZChiKyJNaW51dGVzIiwxKTtjYXNlIGk6cmV0dXJuIGQoYisiU2Vjb25kcyIsMik7Y2FzZSBvOnJldHVybiBkKGIrIk1pbGxpc2Vjb25kcyIsMyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbG9uZSgpfX0sZy5lbmRPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFydE9mKHQsITEpfSxnLiRzZXQ9ZnVuY3Rpb24odCxlKXt2YXIgcixzPU8ucCh0KSxoPSJzZXQiKyh0aGlzLiR1PyJVVEMiOiIiKSxwPShyPXt9LHJbdV09aCsiRGF0ZSIscltsXT1oKyJEYXRlIixyW2ZdPWgrIk1vbnRoIixyW2NdPWgrIkZ1bGxZZWFyIixyW2FdPWgrIkhvdXJzIixyW2ldPWgrIk1pbnV0ZXMiLHJbb109aCsiU2Vjb25kcyIscltuXT1oKyJNaWxsaXNlY29uZHMiLHIpW3NdLGQ9cz09PXU/dGhpcy4kRCsoZS10aGlzLiRXKTplO2lmKHM9PT1mfHxzPT09Yyl7dmFyIHk9dGhpcy5jbG9uZSgpLnNldChsLDEpO3kuJGRbcF0oZCkseS5pbml0KCksdGhpcy4kZD15LnNldChsLE1hdGgubWluKHRoaXMuJEQseS5kYXlzSW5Nb250aCgpKSkuJGR9ZWxzZSBwJiZ0aGlzLiRkW3BdKGQpO3JldHVybiB0aGlzLmluaXQoKSx0aGlzfSxnLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNsb25lKCkuJHNldCh0LGUpfSxnLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1tPLnAodCldKCl9LGcuYWRkPWZ1bmN0aW9uKG4saCl7dmFyIGwscD10aGlzO249TnVtYmVyKG4pO3ZhciBkPU8ucChoKSx5PWZ1bmN0aW9uKHQpe3ZhciBlPUUocCk7cmV0dXJuIE8udyhlLmRhdGUoZS5kYXRlKCkrTWF0aC5yb3VuZCh0Km4pKSxwKX07aWYoZD09PWYpcmV0dXJuIHRoaXMuc2V0KGYsdGhpcy4kTStuKTtpZihkPT09YylyZXR1cm4gdGhpcy5zZXQoYyx0aGlzLiR5K24pO2lmKGQ9PT11KXJldHVybiB5KDEpO2lmKGQ9PT1zKXJldHVybiB5KDcpO3ZhciB2PShsPXt9LGxbaV09ZSxsW2FdPXIsbFtvXT10LGwpW2RdfHwxLGc9dGhpcy4kZC5nZXRUaW1lKCkrbip2O3JldHVybiBPLncoZyx0aGlzKX0sZy5zdWJ0cmFjdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZCgtMSp0LGUpfSxnLmZvcm1hdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9dGhpcy4kbG9jYWxlKCk7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiByLmludmFsaWREYXRlfHxwO3ZhciBuPXR8fCJZWVlZLU1NLUREVEhIOm1tOnNzWiIsbz1PLnoodGhpcyksaT10aGlzLiRILGE9dGhpcy4kbSx1PXRoaXMuJE0scz1yLndlZWtkYXlzLGY9ci5tb250aHMsaD1mdW5jdGlvbih0LHIsbyxpKXtyZXR1cm4gdCYmKHRbcl18fHQoZSxuKSl8fG9bcl0uc3Vic3RyKDAsaSl9LGM9ZnVuY3Rpb24odCl7cmV0dXJuIE8ucyhpJTEyfHwxMix0LCIwIil9LGw9ci5tZXJpZGllbXx8ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQ8MTI/IkFNIjoiUE0iO3JldHVybiByP24udG9Mb3dlckNhc2UoKTpufSxkPXtZWTpTdHJpbmcodGhpcy4keSkuc2xpY2UoLTIpLFlZWVk6dGhpcy4keSxNOnUrMSxNTTpPLnModSsxLDIsIjAiKSxNTU06aChyLm1vbnRoc1Nob3J0LHUsZiwzKSxNTU1NOmgoZix1KSxEOnRoaXMuJEQsREQ6Ty5zKHRoaXMuJEQsMiwiMCIpLGQ6U3RyaW5nKHRoaXMuJFcpLGRkOmgoci53ZWVrZGF5c01pbix0aGlzLiRXLHMsMiksZGRkOmgoci53ZWVrZGF5c1Nob3J0LHRoaXMuJFcscywzKSxkZGRkOnNbdGhpcy4kV10sSDpTdHJpbmcoaSksSEg6Ty5zKGksMiwiMCIpLGg6YygxKSxoaDpjKDIpLGE6bChpLGEsITApLEE6bChpLGEsITEpLG06U3RyaW5nKGEpLG1tOk8ucyhhLDIsIjAiKSxzOlN0cmluZyh0aGlzLiRzKSxzczpPLnModGhpcy4kcywyLCIwIiksU1NTOk8ucyh0aGlzLiRtcywzLCIwIiksWjpvfTtyZXR1cm4gbi5yZXBsYWNlKHksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fGRbdF18fG8ucmVwbGFjZSgiOiIsIiIpfSkpfSxnLnV0Y09mZnNldD1mdW5jdGlvbigpe3JldHVybiAxNSotTWF0aC5yb3VuZCh0aGlzLiRkLmdldFRpbWV6b25lT2Zmc2V0KCkvMTUpfSxnLmRpZmY9ZnVuY3Rpb24obixsLHApe3ZhciBkLHk9Ty5wKGwpLHY9RShuKSxnPSh2LnV0Y09mZnNldCgpLXRoaXMudXRjT2Zmc2V0KCkpKmUsYj10aGlzLXYsdz1PLm0odGhpcyx2KTtyZXR1cm4gdz0oZD17fSxkW2NdPXcvMTIsZFtmXT13LGRbaF09dy8zLGRbc109KGItZykvNjA0OGU1LGRbdV09KGItZykvODY0ZTUsZFthXT1iL3IsZFtpXT1iL2UsZFtvXT1iL3QsZClbeV18fGIscD93Ok8uYSh3KX0sZy5kYXlzSW5Nb250aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZE9mKGYpLiREfSxnLiRsb2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gbVt0aGlzLiRMXX0sZy5sb2NhbGU9ZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm4gdGhpcy4kTDt2YXIgcj10aGlzLmNsb25lKCksbj1BKHQsZSwhMCk7cmV0dXJuIG4mJihyLiRMPW4pLHJ9LGcuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gTy53KHRoaXMuJGQsdGhpcyl9LGcudG9EYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKX0sZy50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/dGhpcy50b0lTT1N0cmluZygpOm51bGx9LGcudG9JU09TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC50b0lTT1N0cmluZygpfSxnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGQudG9VVENTdHJpbmcoKX0sdn0oKSxNPVMucHJvdG90eXBlO3JldHVybiBFLnByb3RvdHlwZT1NLFtbIiRtcyIsbl0sWyIkcyIsb10sWyIkbSIsaV0sWyIkSCIsYV0sWyIkVyIsdV0sWyIkTSIsZl0sWyIkeSIsY10sWyIkRCIsbF1dLmZvckVhY2goKGZ1bmN0aW9uKHQpe01bdFsxXV09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGcoZSx0WzBdLHRbMV0pfX0pKSxFLmV4dGVuZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LiRpfHwodChlLFMsRSksdC4kaT0hMCksRX0sRS5sb2NhbGU9QSxFLmlzRGF5anM9XyxFLnVuaXg9ZnVuY3Rpb24odCl7cmV0dXJuIEUoMWUzKnQpfSxFLmVuPW1bd10sRS5Mcz1tLEUucD17fSxFfSgpfSkpO2Zvcih2YXIgJD1mdW5jdGlvbih0LGUpe3ZhciByPWZ1bmN0aW9uKHQpe3R8fCh0PXt9KSx0LmJvZHkmJiF0Lm1ldGhvZCYmKHQubWV0aG9kPSJQT1NUIiksdC5tZXRob2QmJih0Lm1ldGhvZD10Lm1ldGhvZC50b1VwcGVyQ2FzZSgpKTt2YXIgZSxyPU9iamVjdC5hc3NpZ24oe30sdCx7Ym9keTooZT10LmJvZHksZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYhUChlKT9KU09OLnN0cmluZ2lmeSh0LmJvZHkpOnQuYm9keSl9KTtyZXR1cm4gci5ib2R5JiYoci5oZWFkZXJzPU9iamVjdC5hc3NpZ24oUChyLmJvZHkpP3t9OnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9LHIuaGVhZGVycykpLHJ9KGUpLG49RCh0LHVuZGVmaW5lZCk7aWYoIXIuZ3VhcmFudGVlSWQpcmV0dXJuIEMoZmV0Y2gobixyKSk7dmFyIG89ayhyKSxpPW8uY29udHJvbGxlcixhPW8uZ3VhcmFudGVlO3JldHVybiBDKGZldGNoKG4scikuZmluYWxseSgoZnVuY3Rpb24oKXthLmdldChyLmd1YXJhbnRlZUlkKT09PWkmJmEuZGVsZXRlKHIuZ3VhcmFudGVlSWQpfSkpKX0sUj0yLEw9NCx6PTgsRj1mdW5jdGlvbih0KXt2YXIgZT1KKHQpLHI9ZVswXSxuPWVbMV07cmV0dXJuIDMqKHIrbikvNC1ufSxOPWZ1bmN0aW9uKHQpe3ZhciBlLHIsbj1KKHQpLG89blswXSxpPW5bMV0sYT1uZXcgRyhmdW5jdGlvbih0LGUscil7cmV0dXJuIDMqKGUrcikvNC1yfSgwLG8saSkpLHU9MCxzPWk+MD9vLTQ6bztmb3Iocj0wO3I8cztyKz00KWU9cVt0LmNoYXJDb2RlQXQocildPDwxOHxxW3QuY2hhckNvZGVBdChyKzEpXTw8MTJ8cVt0LmNoYXJDb2RlQXQocisyKV08PDZ8cVt0LmNoYXJDb2RlQXQociszKV0sYVt1KytdPWU+PjE2JjI1NSxhW3UrK109ZT4+OCYyNTUsYVt1KytdPTI1NSZlOzI9PT1pJiYoZT1xW3QuY2hhckNvZGVBdChyKV08PDJ8cVt0LmNoYXJDb2RlQXQocisxKV0+PjQsYVt1KytdPTI1NSZlKTsxPT09aSYmKGU9cVt0LmNoYXJDb2RlQXQocildPDwxMHxxW3QuY2hhckNvZGVBdChyKzEpXTw8NHxxW3QuY2hhckNvZGVBdChyKzIpXT4+MixhW3UrK109ZT4+OCYyNTUsYVt1KytdPTI1NSZlKTtyZXR1cm4gYX0sSD1mdW5jdGlvbih0KXtmb3IodmFyIGUscj10Lmxlbmd0aCxuPXIlMyxvPVtdLGk9MTYzODMsYT0wLHU9ci1uO2E8dTthKz1pKW8ucHVzaChYKHQsYSxhK2k+dT91OmEraSkpOzE9PT1uPyhlPXRbci0xXSxvLnB1c2goWVtlPj4yXStZW2U8PDQmNjNdKyI9PSIpKToyPT09biYmKGU9KHRbci0yXTw8OCkrdFtyLTFdLG8ucHVzaChZW2U+PjEwXStZW2U+PjQmNjNdK1lbZTw8MiY2M10rIj0iKSk7cmV0dXJuIG8uam9pbigiIil9LFk9W10scT1bXSxHPSJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LFo9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLFY9MCxXPVoubGVuZ3RoO1Y8VzsrK1YpWVtWXT1aW1ZdLHFbWi5jaGFyQ29kZUF0KFYpXT1WO2Z1bmN0aW9uIEoodCl7dmFyIGU9dC5sZW5ndGg7aWYoZSU0PjApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Iik7dmFyIHI9dC5pbmRleE9mKCI9Iik7cmV0dXJuLTE9PT1yJiYocj1lKSxbcixyPT09ZT8wOjQtciU0XX1mdW5jdGlvbiBYKHQsZSxyKXtmb3IodmFyIG4sbyxpPVtdLGE9ZTthPHI7YSs9MyluPSh0W2FdPDwxNiYxNjcxMTY4MCkrKHRbYSsxXTw8OCY2NTI4MCkrKDI1NSZ0W2ErMl0pLGkucHVzaChZWyhvPW4pPj4xOCY2M10rWVtvPj4xMiY2M10rWVtvPj42JjYzXStZWzYzJm9dKTtyZXR1cm4gaS5qb2luKCIiKX1xWyItIi5jaGFyQ29kZUF0KDApXT02MixxWyJfIi5jaGFyQ29kZUF0KDApXT02Mzt2YXIgUT17Ynl0ZUxlbmd0aDpGLHRvQnl0ZUFycmF5Ok4sZnJvbUJ5dGVBcnJheTpIfSxLPWZ1bmN0aW9uKHQsZSxyLG4sbyl7dmFyIGksYSx1PTgqby1uLTEscz0oMTw8dSktMSxmPXM+PjEsaD0tNyxjPXI/by0xOjAsbD1yPy0xOjEscD10W2UrY107Zm9yKGMrPWwsaT1wJigxPDwtaCktMSxwPj49LWgsaCs9dTtoPjA7aT0yNTYqaSt0W2UrY10sYys9bCxoLT04KTtmb3IoYT1pJigxPDwtaCktMSxpPj49LWgsaCs9bjtoPjA7YT0yNTYqYSt0W2UrY10sYys9bCxoLT04KTtpZigwPT09aSlpPTEtZjtlbHNle2lmKGk9PT1zKXJldHVybiBhP05hTjoxLzAqKHA/LTE6MSk7YSs9TWF0aC5wb3coMixuKSxpLT1mfXJldHVybihwPy0xOjEpKmEqTWF0aC5wb3coMixpLW4pfSx0dD1mdW5jdGlvbih0LGUscixuLG8saSl7dmFyIGEsdSxzLGY9OCppLW8tMSxoPSgxPDxmKS0xLGM9aD4+MSxsPTIzPT09bz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAscD1uPzA6aS0xLGQ9bj8xOi0xLHk9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyh1PWlzTmFOKGUpPzE6MCxhPWgpOihhPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHM9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0scyo9MiksKGUrPWErYz49MT9sL3M6bCpNYXRoLnBvdygyLDEtYykpKnM+PTImJihhKysscy89MiksYStjPj1oPyh1PTAsYT1oKTphK2M+PTE/KHU9KGUqcy0xKSpNYXRoLnBvdygyLG8pLGErPWMpOih1PWUqTWF0aC5wb3coMixjLTEpKk1hdGgucG93KDIsbyksYT0wKSk7bz49ODt0W3IrcF09MjU1JnUscCs9ZCx1Lz0yNTYsby09OCk7Zm9yKGE9YTw8b3x1LGYrPW87Zj4wO3RbcitwXT0yNTUmYSxwKz1kLGEvPTI1NixmLT04KTt0W3IrcC1kXXw9MTI4Knl9LGV0PWUoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbC5mb3I/U3ltYm9sLmZvcigibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20iKTpudWxsO2UuQnVmZmVyPWksZS5TbG93QnVmZmVyPWZ1bmN0aW9uKHQpeyt0IT10JiYodD0wKTtyZXR1cm4gaS5hbGxvYygrdCl9LGUuSU5TUEVDVF9NQVhfQllURVM9NTA7dmFyIG49MjE0NzQ4MzY0NztmdW5jdGlvbiBvKHQpe2lmKHQ+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlICInK3QrJyIgaXMgaW52YWxpZCBmb3Igb3B0aW9uICJzaXplIicpO3ZhciBlPW5ldyBVaW50OEFycmF5KHQpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSxpLnByb3RvdHlwZSksZX1mdW5jdGlvbiBpKHQsZSxyKXtpZigibnVtYmVyIj09dHlwZW9mIHQpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInN0cmluZyIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gcyh0KX1yZXR1cm4gYSh0LGUscil9ZnVuY3Rpb24gYSh0LGUscil7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0LGUpeyJzdHJpbmciPT10eXBlb2YgZSYmIiIhPT1lfHwoZT0idXRmOCIpO2lmKCFpLmlzRW5jb2RpbmcoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTt2YXIgcj0wfGwodCxlKSxuPW8ociksYT1uLndyaXRlKHQsZSk7YSE9PXImJihuPW4uc2xpY2UoMCxhKSk7cmV0dXJuIG59KHQsZSk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiBmdW5jdGlvbih0KXtpZihSKHQsVWludDhBcnJheSkpe3ZhciBlPW5ldyBVaW50OEFycmF5KHQpO3JldHVybiBoKGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpfXJldHVybiBmKHQpfSh0KTtpZihudWxsPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIHQpO2lmKFIodCxBcnJheUJ1ZmZlcil8fHQmJlIodC5idWZmZXIsQXJyYXlCdWZmZXIpKXJldHVybiBoKHQsZSxyKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyJiYoUih0LFNoYXJlZEFycmF5QnVmZmVyKXx8dCYmUih0LmJ1ZmZlcixTaGFyZWRBcnJheUJ1ZmZlcikpKXJldHVybiBoKHQsZSxyKTtpZigibnVtYmVyIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7dmFyIG49dC52YWx1ZU9mJiZ0LnZhbHVlT2YoKTtpZihudWxsIT1uJiZuIT09dClyZXR1cm4gaS5mcm9tKG4sZSxyKTt2YXIgYT1mdW5jdGlvbih0KXtpZihpLmlzQnVmZmVyKHQpKXt2YXIgZT0wfGModC5sZW5ndGgpLHI9byhlKTtyZXR1cm4gMD09PXIubGVuZ3RofHx0LmNvcHkociwwLDAsZSkscn1pZih2b2lkIDAhPT10Lmxlbmd0aClyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQubGVuZ3RofHxMKHQubGVuZ3RoKT9vKDApOmYodCk7aWYoIkJ1ZmZlciI9PT10LnR5cGUmJkFycmF5LmlzQXJyYXkodC5kYXRhKSlyZXR1cm4gZih0LmRhdGEpfSh0KTtpZihhKXJldHVybiBhO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1TeW1ib2wudG9QcmltaXRpdmUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W1N5bWJvbC50b1ByaW1pdGl2ZV0pcmV0dXJuIGkuZnJvbSh0W1N5bWJvbC50b1ByaW1pdGl2ZV0oInN0cmluZyIpLGUscik7dGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgIit0eXBlb2YgdCl9ZnVuY3Rpb24gdSh0KXtpZigibnVtYmVyIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKTtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSAiJyt0KyciIGlzIGludmFsaWQgZm9yIG9wdGlvbiAic2l6ZSInKX1mdW5jdGlvbiBzKHQpe3JldHVybiB1KHQpLG8odDwwPzA6MHxjKHQpKX1mdW5jdGlvbiBmKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDwwPzA6MHxjKHQubGVuZ3RoKSxyPW8oZSksbj0wO248ZTtuKz0xKXJbbl09MjU1JnRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gaCh0LGUscil7aWYoZTwwfHx0LmJ5dGVMZW5ndGg8ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignIm9mZnNldCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYodC5ieXRlTGVuZ3RoPGUrKHJ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCcibGVuZ3RoIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTt2YXIgbjtyZXR1cm4gbj12b2lkIDA9PT1lJiZ2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KHQpOnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkodCxlKTpuZXcgVWludDhBcnJheSh0LGUsciksT2JqZWN0LnNldFByb3RvdHlwZU9mKG4saS5wcm90b3R5cGUpLG59ZnVuY3Rpb24gYyh0KXtpZih0Pj1uKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4IituLnRvU3RyaW5nKDE2KSsiIGJ5dGVzIik7cmV0dXJuIDB8dH1mdW5jdGlvbiBsKHQsZSl7aWYoaS5pc0J1ZmZlcih0KSlyZXR1cm4gdC5sZW5ndGg7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpfHxSKHQsQXJyYXlCdWZmZXIpKXJldHVybiB0LmJ5dGVMZW5ndGg7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAic3RyaW5nIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTt2YXIgcj10Lmxlbmd0aCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmITA9PT1hcmd1bWVudHNbMl07aWYoIW4mJjA9PT1yKXJldHVybiAwO2Zvcih2YXIgbz0hMTs7KXN3aXRjaChlKXtjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiByO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIEModCkubGVuZ3RoO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gMipyO2Nhc2UiaGV4IjpyZXR1cm4gcj4+PjE7Y2FzZSJiYXNlNjQiOnJldHVybiBrKHQpLmxlbmd0aDtkZWZhdWx0OmlmKG8pcmV0dXJuIG4/LTE6Qyh0KS5sZW5ndGg7ZT0oIiIrZSkudG9Mb3dlckNhc2UoKSxvPSEwfX1mdW5jdGlvbiBwKHQsZSxyKXt2YXIgbj0hMTtpZigodm9pZCAwPT09ZXx8ZTwwKSYmKGU9MCksZT50aGlzLmxlbmd0aClyZXR1cm4iIjtpZigodm9pZCAwPT09cnx8cj50aGlzLmxlbmd0aCkmJihyPXRoaXMubGVuZ3RoKSxyPD0wKXJldHVybiIiO2lmKChyPj4+PTApPD0oZT4+Pj0wKSlyZXR1cm4iIjtmb3IodHx8KHQ9InV0ZjgiKTs7KXN3aXRjaCh0KXtjYXNlImhleCI6cmV0dXJuIEIodGhpcyxlLHIpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIEUodGhpcyxlLHIpO2Nhc2UiYXNjaWkiOnJldHVybiBTKHRoaXMsZSxyKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBNKHRoaXMsZSxyKTtjYXNlImJhc2U2NCI6cmV0dXJuIEEodGhpcyxlLHIpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gVSh0aGlzLGUscik7ZGVmYXVsdDppZihuKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrdCk7dD0odCsiIikudG9Mb3dlckNhc2UoKSxuPSEwfX1mdW5jdGlvbiBkKHQsZSxyKXt2YXIgbj10W2VdO3RbZV09dFtyXSx0W3JdPW59ZnVuY3Rpb24geSh0LGUscixuLG8pe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4tMTtpZigic3RyaW5nIj09dHlwZW9mIHI/KG49cixyPTApOnI+MjE0NzQ4MzY0Nz9yPTIxNDc0ODM2NDc6cjwtMjE0NzQ4MzY0OCYmKHI9LTIxNDc0ODM2NDgpLEwocj0rcikmJihyPW8/MDp0Lmxlbmd0aC0xKSxyPDAmJihyPXQubGVuZ3RoK3IpLHI+PXQubGVuZ3RoKXtpZihvKXJldHVybi0xO3I9dC5sZW5ndGgtMX1lbHNlIGlmKHI8MCl7aWYoIW8pcmV0dXJuLTE7cj0wfWlmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9aS5mcm9tKGUsbikpLGkuaXNCdWZmZXIoZSkpcmV0dXJuIDA9PT1lLmxlbmd0aD8tMTp2KHQsZSxyLG4sbyk7aWYoIm51bWJlciI9PXR5cGVvZiBlKXJldHVybiBlJj0yNTUsImZ1bmN0aW9uIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/bz9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLHIpOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwodCxlLHIpOnYodCxbZV0scixuLG8pO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIHYodCxlLHIsbixvKXt2YXIgaSxhPTEsdT10Lmxlbmd0aCxzPWUubGVuZ3RoO2lmKHZvaWQgMCE9PW4mJigidWNzMiI9PT0obj1TdHJpbmcobikudG9Mb3dlckNhc2UoKSl8fCJ1Y3MtMiI9PT1ufHwidXRmMTZsZSI9PT1ufHwidXRmLTE2bGUiPT09bikpe2lmKHQubGVuZ3RoPDJ8fGUubGVuZ3RoPDIpcmV0dXJuLTE7YT0yLHUvPTIscy89MixyLz0yfWZ1bmN0aW9uIGYodCxlKXtyZXR1cm4gMT09PWE/dFtlXTp0LnJlYWRVSW50MTZCRShlKmEpfWlmKG8pe3ZhciBoPS0xO2ZvcihpPXI7aTx1O2krKylpZihmKHQsaSk9PT1mKGUsLTE9PT1oPzA6aS1oKSl7aWYoLTE9PT1oJiYoaD1pKSxpLWgrMT09PXMpcmV0dXJuIGgqYX1lbHNlLTEhPT1oJiYoaS09aS1oKSxoPS0xfWVsc2UgZm9yKHIrcz51JiYocj11LXMpLGk9cjtpPj0wO2ktLSl7Zm9yKHZhciBjPSEwLGw9MDtsPHM7bCsrKWlmKGYodCxpK2wpIT09ZihlLGwpKXtjPSExO2JyZWFrfWlmKGMpcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gZyh0LGUscixuKXtyPU51bWJlcihyKXx8MDt2YXIgbz10Lmxlbmd0aC1yO24/KG49TnVtYmVyKG4pKT5vJiYobj1vKTpuPW87dmFyIGk9ZS5sZW5ndGg7bj5pLzImJihuPWkvMik7Zm9yKHZhciBhPTA7YTxuOysrYSl7dmFyIHU9cGFyc2VJbnQoZS5zdWJzdHIoMiphLDIpLDE2KTtpZihMKHUpKXJldHVybiBhO3RbcithXT11fXJldHVybiBhfWZ1bmN0aW9uIGIodCxlLHIsbil7cmV0dXJuICQoQyhlLHQubGVuZ3RoLXIpLHQscixuKX1mdW5jdGlvbiB3KHQsZSxyLG4pe3JldHVybiAkKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTA7cjx0Lmxlbmd0aDsrK3IpZS5wdXNoKDI1NSZ0LmNoYXJDb2RlQXQocikpO3JldHVybiBlfShlKSx0LHIsbil9ZnVuY3Rpb24gbSh0LGUscixuKXtyZXR1cm4gJChrKGUpLHQscixuKX1mdW5jdGlvbiBfKHQsZSxyLG4pe3JldHVybiAkKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByLG4sbyxpPVtdLGE9MDthPHQubGVuZ3RoJiYhKChlLT0yKTwwKTsrK2Epbj0ocj10LmNoYXJDb2RlQXQoYSkpPj44LG89ciUyNTYsaS5wdXNoKG8pLGkucHVzaChuKTtyZXR1cm4gaX0oZSx0Lmxlbmd0aC1yKSx0LHIsbil9ZnVuY3Rpb24gQSh0LGUscil7cmV0dXJuIDA9PT1lJiZyPT09dC5sZW5ndGg/US5mcm9tQnl0ZUFycmF5KHQpOlEuZnJvbUJ5dGVBcnJheSh0LnNsaWNlKGUscikpfWZ1bmN0aW9uIEUodCxlLHIpe3I9TWF0aC5taW4odC5sZW5ndGgscik7Zm9yKHZhciBuPVtdLG89ZTtvPHI7KXt2YXIgaSxhLHUscyxmPXRbb10saD1udWxsLGM9Zj4yMzk/NDpmPjIyMz8zOmY+MTkxPzI6MTtpZihvK2M8PXIpc3dpdGNoKGMpe2Nhc2UgMTpmPDEyOCYmKGg9Zik7YnJlYWs7Y2FzZSAyOjEyOD09KDE5MiYoaT10W28rMV0pKSYmKHM9KDMxJmYpPDw2fDYzJmkpPjEyNyYmKGg9cyk7YnJlYWs7Y2FzZSAzOmk9dFtvKzFdLGE9dFtvKzJdLDEyOD09KDE5MiZpKSYmMTI4PT0oMTkyJmEpJiYocz0oMTUmZik8PDEyfCg2MyZpKTw8Nnw2MyZhKT4yMDQ3JiYoczw1NTI5Nnx8cz41NzM0MykmJihoPXMpO2JyZWFrO2Nhc2UgNDppPXRbbysxXSxhPXRbbysyXSx1PXRbbyszXSwxMjg9PSgxOTImaSkmJjEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJnUpJiYocz0oMTUmZik8PDE4fCg2MyZpKTw8MTJ8KDYzJmEpPDw2fDYzJnUpPjY1NTM1JiZzPDExMTQxMTImJihoPXMpfW51bGw9PT1oPyhoPTY1NTMzLGM9MSk6aD42NTUzNSYmKGgtPTY1NTM2LG4ucHVzaChoPj4+MTAmMTAyM3w1NTI5NiksaD01NjMyMHwxMDIzJmgpLG4ucHVzaChoKSxvKz1jfXJldHVybiBmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD1PKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0KTt2YXIgcj0iIixuPTA7Zm9yKDtuPGU7KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQuc2xpY2UobixuKz1PKSk7cmV0dXJuIHJ9KG4pfWUua01heExlbmd0aD1uLGkuVFlQRURfQVJSQVlfU1VQUE9SVD1mdW5jdGlvbigpe3RyeXt2YXIgdD1uZXcgVWludDhBcnJheSgxKSxlPXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpLDQyPT09dC5mb28oKX1jYXRjaCh0KXtyZXR1cm4hMX19KCksaS5UWVBFRF9BUlJBWV9TVVBQT1JUfHwidW5kZWZpbmVkIj09dHlwZW9mIGNvbnNvbGV8fCJmdW5jdGlvbiIhPXR5cGVvZiBjb25zb2xlLmVycm9yfHxjb25zb2xlLmVycm9yKCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4iKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInBhcmVudCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoaS5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvZmZzZXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKGkuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KSxpLnBvb2xTaXplPTgxOTIsaS5mcm9tPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gYSh0LGUscil9LE9iamVjdC5zZXRQcm90b3R5cGVPZihpLnByb3RvdHlwZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKGksVWludDhBcnJheSksaS5hbGxvYz1mdW5jdGlvbih0LGUscil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdSh0KSx0PD0wP28odCk6dm9pZCAwIT09ZT8ic3RyaW5nIj09dHlwZW9mIHI/byh0KS5maWxsKGUscik6byh0KS5maWxsKGUpOm8odCl9KHQsZSxyKX0saS5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtyZXR1cm4gcyh0KX0saS5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24odCl7cmV0dXJuIHModCl9LGkuaXNCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJiEwPT09dC5faXNCdWZmZXImJnQhPT1pLnByb3RvdHlwZX0saS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYoUih0LFVpbnQ4QXJyYXkpJiYodD1pLmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSxSKGUsVWludDhBcnJheSkmJihlPWkuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCkpLCFpLmlzQnVmZmVyKHQpfHwhaS5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgImJ1ZjEiLCAiYnVmMiIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZih0PT09ZSlyZXR1cm4gMDtmb3IodmFyIHI9dC5sZW5ndGgsbj1lLmxlbmd0aCxvPTAsYT1NYXRoLm1pbihyLG4pO288YTsrK28paWYodFtvXSE9PWVbb10pe3I9dFtvXSxuPWVbb107YnJlYWt9cmV0dXJuIHI8bj8tMTpuPHI/MTowfSxpLmlzRW5jb2Rpbmc9ZnVuY3Rpb24odCl7c3dpdGNoKFN0cmluZyh0KS50b0xvd2VyQ2FzZSgpKXtjYXNlImhleCI6Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOmNhc2UiYmFzZTY0IjpjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGkuY29uY2F0PWZ1bmN0aW9uKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gaS5hbGxvYygwKTt2YXIgcjtpZih2b2lkIDA9PT1lKWZvcihlPTAscj0wO3I8dC5sZW5ndGg7KytyKWUrPXRbcl0ubGVuZ3RoO3ZhciBuPWkuYWxsb2NVbnNhZmUoZSksbz0wO2ZvcihyPTA7cjx0Lmxlbmd0aDsrK3Ipe3ZhciBhPXRbcl07aWYoUihhLFVpbnQ4QXJyYXkpKW8rYS5sZW5ndGg+bi5sZW5ndGg/aS5mcm9tKGEpLmNvcHkobixvKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChuLGEsbyk7ZWxzZXtpZighaS5pc0J1ZmZlcihhKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7YS5jb3B5KG4sbyl9bys9YS5sZW5ndGh9cmV0dXJuIG59LGkuYnl0ZUxlbmd0aD1sLGkucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxpLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKHZhciBlPTA7ZTx0O2UrPTIpZCh0aGlzLGUsZSsxKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7aWYodCU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cyIpO2Zvcih2YXIgZT0wO2U8dDtlKz00KWQodGhpcyxlLGUrMyksZCh0aGlzLGUrMSxlKzIpO3JldHVybiB0aGlzfSxpLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzIik7Zm9yKHZhciBlPTA7ZTx0O2UrPTgpZCh0aGlzLGUsZSs3KSxkKHRoaXMsZSsxLGUrNiksZCh0aGlzLGUrMixlKzUpLGQodGhpcyxlKzMsZSs0KTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtyZXR1cm4gMD09PXQ/IiI6MD09PWFyZ3VtZW50cy5sZW5ndGg/RSh0aGlzLDAsdCk6cC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPWkucHJvdG90eXBlLnRvU3RyaW5nLGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZighaS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT10fHwwPT09aS5jb21wYXJlKHRoaXMsdCl9LGkucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgdD0iIixyPWUuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHQ9dGhpcy50b1N0cmluZygiaGV4IiwwLHIpLnJlcGxhY2UoLyguezJ9KS9nLCIkMSAiKS50cmltKCksdGhpcy5sZW5ndGg+ciYmKHQrPSIgLi4uICIpLCI8QnVmZmVyICIrdCsiPiJ9LHImJihpLnByb3RvdHlwZVtyXT1pLnByb3RvdHlwZS5pbnNwZWN0KSxpLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSxyLG4sbyl7aWYoUih0LFVpbnQ4QXJyYXkpJiYodD1pLmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSwhaS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInRhcmdldCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1yJiYocj10P3QubGVuZ3RoOjApLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSxlPDB8fHI+dC5sZW5ndGh8fG48MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYobj49byYmZT49cilyZXR1cm4gMDtpZihuPj1vKXJldHVybi0xO2lmKGU+PXIpcmV0dXJuIDE7aWYodGhpcz09PXQpcmV0dXJuIDA7Zm9yKHZhciBhPShvPj4+PTApLShuPj4+PTApLHU9KHI+Pj49MCktKGU+Pj49MCkscz1NYXRoLm1pbihhLHUpLGY9dGhpcy5zbGljZShuLG8pLGg9dC5zbGljZShlLHIpLGM9MDtjPHM7KytjKWlmKGZbY10hPT1oW2NdKXthPWZbY10sdT1oW2NdO2JyZWFrfXJldHVybiBhPHU/LTE6dTxhPzE6MH0saS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCxlLHIpe3JldHVybi0xIT09dGhpcy5pbmRleE9mKHQsZSxyKX0saS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHkodGhpcyx0LGUsciwhMCl9LGkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4geSh0aGlzLHQsZSxyLCExKX0saS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLHIsbil7aWYodm9pZCAwPT09ZSluPSJ1dGY4IixyPXRoaXMubGVuZ3RoLGU9MDtlbHNlIGlmKHZvaWQgMD09PXImJiJzdHJpbmciPT10eXBlb2YgZSluPWUscj10aGlzLmxlbmd0aCxlPTA7ZWxzZXtpZighaXNGaW5pdGUoZSkpdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO2U+Pj49MCxpc0Zpbml0ZShyKT8ocj4+Pj0wLHZvaWQgMD09PW4mJihuPSJ1dGY4IikpOihuPXIscj12b2lkIDApfXZhciBvPXRoaXMubGVuZ3RoLWU7aWYoKHZvaWQgMD09PXJ8fHI+bykmJihyPW8pLHQubGVuZ3RoPjAmJihyPDB8fGU8MCl8fGU+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIik7bnx8KG49InV0ZjgiKTtmb3IodmFyIGk9ITE7Oylzd2l0Y2gobil7Y2FzZSJoZXgiOnJldHVybiBnKHRoaXMsdCxlLHIpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIGIodGhpcyx0LGUscik7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gdyh0aGlzLHQsZSxyKTtjYXNlImJhc2U2NCI6cmV0dXJuIG0odGhpcyx0LGUscik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBfKHRoaXMsdCxlLHIpO2RlZmF1bHQ6aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK24pO249KCIiK24pLnRvTG93ZXJDYXNlKCksaT0hMH19LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJCdWZmZXIiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIE89NDA5NjtmdW5jdGlvbiBTKHQsZSxyKXt2YXIgbj0iIjtyPU1hdGgubWluKHQubGVuZ3RoLHIpO2Zvcih2YXIgbz1lO288cjsrK28pbis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmdFtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gTSh0LGUscil7dmFyIG49IiI7cj1NYXRoLm1pbih0Lmxlbmd0aCxyKTtmb3IodmFyIG89ZTtvPHI7KytvKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUodFtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gQih0LGUscil7dmFyIG49dC5sZW5ndGg7KCFlfHxlPDApJiYoZT0wKSwoIXJ8fHI8MHx8cj5uKSYmKHI9bik7Zm9yKHZhciBvPSIiLGk9ZTtpPHI7KytpKW8rPXpbdFtpXV07cmV0dXJuIG99ZnVuY3Rpb24gVSh0LGUscil7Zm9yKHZhciBuPXQuc2xpY2UoZSxyKSxvPSIiLGk9MDtpPG4ubGVuZ3RoLTE7aSs9MilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG5baV0rMjU2Km5baSsxXSk7cmV0dXJuIG99ZnVuY3Rpb24gVCh0LGUscil7aWYodCUxIT0wfHx0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm9mZnNldCBpcyBub3QgdWludCIpO2lmKHQrZT5yKXRocm93IG5ldyBSYW5nZUVycm9yKCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoIil9ZnVuY3Rpb24geCh0LGUscixuLG8sYSl7aWYoIWkuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKGU+b3x8ZTxhKXRocm93IG5ldyBSYW5nZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihyK24+dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIGoodCxlLHIsbixvLGkpe2lmKHIrbj50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBQKHQsZSxyLG4sbyl7cmV0dXJuIGU9K2Uscj4+Pj0wLG98fGoodCwwLHIsNCksdHQodCxlLHIsbiwyMyw0KSxyKzR9ZnVuY3Rpb24gSSh0LGUscixuLG8pe3JldHVybiBlPStlLHI+Pj49MCxvfHxqKHQsMCxyLDgpLHR0KHQsZSxyLG4sNTIsOCkscis4fWkucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5sZW5ndGg7KHQ9fn50KTwwPyh0Kz1yKTwwJiYodD0wKTp0PnImJih0PXIpLChlPXZvaWQgMD09PWU/cjp+fmUpPDA/KGUrPXIpPDAmJihlPTApOmU+ciYmKGU9ciksZTx0JiYoZT10KTt2YXIgbj10aGlzLnN1YmFycmF5KHQsZSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihuLGkucHJvdG90eXBlKSxufSxpLnByb3RvdHlwZS5yZWFkVWludExFPWkucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24odCxlLHIpe3Q+Pj49MCxlPj4+PTAscnx8VCh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW3RdLG89MSxpPTA7KytpPGUmJihvKj0yNTYpOyluKz10aGlzW3QraV0qbztyZXR1cm4gbn0saS5wcm90b3R5cGUucmVhZFVpbnRCRT1pLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKHQsZSxyKXt0Pj4+PTAsZT4+Pj0wLHJ8fFQodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dGhpc1t0Ky0tZV0sbz0xO2U+MCYmKG8qPTI1Nik7KW4rPXRoaXNbdCstLWVdKm87cmV0dXJuIG59LGkucHJvdG90eXBlLnJlYWRVaW50OD1pLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCwxLHRoaXMubGVuZ3RoKSx0aGlzW3RdfSxpLnByb3RvdHlwZS5yZWFkVWludDE2TEU9aS5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxUKHQsMix0aGlzLmxlbmd0aCksdGhpc1t0XXx0aGlzW3QrMV08PDh9LGkucHJvdG90eXBlLnJlYWRVaW50MTZCRT1pLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCwyLHRoaXMubGVuZ3RoKSx0aGlzW3RdPDw4fHRoaXNbdCsxXX0saS5wcm90b3R5cGUucmVhZFVpbnQzMkxFPWkucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8VCh0LDQsdGhpcy5sZW5ndGgpLCh0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2KSsxNjc3NzIxNip0aGlzW3QrM119LGkucHJvdG90eXBlLnJlYWRVaW50MzJCRT1pLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW3RdKyh0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM10pfSxpLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24odCxlLHIpe3Q+Pj49MCxlPj4+PTAscnx8VCh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW3RdLG89MSxpPTA7KytpPGUmJihvKj0yNTYpOyluKz10aGlzW3QraV0qbztyZXR1cm4gbj49KG8qPTEyOCkmJihuLT1NYXRoLnBvdygyLDgqZSkpLG59LGkucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbih0LGUscil7dD4+Pj0wLGU+Pj49MCxyfHxUKHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPWUsbz0xLGk9dGhpc1t0Ky0tbl07bj4wJiYobyo9MjU2KTspaSs9dGhpc1t0Ky0tbl0qbztyZXR1cm4gaT49KG8qPTEyOCkmJihpLT1NYXRoLnBvdygyLDgqZSkpLGl9LGkucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxUKHQsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbdF0/LTEqKDI1NS10aGlzW3RdKzEpOnRoaXNbdF19LGkucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7dD4+Pj0wLGV8fFQodCwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW3RdfHRoaXNbdCsxXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0saS5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24odCxlKXt0Pj4+PTAsZXx8VCh0LDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbdCsxXXx0aGlzW3RdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxpLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8VCh0LDQsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fHRoaXNbdCsyXTw8MTZ8dGhpc1t0KzNdPDwyNH0saS5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdPDwyNHx0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM119LGkucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxUKHQsNCx0aGlzLmxlbmd0aCksSyh0aGlzLHQsITAsMjMsNCl9LGkucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxUKHQsNCx0aGlzLmxlbmd0aCksSyh0aGlzLHQsITEsMjMsNCl9LGkucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8VCh0LDgsdGhpcy5sZW5ndGgpLEsodGhpcyx0LCEwLDUyLDgpfSxpLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCw4LHRoaXMubGVuZ3RoKSxLKHRoaXMsdCwhMSw1Miw4KX0saS5wcm90b3R5cGUud3JpdGVVaW50TEU9aS5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odCxlLHIsbil7KHQ9K3QsZT4+Pj0wLHI+Pj49MCxuKXx8eCh0aGlzLHQsZSxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBvPTEsaT0wO2Zvcih0aGlzW2VdPTI1NSZ0OysraTxyJiYobyo9MjU2KTspdGhpc1tlK2ldPXQvbyYyNTU7cmV0dXJuIGUrcn0saS5wcm90b3R5cGUud3JpdGVVaW50QkU9aS5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odCxlLHIsbil7KHQ9K3QsZT4+Pj0wLHI+Pj49MCxuKXx8eCh0aGlzLHQsZSxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBvPXItMSxpPTE7Zm9yKHRoaXNbZStvXT0yNTUmdDstLW8+PTAmJihpKj0yNTYpOyl0aGlzW2Urb109dC9pJjI1NTtyZXR1cm4gZStyfSxpLnByb3RvdHlwZS53cml0ZVVpbnQ4PWkucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDEsMjU1LDApLHRoaXNbZV09MjU1JnQsZSsxfSxpLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFPWkucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDIsNjU1MzUsMCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsZSsyfSxpLnByb3RvdHlwZS53cml0ZVVpbnQxNkJFPWkucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDIsNjU1MzUsMCksdGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQsZSsyfSxpLnByb3RvdHlwZS53cml0ZVVpbnQzMkxFPWkucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2UrM109dD4+PjI0LHRoaXNbZSsyXT10Pj4+MTYsdGhpc1tlKzFdPXQ+Pj44LHRoaXNbZV09MjU1JnQsZSs0fSxpLnByb3RvdHlwZS53cml0ZVVpbnQzMkJFPWkucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2VdPXQ+Pj4yNCx0aGlzW2UrMV09dD4+PjE2LHRoaXNbZSsyXT10Pj4+OCx0aGlzW2UrM109MjU1JnQsZSs0fSxpLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHQ9K3QsZT4+Pj0wLCFuKXt2YXIgbz1NYXRoLnBvdygyLDgqci0xKTt4KHRoaXMsdCxlLHIsby0xLC1vKX12YXIgaT0wLGE9MSx1PTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytpPHImJihhKj0yNTYpOyl0PDAmJjA9PT11JiYwIT09dGhpc1tlK2ktMV0mJih1PTEpLHRoaXNbZStpXT0odC9hPj4wKS11JjI1NTtyZXR1cm4gZStyfSxpLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHQ9K3QsZT4+Pj0wLCFuKXt2YXIgbz1NYXRoLnBvdygyLDgqci0xKTt4KHRoaXMsdCxlLHIsby0xLC1vKX12YXIgaT1yLTEsYT0xLHU9MDtmb3IodGhpc1tlK2ldPTI1NSZ0Oy0taT49MCYmKGEqPTI1Nik7KXQ8MCYmMD09PXUmJjAhPT10aGlzW2UraSsxXSYmKHU9MSksdGhpc1tlK2ldPSh0L2E+PjApLXUmMjU1O3JldHVybiBlK3J9LGkucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fHgodGhpcyx0LGUsMSwxMjcsLTEyOCksdDwwJiYodD0yNTUrdCsxKSx0aGlzW2VdPTI1NSZ0LGUrMX0saS5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8eCh0aGlzLHQsZSwyLDMyNzY3LC0zMjc2OCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsZSsyfSxpLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSx0aGlzW2VdPXQ+Pj44LHRoaXNbZSsxXT0yNTUmdCxlKzJ9LGkucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fHgodGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSszXT10Pj4+MjQsZSs0fSxpLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdDwwJiYodD00Mjk0OTY3Mjk1K3QrMSksdGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0LGUrNH0saS5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gUCh0aGlzLHQsZSwhMCxyKX0saS5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gUCh0aGlzLHQsZSwhMSxyKX0saS5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIEkodGhpcyx0LGUsITAscil9LGkucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBJKHRoaXMsdCxlLCExLHIpfSxpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSxyLG4pe2lmKCFpLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlciIpO2lmKHJ8fChyPTApLG58fDA9PT1ufHwobj10aGlzLmxlbmd0aCksZT49dC5sZW5ndGgmJihlPXQubGVuZ3RoKSxlfHwoZT0wKSxuPjAmJm48ciYmKG49ciksbj09PXIpcmV0dXJuIDA7aWYoMD09PXQubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYoZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYocjwwfHxyPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcyIpO24+dGhpcy5sZW5ndGgmJihuPXRoaXMubGVuZ3RoKSx0Lmxlbmd0aC1lPG4tciYmKG49dC5sZW5ndGgtZStyKTt2YXIgbz1uLXI7cmV0dXJuIHRoaXM9PT10JiYiZnVuY3Rpb24iPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj90aGlzLmNvcHlXaXRoaW4oZSxyLG4pOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHQsdGhpcy5zdWJhcnJheShyLG4pLGUpLG99LGkucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLHIsbil7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZigic3RyaW5nIj09dHlwZW9mIGU/KG49ZSxlPTAscj10aGlzLmxlbmd0aCk6InN0cmluZyI9PXR5cGVvZiByJiYobj1yLHI9dGhpcy5sZW5ndGgpLHZvaWQgMCE9PW4mJiJzdHJpbmciIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYhaS5pc0VuY29kaW5nKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrbik7aWYoMT09PXQubGVuZ3RoKXt2YXIgbz10LmNoYXJDb2RlQXQoMCk7KCJ1dGY4Ij09PW4mJm88MTI4fHwibGF0aW4xIj09PW4pJiYodD1vKX19ZWxzZSJudW1iZXIiPT10eXBlb2YgdD90Jj0yNTU6ImJvb2xlYW4iPT10eXBlb2YgdCYmKHQ9TnVtYmVyKHQpKTtpZihlPDB8fHRoaXMubGVuZ3RoPGV8fHRoaXMubGVuZ3RoPHIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpO2lmKHI8PWUpcmV0dXJuIHRoaXM7dmFyIGE7aWYoZT4+Pj0wLHI9dm9pZCAwPT09cj90aGlzLmxlbmd0aDpyPj4+MCx0fHwodD0wKSwibnVtYmVyIj09dHlwZW9mIHQpZm9yKGE9ZTthPHI7KythKXRoaXNbYV09dDtlbHNle3ZhciB1PWkuaXNCdWZmZXIodCk/dDppLmZyb20odCxuKSxzPXUubGVuZ3RoO2lmKDA9PT1zKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSAiJyt0KyciIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50ICJ2YWx1ZSInKTtmb3IoYT0wO2E8ci1lOysrYSl0aGlzW2ErZV09dVthJXNdfXJldHVybiB0aGlzfTt2YXIgRD0vW14rLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIEModCxlKXt2YXIgcjtlPWV8fDEvMDtmb3IodmFyIG49dC5sZW5ndGgsbz1udWxsLGk9W10sYT0wO2E8bjsrK2Epe2lmKChyPXQuY2hhckNvZGVBdChhKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFvKXtpZihyPjU2MzE5KXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoYSsxPT09bil7KGUtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW89cjtjb250aW51ZX1pZihyPDU2MzIwKXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSksbz1yO2NvbnRpbnVlfXI9NjU1MzYrKG8tNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgbyYmKGUtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2lmKG89bnVsbCxyPDEyOCl7aWYoKGUtPTEpPDApYnJlYWs7aS5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigoZS09Mik8MClicmVhaztpLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKGUtPTMpPDApYnJlYWs7aS5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGUgcG9pbnQiKTtpZigoZS09NCk8MClicmVhaztpLnB1c2gocj4+MTh8MjQwLHI+PjEyJjYzfDEyOCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9fXJldHVybiBpfWZ1bmN0aW9uIGsodCl7cmV0dXJuIFEudG9CeXRlQXJyYXkoZnVuY3Rpb24odCl7aWYoKHQ9KHQ9dC5zcGxpdCgiPSIpWzBdKS50cmltKCkucmVwbGFjZShELCIiKSkubGVuZ3RoPDIpcmV0dXJuIiI7Zm9yKDt0Lmxlbmd0aCU0IT0wOyl0Kz0iPSI7cmV0dXJuIHR9KHQpKX1mdW5jdGlvbiAkKHQsZSxyLG4pe2Zvcih2YXIgbz0wO288biYmIShvK3I+PWUubGVuZ3RofHxvPj10Lmxlbmd0aCk7KytvKWVbbytyXT10W29dO3JldHVybiBvfWZ1bmN0aW9uIFIodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV8fG51bGwhPXQmJm51bGwhPXQuY29uc3RydWN0b3ImJm51bGwhPXQuY29uc3RydWN0b3IubmFtZSYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09ZS5uYW1lfWZ1bmN0aW9uIEwodCl7cmV0dXJuIHQhPXR9dmFyIHo9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9IjAxMjM0NTY3ODlhYmNkZWYiLGU9bmV3IEFycmF5KDI1Nikscj0wO3I8MTY7KytyKWZvcih2YXIgbj0xNipyLG89MDtvPDE2OysrbyllW24rb109dFtyXSt0W29dO3JldHVybiBlfSgpfSkpLHJ0PWV0LkJ1ZmZlcjsKLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi9mdW5jdGlvbiBudCh0LGUpe2lmKG51bGw9PWUpcmV0dXJuIDA7Zm9yKHZhciByPTAsbj1mdW5jdGlvbih0KXtjb25zdCBlPVtdO2Zvcih2YXIgciBpbiB0KWUucHVzaChyKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUsbil9cmV0dXJuIGV9KGUpLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGk9bltvXTtpZigib2JqZWN0Ij09dHlwZW9mIGVbaV0mJm51bGwhPT1lW2ldKXtpZih0LmhhcyhlW2ldKSljb250aW51ZTt0LmFkZChlW2ldKX1yKz1vdCh0KShpKTt0cnl7cis9b3QodCkoZVtpXSl9Y2F0Y2godCl7dCBpbnN0YW5jZW9mIFJhbmdlRXJyb3ImJihyPTApfX1yZXR1cm4gcn1mdW5jdGlvbiBvdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYocnQuaXNCdWZmZXIoZSkpcmV0dXJuIGUubGVuZ3RoO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJzdHJpbmciOnJldHVybiBlLmxlbmd0aCpSO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIEw7Y2FzZSJudW1iZXIiOnJldHVybiB6O2Nhc2Uic3ltYm9sIjpyZXR1cm4gU3ltYm9sLmtleUZvciYmU3ltYm9sLmtleUZvcihlKT9TeW1ib2wua2V5Rm9yKGUpLmxlbmd0aCpSOihlLnRvU3RyaW5nKCkubGVuZ3RoLTgpKlI7Y2FzZSJvYmplY3QiOnJldHVybiBBcnJheS5pc0FycmF5KGUpP2UubWFwKG90KHQpKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLDApOm50KHQsZSk7ZGVmYXVsdDpyZXR1cm4gMH19fXZhciBpdD1mdW5jdGlvbih0KXtyZXR1cm4gb3QobmV3IFdlYWtTZXQpKHQpfTt2YXIgYXQ9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O3ZhciB1dD0oYXQuX19GU1lfXz1hdC5fX0ZTWV9ffHx7fSxhdC5fX0ZTWV9fKTt1dC5yZXBsYWNlRmxhZz11dC5yZXBsYWNlRmxhZ3x8e30sdXQucmVwbGFjZUZsYWc7WyJTdHJpbmciLCJOdW1iZXIiLCJCb29sZWFuIiwiUmVnRXhwIl0ubWFwKChmdW5jdGlvbih0KXt2YXIgZSxyO3JldHVybihlPXt9KVsiaXMiK3RdPShyPXQsZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KT09PSJbb2JqZWN0ICIrcisiXSJ9KSxlfSkpO3ZhciBzdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmRhdGEsbz1yLl9fcmVzdCh0LFsiZGF0YSJdKSxpPU1hdGguY2VpbChuLmxlbmd0aCplKSxhPU1hdGguY2VpbCgxL2UpLHU9W10scz0wO3M8YTtzKyspe3ZhciBmPSIiO2Y9cz09PWEtMT9uLnNsaWNlKHMqaSk6bi5zbGljZShzKmksKHMrMSkqaSksdS5wdXNoKFtyLl9fYXNzaWduKHIuX19hc3NpZ24oe2RhdGE6Zn0sbykse3VuaWtleTpzKzEsdG90YWw6YX0pXSl9cmV0dXJuIHV9LGZ0PWUoKGZ1bmN0aW9uKHQsZSl7ZS5fX2VzTW9kdWxlPSEwO3ZhciByPXt9O2UuZGVmYXVsdD1mdW5jdGlvbih0LGUsbixvLGkpe3ZhciBhPXJbZV18fChyW2VdPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3RdLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSkpKSx1PW5ldyBXb3JrZXIoYSk7cmV0dXJuIHUub25lcnJvcj1mdW5jdGlvbih0KXtpKHQuZXJyb3IsbnVsbCl9LHUub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2kobnVsbCx0LmRhdGEpfSx1LnBvc3RNZXNzYWdlKG4sbyksdX19KSksaHQ9ZSgoZnVuY3Rpb24odCxlKXtlLl9fZXNNb2R1bGU9ITA7dmFyIHI9VWludDhBcnJheSxuPVVpbnQxNkFycmF5LG89VWludDMyQXJyYXksaT1uZXcgcihbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwLDAsMCwwXSksYT1uZXcgcihbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSx1PW5ldyByKFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSkscz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1uZXcgbigzMSksaT0wO2k8MzE7KytpKXJbaV09ZSs9MTw8dFtpLTFdO3ZhciBhPW5ldyBvKHJbMzBdKTtmb3IoaT0xO2k8MzA7KytpKWZvcih2YXIgdT1yW2ldO3U8cltpKzFdOysrdSlhW3VdPXUtcltpXTw8NXxpO3JldHVybltyLGFdfSxmPXMoaSwyKSxoPWZbMF0sYz1mWzFdO2hbMjhdPTI1OCxjWzI1OF09Mjg7Zm9yKHZhciBsPXMoYSwwKSxwPWxbMF0sZD1sWzFdLHk9bmV3IG4oMzI3NjgpLHY9MDt2PDMyNzY4Oysrdil7dmFyIGc9KDQzNjkwJnYpPj4+MXwoMjE4NDUmdik8PDE7Zz0oNjE2ODAmKGc9KDUyNDI4JmcpPj4+MnwoMTMxMDcmZyk8PDIpKT4+PjR8KDM4NTUmZyk8PDQseVt2XT0oKDY1MjgwJmcpPj4+OHwoMjU1JmcpPDw4KT4+PjF9dmFyIGI9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbz10Lmxlbmd0aCxpPTAsYT1uZXcgbihlKTtpPG87KytpKSsrYVt0W2ldLTFdO3ZhciB1LHM9bmV3IG4oZSk7Zm9yKGk9MDtpPGU7KytpKXNbaV09c1tpLTFdK2FbaS0xXTw8MTtpZihyKXt1PW5ldyBuKDE8PGUpO3ZhciBmPTE1LWU7Zm9yKGk9MDtpPG87KytpKWlmKHRbaV0pZm9yKHZhciBoPWk8PDR8dFtpXSxjPWUtdFtpXSxsPXNbdFtpXS0xXSsrPDxjLHA9bHwoMTw8YyktMTtsPD1wOysrbCl1W3lbbF0+Pj5mXT1ofWVsc2UgZm9yKHU9bmV3IG4obyksaT0wO2k8bzsrK2kpdVtpXT15W3NbdFtpXS0xXSsrXT4+PjE1LXRbaV07cmV0dXJuIHV9LHc9bmV3IHIoMjg4KTtmb3Iodj0wO3Y8MTQ0Oysrdil3W3ZdPTg7Zm9yKHY9MTQ0O3Y8MjU2Oysrdil3W3ZdPTk7Zm9yKHY9MjU2O3Y8MjgwOysrdil3W3ZdPTc7Zm9yKHY9MjgwO3Y8Mjg4Oysrdil3W3ZdPTg7dmFyIG09bmV3IHIoMzIpO2Zvcih2PTA7djwzMjsrK3YpbVt2XT01O3ZhciBfPWIodyw5LDApLEE9Yih3LDksMSksRT1iKG0sNSwwKSxPPWIobSw1LDEpLFM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRbMF0scj0xO3I8dC5sZW5ndGg7KytyKXRbcl0+ZSYmKGU9dFtyXSk7cmV0dXJuIGV9LE09ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUvOD4+MDtyZXR1cm4odFtuXXx0W24rMV08PDgpPj4+KDcmZSkmcn0sQj1mdW5jdGlvbih0LGUpe3ZhciByPWUvOD4+MDtyZXR1cm4odFtyXXx0W3IrMV08PDh8dFtyKzJdPDwxNik+Pj4oNyZlKX0sVT1mdW5jdGlvbih0KXtyZXR1cm4odC84Pj4wKSsoNyZ0JiYxKX0sVD1mdW5jdGlvbih0LGUsaSl7KG51bGw9PWV8fGU8MCkmJihlPTApLChudWxsPT1pfHxpPnQubGVuZ3RoKSYmKGk9dC5sZW5ndGgpO3ZhciBhPW5ldyh0IGluc3RhbmNlb2Ygbj9uOnQgaW5zdGFuY2VvZiBvP286cikoaS1lKTtyZXR1cm4gYS5zZXQodC5zdWJhcnJheShlLGkpKSxhfSx4PWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10Lmxlbmd0aCxzPSFlfHxuLGY9IW58fG4uaTtufHwobj17fSksZXx8KGU9bmV3IHIoMypvKSk7dmFyIGM9ZnVuY3Rpb24odCl7dmFyIG49ZS5sZW5ndGg7aWYodD5uKXt2YXIgbz1uZXcgcihNYXRoLm1heCgyKm4sdCkpO28uc2V0KGUpLGU9b319LGw9bi5mfHwwLGQ9bi5wfHwwLHk9bi5ifHwwLHY9bi5sLGc9bi5kLHc9bi5tLG09bi5uLF89OCpvO2Rve2lmKCF2KXtuLmY9bD1NKHQsZCwxKTt2YXIgRT1NKHQsZCsxLDMpO2lmKGQrPTMsIUUpe3ZhciB4PXRbKEY9VShkKSs0KS00XXx0W0YtM108PDgsaj1GK3g7aWYoaj5vKXtpZihmKXRocm93InVuZXhwZWN0ZWQgRU9GIjticmVha31zJiZjKHkreCksZS5zZXQodC5zdWJhcnJheShGLGopLHkpLG4uYj15Kz14LG4ucD1kPTgqajtjb250aW51ZX1pZigxPT1FKXY9QSxnPU8sdz05LG09NTtlbHNle2lmKDIhPUUpdGhyb3ciaW52YWxpZCBibG9jayB0eXBlIjt2YXIgUD1NKHQsZCwzMSkrMjU3LEk9TSh0LGQrMTAsMTUpKzQsRD1QK00odCxkKzUsMzEpKzE7ZCs9MTQ7Zm9yKHZhciBDPW5ldyByKEQpLGs9bmV3IHIoMTkpLCQ9MDskPEk7KyskKWtbdVskXV09TSh0LGQrMyokLDcpO2QrPTMqSTt2YXIgUj1TKGspLEw9KDE8PFIpLTE7aWYoIWYmJmQrRCooUis3KT5fKWJyZWFrO3ZhciB6PWIoayxSLDEpO2ZvcigkPTA7JDxEOyl7dmFyIEYsTj16W00odCxkLEwpXTtpZihkKz0xNSZOLChGPU4+Pj40KTwxNilDWyQrK109RjtlbHNle3ZhciBIPTAsWT0wO2ZvcigxNj09Rj8oWT0zK00odCxkLDMpLGQrPTIsSD1DWyQtMV0pOjE3PT1GPyhZPTMrTSh0LGQsNyksZCs9Myk6MTg9PUYmJihZPTExK00odCxkLDEyNyksZCs9Nyk7WS0tOylDWyQrK109SH19dmFyIHE9Qy5zdWJhcnJheSgwLFApLEc9Qy5zdWJhcnJheShQKTt3PVMocSksbT1TKEcpLHY9YihxLHcsMSksZz1iKEcsbSwxKX1pZihkPl8pdGhyb3cidW5leHBlY3RlZCBFT0YifXMmJmMoeSsxMzEwNzIpO2Zvcih2YXIgWj0oMTw8dyktMSxWPSgxPDxtKS0xLFc9dyttKzE4O2Z8fGQrVzxfOyl7dmFyIEo9KEg9dltCKHQsZCkmWl0pPj4+NDtpZigoZCs9MTUmSCk+Xyl0aHJvdyJ1bmV4cGVjdGVkIEVPRiI7aWYoIUgpdGhyb3ciaW52YWxpZCBsZW5ndGgvbGl0ZXJhbCI7aWYoSjwyNTYpZVt5KytdPUo7ZWxzZXtpZigyNTY9PUope3Y9bnVsbDticmVha312YXIgWD1KLTI1NDtpZihKPjI2NCl7dmFyIFE9aVskPUotMjU3XTtYPU0odCxkLCgxPDxRKS0xKStoWyRdLGQrPVF9dmFyIEs9Z1tCKHQsZCkmVl0sdHQ9Sz4+PjQ7aWYoIUspdGhyb3ciaW52YWxpZCBkaXN0YW5jZSI7ZCs9MTUmSztHPXBbdHRdO2lmKHR0PjMpe1E9YVt0dF07Rys9Qih0LGQpJigxPDxRKS0xLGQrPVF9aWYoZD5fKXRocm93InVuZXhwZWN0ZWQgRU9GIjtzJiZjKHkrMTMxMDcyKTtmb3IodmFyIGV0PXkrWDt5PGV0O3krPTQpZVt5XT1lW3ktR10sZVt5KzFdPWVbeSsxLUddLGVbeSsyXT1lW3krMi1HXSxlW3krM109ZVt5KzMtR107eT1ldH19bi5sPXYsbi5wPWQsbi5iPXksdiYmKGw9MSxuLm09dyxuLmQ9ZyxuLm49bSl9d2hpbGUoIWwpO3JldHVybiB5PT1lLmxlbmd0aD9lOlQoZSwwLHkpfSxqPWZ1bmN0aW9uKHQsZSxyKXtyPDw9NyZlO3ZhciBuPWUvOD4+MDt0W25dfD1yLHRbbisxXXw9cj4+Pjh9LFA9ZnVuY3Rpb24odCxlLHIpe3I8PD03JmU7dmFyIG49ZS84Pj4wO3Rbbl18PXIsdFtuKzFdfD1yPj4+OCx0W24rMl18PXI+Pj4xNn0sST1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbz1bXSxpPTA7aTx0Lmxlbmd0aDsrK2kpdFtpXSYmby5wdXNoKHtzOmksZjp0W2ldfSk7dmFyIGE9by5sZW5ndGgsdT1vLnNsaWNlKCk7aWYoIWEpcmV0dXJuW25ldyByKDApLDBdO2lmKDE9PWEpe3ZhciBzPW5ldyByKG9bMF0ucysxKTtyZXR1cm4gc1tvWzBdLnNdPTEsW3MsMV19by5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LmYtZS5mfSkpLG8ucHVzaCh7czotMSxmOjI1MDAxfSk7dmFyIGY9b1swXSxoPW9bMV0sYz0wLGw9MSxwPTI7Zm9yKG9bMF09e3M6LTEsZjpmLmYraC5mLGw6ZixyOmh9O2whPWEtMTspZj1vW29bY10uZjxvW3BdLmY/YysrOnArK10saD1vW2MhPWwmJm9bY10uZjxvW3BdLmY/YysrOnArK10sb1tsKytdPXtzOi0xLGY6Zi5mK2guZixsOmYscjpofTt2YXIgZD11WzBdLnM7Zm9yKGk9MTtpPGE7KytpKXVbaV0ucz5kJiYoZD11W2ldLnMpO3ZhciB5PW5ldyBuKGQrMSksdj1EKG9bbC0xXSx5LDApO2lmKHY+ZSl7aT0wO3ZhciBnPTAsYj12LWUsdz0xPDxiO2Zvcih1LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHlbZS5zXS15W3Quc118fHQuZi1lLmZ9KSk7aTxhOysraSl7dmFyIG09dVtpXS5zO2lmKCEoeVttXT5lKSlicmVhaztnKz13LSgxPDx2LXlbbV0pLHlbbV09ZX1mb3IoZz4+Pj1iO2c+MDspe3ZhciBfPXVbaV0uczt5W19dPGU/Zy09MTw8ZS15W19dKystMTorK2l9Zm9yKDtpPj0wJiZnOy0taSl7dmFyIEE9dVtpXS5zO3lbQV09PWUmJigtLXlbQV0sKytnKX12PWV9cmV0dXJuW25ldyByKHkpLHZdfSxEPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4tMT09dC5zP01hdGgubWF4KEQodC5sLGUscisxKSxEKHQucixlLHIrMSkpOmVbdC5zXT1yfSxDPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDtlJiYhdFstLWVdOyk7Zm9yKHZhciByPW5ldyBuKCsrZSksbz0wLGk9dFswXSxhPTEsdT1mdW5jdGlvbih0KXtyW28rK109dH0scz0xO3M8PWU7KytzKWlmKHRbc109PWkmJnMhPWUpKythO2Vsc2V7aWYoIWkmJmE+Mil7Zm9yKDthPjEzODthLT0xMzgpdSgzMjc1NCk7YT4yJiYodShhPjEwP2EtMTE8PDV8Mjg2OTA6YS0zPDw1fDEyMzA1KSxhPTApfWVsc2UgaWYoYT4zKXtmb3IodShpKSwtLWE7YT42O2EtPTYpdSg4MzA0KTthPjImJih1KGEtMzw8NXw4MjA4KSxhPTApfWZvcig7YS0tOyl1KGkpO2E9MSxpPXRbc119cmV0dXJuW3Iuc3ViYXJyYXkoMCxvKSxlXX0saz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLG49MDtuPGUubGVuZ3RoOysrbilyKz10W25dKmVbbl07cmV0dXJuIHJ9LCQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXIubGVuZ3RoLG89VShlKzIpO3Rbb109MjU1Jm4sdFtvKzFdPW4+Pj44LHRbbysyXT0yNTVedFtvXSx0W28rM109MjU1XnRbbysxXTtmb3IodmFyIGk9MDtpPG47KytpKXRbbytpKzRdPXJbaV07cmV0dXJuIDgqKG8rNCtuKX0sUj1mdW5jdGlvbih0LGUscixvLHMsZixoLGMsbCxwLGQpe2ooZSxkKyssciksKytzWzI1Nl07Zm9yKHZhciB5PUkocywxNSksdj15WzBdLGc9eVsxXSxBPUkoZiwxNSksTz1BWzBdLFM9QVsxXSxNPUModiksQj1NWzBdLFU9TVsxXSxUPUMoTykseD1UWzBdLEQ9VFsxXSxSPW5ldyBuKDE5KSxMPTA7TDxCLmxlbmd0aDsrK0wpUlszMSZCW0xdXSsrO2ZvcihMPTA7TDx4Lmxlbmd0aDsrK0wpUlszMSZ4W0xdXSsrO2Zvcih2YXIgej1JKFIsNyksRj16WzBdLE49elsxXSxIPTE5O0g+NCYmIUZbdVtILTFdXTstLUgpO3ZhciBZLHEsRyxaLFY9cCs1PDwzLFc9ayhzLHcpK2soZixtKStoLEo9ayhzLHYpK2soZixPKStoKzE0KzMqSCtrKFIsRikrKDIqUlsxNl0rMypSWzE3XSs3KlJbMThdKTtpZihWPD1XJiZWPD1KKXJldHVybiAkKGUsZCx0LnN1YmFycmF5KGwsbCtwKSk7aWYoaihlLGQsMSsoSjxXKSksZCs9MixKPFcpe1k9Yih2LGcsMCkscT12LEc9YihPLFMsMCksWj1PO3ZhciBYPWIoRixOLDApO2ooZSxkLFUtMjU3KSxqKGUsZCs1LEQtMSksaihlLGQrMTAsSC00KSxkKz0xNDtmb3IoTD0wO0w8SDsrK0wpaihlLGQrMypMLEZbdVtMXV0pO2QrPTMqSDtmb3IodmFyIFE9W0IseF0sSz0wO0s8MjsrK0spe3ZhciB0dD1RW0tdO2ZvcihMPTA7TDx0dC5sZW5ndGg7KytMKXt2YXIgZXQ9MzEmdHRbTF07aihlLGQsWFtldF0pLGQrPUZbZXRdLGV0PjE1JiYoaihlLGQsdHRbTF0+Pj41JjEyNyksZCs9dHRbTF0+Pj4xMil9fX1lbHNlIFk9XyxxPXcsRz1FLFo9bTtmb3IoTD0wO0w8YzsrK0wpaWYob1tMXT4yNTUpe2V0PW9bTF0+Pj4xOCYzMTtQKGUsZCxZW2V0KzI1N10pLGQrPXFbZXQrMjU3XSxldD43JiYoaihlLGQsb1tMXT4+PjIzJjMxKSxkKz1pW2V0XSk7dmFyIHJ0PTMxJm9bTF07UChlLGQsR1tydF0pLGQrPVpbcnRdLHJ0PjMmJihQKGUsZCxvW0xdPj4+NSY4MTkxKSxkKz1hW3J0XSl9ZWxzZSBQKGUsZCxZW29bTF1dKSxkKz1xW29bTF1dO3JldHVybiBQKGUsZCxZWzI1Nl0pLGQrcVsyNTZdfSxMPW5ldyBvKFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLHo9bmV3IHIoMCksRj1mdW5jdGlvbih0LGUsdSxzLGYsaCl7dmFyIGw9dC5sZW5ndGgscD1uZXcgcihzK2wrNSooMStNYXRoLmNlaWwobC83ZTMpKStmKSx5PXAuc3ViYXJyYXkocyxwLmxlbmd0aC1mKSx2PTA7aWYoIWV8fGw8OClmb3IodmFyIGc9MDtnPD1sO2crPTY1NTM1KXt2YXIgYj1nKzY1NTM1O2I8bD92PSQoeSx2LHQuc3ViYXJyYXkoZyxiKSk6KHlbZ109aCx2PSQoeSx2LHQuc3ViYXJyYXkoZyxsKSkpfWVsc2V7Zm9yKHZhciB3PUxbZS0xXSxtPXc+Pj4xMyxfPTgxOTEmdyxBPSgxPDx1KS0xLEU9bmV3IG4oMzI3NjgpLE89bmV3IG4oQSsxKSxTPU1hdGguY2VpbCh1LzMpLE09MipTLEI9ZnVuY3Rpb24oZSl7cmV0dXJuKHRbZV1edFtlKzFdPDxTXnRbZSsyXTw8TSkmQX0seD1uZXcgbygyNWUzKSxqPW5ldyBuKDI4OCksUD1uZXcgbigzMiksST0wLEQ9MCxDPShnPTAsMCksaz0wLEY9MDtnPGw7KytnKXt2YXIgTj1CKGcpLEg9MzI3NjcmZyxZPU9bTl07aWYoRVtIXT1ZLE9bTl09SCxrPD1nKXt2YXIgcT1sLWc7aWYoKEk+N2UzfHxDPjI0NTc2KSYmcT40MjMpe3Y9Uih0LHksMCx4LGosUCxELEMsRixnLUYsdiksQz1JPUQ9MCxGPWc7Zm9yKHZhciBHPTA7RzwyODY7KytHKWpbR109MDtmb3IoRz0wO0c8MzA7KytHKVBbR109MH12YXIgWj0yLFY9MCxXPV8sSj1ILVkmMzI3Njc7aWYocT4yJiZOPT1CKGctSikpZm9yKHZhciBYPU1hdGgubWluKG0scSktMSxRPU1hdGgubWluKDMyNzY3LGcpLEs9TWF0aC5taW4oMjU4LHEpO0o8PVEmJi0tVyYmSCE9WTspe2lmKHRbZytaXT09dFtnK1otSl0pe2Zvcih2YXIgdHQ9MDt0dDxLJiZ0W2crdHRdPT10W2crdHQtSl07Kyt0dCk7aWYodHQ+Wil7aWYoWj10dCxWPUosdHQ+WClicmVhazt2YXIgZXQ9TWF0aC5taW4oSix0dC0yKSxydD0wO2ZvcihHPTA7RzxldDsrK0cpe3ZhciBudD1nLUorRyszMjc2OCYzMjc2NyxvdD1udC1FW250XSszMjc2OCYzMjc2NztvdD5ydCYmKHJ0PW90LFk9bnQpfX19Sis9KEg9WSktKFk9RVtIXSkrMzI3NjgmMzI3Njd9aWYoVil7eFtDKytdPTI2ODQzNTQ1NnxjW1pdPDwxOHxkW1ZdO3ZhciBpdD0zMSZjW1pdLGF0PTMxJmRbVl07RCs9aVtpdF0rYVthdF0sKytqWzI1NytpdF0sKytQW2F0XSxrPWcrWiwrK0l9ZWxzZSB4W0MrK109dFtnXSwrK2pbdFtnXV19fXY9Uih0LHksaCx4LGosUCxELEMsRixnLUYsdiksIWgmJjcmdiYmKHY9JCh5LHYrMSx6KSl9cmV0dXJuIFQocCwwLHMrVSh2KStmKX0sTj1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgbygyNTYpLGU9MDtlPDI1NjsrK2Upe2Zvcih2YXIgcj1lLG49OTstLW47KXI9KDEmciYmMzk4ODI5MjM4NClecj4+PjE7dFtlXT1yfXJldHVybiB0fSgpLEg9ZnVuY3Rpb24oKXt2YXIgdD00Mjk0OTY3Mjk1O3JldHVybntwOmZ1bmN0aW9uKGUpe2Zvcih2YXIgcj10LG49MDtuPGUubGVuZ3RoOysrbilyPU5bMjU1JnJeZVtuXV1ecj4+Pjg7dD1yfSxkOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTVedH19fSxZPWZ1bmN0aW9uKCl7dmFyIHQ9MSxlPTA7cmV0dXJue3A6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPXQsbz1lLGk9ci5sZW5ndGgsYT0wO2EhPWk7KXtmb3IodmFyIHU9TWF0aC5taW4oYSs1NTUyLGkpO2E8dTsrK2Epbys9bis9clthXTtuJT02NTUyMSxvJT02NTUyMX10PW4sZT1vfSxkOmZ1bmN0aW9uKCl7cmV0dXJuKHQ+Pj44PDwxNnwoMjU1JmUpPDw4fGU+Pj44KSsyKigoMjU1JnQpPDwyMyl9fX0scT1mdW5jdGlvbih0LGUscixuLG8pe3JldHVybiBGKHQsbnVsbD09ZS5sZXZlbD82OmUubGV2ZWwsbnVsbD09ZS5tZW0/TWF0aC5jZWlsKDEuNSpNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKHQubGVuZ3RoKSkpKToxMitlLm1lbSxyLG4sIW8pfSxHPWZ1bmN0aW9uKHQsZSl7dmFyIHI9e307Zm9yKHZhciBuIGluIHQpcltuXT10W25dO2Zvcih2YXIgbiBpbiBlKXJbbl09ZVtuXTtyZXR1cm4gcn0sWj1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuPXQoKSxvPXQudG9TdHJpbmcoKSxpPW8uc2xpY2Uoby5pbmRleE9mKCJbIikrMSxvLmxhc3RJbmRleE9mKCJdIikpLnJlcGxhY2UoLyAvZywiIikuc3BsaXQoIiwiKSxhPTA7YTxuLmxlbmd0aDsrK2Epe3ZhciB1PW5bYV0scz1pW2FdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB1KXtlKz0iOyIrcysiPSI7dmFyIGY9dS50b1N0cmluZygpO2lmKHUucHJvdG90eXBlKWlmKC0xIT1mLmluZGV4T2YoIltuYXRpdmUgY29kZV0iKSl7dmFyIGg9Zi5pbmRleE9mKCIgIiw4KSsxO2UrPWYuc2xpY2UoaCxmLmluZGV4T2YoIigiLGgpKX1lbHNlIGZvcih2YXIgYyBpbiBlKz1mLHUucHJvdG90eXBlKWUrPSI7IitzKyIucHJvdG90eXBlLiIrYysiPSIrdS5wcm90b3R5cGVbY10udG9TdHJpbmcoKTtlbHNlIGUrPWZ9ZWxzZSByW3NdPXV9cmV0dXJuW2Uscl19LFY9W10sVz1mdW5jdGlvbih0LGUsaSxhKXt2YXIgdTtpZighVltpXSl7Zm9yKHZhciBzPSIiLGY9e30saD10Lmxlbmd0aC0xLGM9MDtjPGg7KytjKXM9KHU9Wih0W2NdLHMsZikpWzBdLGY9dVsxXTtWW2ldPVoodFtoXSxzLGYpfXZhciBsPUcoe30sVltpXVsxXSk7cmV0dXJuIGZ0LmRlZmF1bHQoVltpXVswXSsiO29ubWVzc2FnZT1mdW5jdGlvbihlKXtmb3IodmFyIGsgaW4gZS5kYXRhKXNlbGZba109ZS5kYXRhW2tdO29ubWVzc2FnZT0iK2UudG9TdHJpbmcoKSsifSIsaSxsLGZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgaSBpbiB0KSh0W2ldaW5zdGFuY2VvZiByfHx0W2ldaW5zdGFuY2VvZiBufHx0W2ldaW5zdGFuY2VvZiBvKSYmZS5wdXNoKCh0W2ldPW5ldyB0W2ldLmNvbnN0cnVjdG9yKHRbaV0pKS5idWZmZXIpO3JldHVybiBlfShsKSxhKX0sSj1mdW5jdGlvbigpe3JldHVybltyLG4sbyxpLGEsdSxoLHAsQSxPLHksYixTLE0sQixVLFQseCxNdCxydCxudF19LFg9ZnVuY3Rpb24oKXtyZXR1cm5bcixuLG8saSxhLHUsYyxkLF8sdyxFLG0seSxMLHosYixqLFAsSSxELEMsaywkLFIsVSxULEYscSxBdCxydF19LFE9ZnVuY3Rpb24oKXtyZXR1cm5bbHQseXQsY3QsSCxOXX0sSz1mdW5jdGlvbigpe3JldHVybltwdCxkdF19LHR0PWZ1bmN0aW9uKCl7cmV0dXJuW3Z0LGN0LFldfSxldD1mdW5jdGlvbigpe3JldHVybltndF19LHJ0PWZ1bmN0aW9uKHQpe3JldHVybiBwb3N0TWVzc2FnZSh0LFt0LmJ1ZmZlcl0pfSxudD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5zaXplJiZuZXcgcih0LnNpemUpfSxvdD1mdW5jdGlvbih0LGUsbixvLGksYSl7dmFyIHU9VyhuLG8saSwoZnVuY3Rpb24odCxlKXt1LnRlcm1pbmF0ZSgpLGEodCxlKX0pKTtyZXR1cm4gZS5jb25zdW1lfHwodD1uZXcgcih0KSksdS5wb3N0TWVzc2FnZShbdCxlXSxbdC5idWZmZXJdKSxmdW5jdGlvbigpe3UudGVybWluYXRlKCl9fSxpdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5vbmRhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcG9zdE1lc3NhZ2UoW3QsZV0sW3QuYnVmZmVyXSl9LGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2goZS5kYXRhWzBdLGUuZGF0YVsxXSl9fSxhdD1mdW5jdGlvbih0LGUscixuLG8pe3ZhciBpLGE9Vyh0LG4sbywoZnVuY3Rpb24odCxyKXt0PyhhLnRlcm1pbmF0ZSgpLGUub25kYXRhLmNhbGwoZSx0KSk6KHJbMV0mJmEudGVybWluYXRlKCksZS5vbmRhdGEuY2FsbChlLHQsclswXSxyWzFdKSl9KSk7YS5wb3N0TWVzc2FnZShyKSxlLnB1c2g9ZnVuY3Rpb24odCxyKXtpZihpKXRocm93InN0cmVhbSBmaW5pc2hlZCI7aWYoIWUub25kYXRhKXRocm93Im5vIHN0cmVhbSBoYW5kbGVyIjthLnBvc3RNZXNzYWdlKFt0LGk9cl0sW3QuYnVmZmVyXSl9LGUudGVybWluYXRlPWZ1bmN0aW9uKCl7YS50ZXJtaW5hdGUoKX19LHV0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV18dFtlKzFdPDw4fSxzdD1mdW5jdGlvbih0LGUpe3JldHVybih0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsyKih0W2UrM108PDIzKX0saHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gc3QodCxlKXw0Mjk0OTY3Mjk2KnN0KHQsZSl9LGN0PWZ1bmN0aW9uKHQsZSxyKXtmb3IoO3I7KytlKXRbZV09cixyPj4+PTh9LGx0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5maWxlbmFtZTtpZih0WzBdPTMxLHRbMV09MTM5LHRbMl09OCx0WzhdPWUubGV2ZWw8Mj80Ojk9PWUubGV2ZWw/MjowLHRbOV09MywwIT1lLm10aW1lJiZjdCh0LDQsTWF0aC5mbG9vcihuZXcgRGF0ZShlLm10aW1lfHxEYXRlLm5vdygpKS8xZTMpKSxyKXt0WzNdPTg7Zm9yKHZhciBuPTA7bjw9ci5sZW5ndGg7KytuKXRbbisxMF09ci5jaGFyQ29kZUF0KG4pfX0scHQ9ZnVuY3Rpb24odCl7aWYoMzEhPXRbMF18fDEzOSE9dFsxXXx8OCE9dFsyXSl0aHJvdyJpbnZhbGlkIGd6aXAgZGF0YSI7dmFyIGU9dFszXSxyPTEwOzQmZSYmKHIrPXRbMTBdfDIrKHRbMTFdPDw4KSk7Zm9yKHZhciBuPShlPj4zJjEpKyhlPj40JjEpO24+MDtuLT0hdFtyKytdKTtyZXR1cm4gcisoMiZlKX0sZHQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7cmV0dXJuKHRbZS00XXx0W2UtM108PDh8dFtlLTJdPDwxNikrMioodFtlLTFdPDwyMyl9LHl0PWZ1bmN0aW9uKHQpe3JldHVybiAxMCsodC5maWxlbmFtZSYmdC5maWxlbmFtZS5sZW5ndGgrMXx8MCl9LHZ0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5sZXZlbCxuPTA9PXI/MDpyPDY/MTo5PT1yPzM6Mjt0WzBdPTEyMCx0WzFdPW48PDZ8KG4/MzItMipuOjEpfSxndD1mdW5jdGlvbih0KXtpZig4IT0oMTUmdFswXSl8fHRbMF0+Pj40Pjd8fCh0WzBdPDw4fHRbMV0pJTMxKXRocm93ImludmFsaWQgemxpYiBkYXRhIjtpZigzMiZ0WzFdKXRocm93ImludmFsaWQgemxpYiBkYXRhOiBwcmVzZXQgZGljdGlvbmFyaWVzIG5vdCBzdXBwb3J0ZWQifTtmdW5jdGlvbiBidCh0LGUpe3JldHVybiBlfHwiZnVuY3Rpb24iIT10eXBlb2YgdHx8KGU9dCx0PXt9KSx0aGlzLm9uZGF0YT1lLHR9dmFyIHd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2V8fCJmdW5jdGlvbiIhPXR5cGVvZiB0fHwoZT10LHQ9e30pLHRoaXMub25kYXRhPWUsdGhpcy5vPXR8fHt9fXJldHVybiB0LnByb3RvdHlwZS5wPWZ1bmN0aW9uKHQsZSl7dGhpcy5vbmRhdGEocSh0LHRoaXMubywwLDAsIWUpLGUpfSx0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5kKXRocm93InN0cmVhbSBmaW5pc2hlZCI7aWYoIXRoaXMub25kYXRhKXRocm93Im5vIHN0cmVhbSBoYW5kbGVyIjt0aGlzLmQ9ZSx0aGlzLnAodCxlfHwhMSl9LHR9KCk7ZS5EZWZsYXRlPXd0O3ZhciBtdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe2F0KFtYLGZ1bmN0aW9uKCl7cmV0dXJuW2l0LHd0XX1dLHRoaXMsYnQuY2FsbCh0aGlzLHQsZSksKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB3dCh0LmRhdGEpO29ubWVzc2FnZT1pdChlKX0pLDYpfX0oKTtmdW5jdGlvbiBfdCh0LGUscil7aWYocnx8KHI9ZSxlPXt9KSwiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyJubyBjYWxsYmFjayI7cmV0dXJuIG90KHQsZSxbWF0sKGZ1bmN0aW9uKHQpe3JldHVybiBydChBdCh0LmRhdGFbMF0sdC5kYXRhWzFdKSl9KSwwLHIpfWZ1bmN0aW9uIEF0KHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxxKHQsZSwwLDApfWUuQXN5bmNEZWZsYXRlPW10LGUuZGVmbGF0ZT1fdCxlLmRlZmxhdGVTeW5jPUF0O3ZhciBFdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5zPXt9LHRoaXMucD1uZXcgcigwKSx0aGlzLm9uZGF0YT10fXJldHVybiB0LnByb3RvdHlwZS5lPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZCl0aHJvdyJzdHJlYW0gZmluaXNoZWQiO2lmKCF0aGlzLm9uZGF0YSl0aHJvdyJubyBzdHJlYW0gaGFuZGxlciI7dmFyIGU9dGhpcy5wLmxlbmd0aCxuPW5ldyByKGUrdC5sZW5ndGgpO24uc2V0KHRoaXMucCksbi5zZXQodCxlKSx0aGlzLnA9bn0sdC5wcm90b3R5cGUuYz1mdW5jdGlvbih0KXt0aGlzLmQ9dGhpcy5zLmk9dHx8ITE7dmFyIGU9dGhpcy5zLmIscj14KHRoaXMucCx0aGlzLm8sdGhpcy5zKTt0aGlzLm9uZGF0YShUKHIsZSx0aGlzLnMuYiksdGhpcy5kKSx0aGlzLm89VChyLHRoaXMucy5iLTMyNzY4KSx0aGlzLnMuYj10aGlzLm8ubGVuZ3RoLHRoaXMucD1UKHRoaXMucCx0aGlzLnMucC84Pj4wKSx0aGlzLnMucCY9N30sdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe3RoaXMuZSh0KSx0aGlzLmMoZSl9LHR9KCk7ZS5JbmZsYXRlPUV0O3ZhciBPdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt0aGlzLm9uZGF0YT10LGF0KFtKLGZ1bmN0aW9uKCl7cmV0dXJuW2l0LEV0XX1dLHRoaXMsMCwoZnVuY3Rpb24oKXt2YXIgdD1uZXcgRXQ7b25tZXNzYWdlPWl0KHQpfSksNyl9fSgpO2Z1bmN0aW9uIFN0KHQsZSxyKXtpZihyfHwocj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93Im5vIGNhbGxiYWNrIjtyZXR1cm4gb3QodCxlLFtKXSwoZnVuY3Rpb24odCl7cmV0dXJuIHJ0KE10KHQuZGF0YVswXSxudCh0LmRhdGFbMV0pKSl9KSwxLHIpfWZ1bmN0aW9uIE10KHQsZSl7cmV0dXJuIHgodCxlKX1lLkFzeW5jSW5mbGF0ZT1PdCxlLmluZmxhdGU9U3QsZS5pbmZsYXRlU3luYz1NdDt2YXIgQnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5jPUgoKSx0aGlzLmw9MCx0aGlzLnY9MSx3dC5jYWxsKHRoaXMsdCxlKX1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe3d0LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5wPWZ1bmN0aW9uKHQsZSl7dGhpcy5jLnAodCksdGhpcy5sKz10Lmxlbmd0aDt2YXIgcj1xKHQsdGhpcy5vLHRoaXMudiYmeXQodGhpcy5vKSxlJiY4LCFlKTt0aGlzLnYmJihsdChyLHRoaXMubyksdGhpcy52PTApLGUmJihjdChyLHIubGVuZ3RoLTgsdGhpcy5jLmQoKSksY3QocixyLmxlbmd0aC00LHRoaXMubCkpLHRoaXMub25kYXRhKHIsZSl9LHR9KCk7ZS5HemlwPUJ0LGUuQ29tcHJlc3M9QnQ7dmFyIFV0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7YXQoW1gsUSxmdW5jdGlvbigpe3JldHVybltpdCx3dCxCdF19XSx0aGlzLGJ0LmNhbGwodGhpcyx0LGUpLChmdW5jdGlvbih0KXt2YXIgZT1uZXcgQnQodC5kYXRhKTtvbm1lc3NhZ2U9aXQoZSl9KSw4KX19KCk7ZnVuY3Rpb24gVHQodCxlLHIpe2lmKHJ8fChyPWUsZT17fSksImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cibm8gY2FsbGJhY2siO3JldHVybiBvdCh0LGUsW1gsUSxmdW5jdGlvbigpe3JldHVyblt4dF19XSwoZnVuY3Rpb24odCl7cmV0dXJuIHJ0KHh0KHQuZGF0YVswXSx0LmRhdGFbMV0pKX0pLDIscil9ZnVuY3Rpb24geHQodCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIHI9SCgpLG49dC5sZW5ndGg7ci5wKHQpO3ZhciBvPXEodCxlLHl0KGUpLDgpLGk9by5sZW5ndGg7cmV0dXJuIGx0KG8sZSksY3QobyxpLTgsci5kKCkpLGN0KG8saS00LG4pLG99ZS5Bc3luY0d6aXA9VXQsZS5Bc3luY0NvbXByZXNzPVV0LGUuZ3ppcD1UdCxlLmNvbXByZXNzPVR0LGUuZ3ppcFN5bmM9eHQsZS5jb21wcmVzc1N5bmM9eHQ7dmFyIGp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnY9MSxFdC5jYWxsKHRoaXMsdCl9cmV0dXJuIHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXtpZihFdC5wcm90b3R5cGUuZS5jYWxsKHRoaXMsdCksdGhpcy52KXt2YXIgcj1wdCh0aGlzLnApO2lmKHI+PXRoaXMucC5sZW5ndGgmJiFlKXJldHVybjt0aGlzLnA9dGhpcy5wLnN1YmFycmF5KHIpLHRoaXMudj0wfWlmKGUpe2lmKHRoaXMucC5sZW5ndGg8OCl0aHJvdyJpbnZhbGlkIGd6aXAgc3RyZWFtIjt0aGlzLnA9dGhpcy5wLnN1YmFycmF5KDAsLTgpfUV0LnByb3RvdHlwZS5jLmNhbGwodGhpcyxlKX0sdH0oKTtlLkd1bnppcD1qdDt2YXIgUHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dGhpcy5vbmRhdGE9dCxhdChbSixLLGZ1bmN0aW9uKCl7cmV0dXJuW2l0LEV0LGp0XX1dLHRoaXMsMCwoZnVuY3Rpb24oKXt2YXIgdD1uZXcganQ7b25tZXNzYWdlPWl0KHQpfSksOSl9fSgpO2Z1bmN0aW9uIEl0KHQsZSxyKXtpZihyfHwocj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93Im5vIGNhbGxiYWNrIjtyZXR1cm4gb3QodCxlLFtKLEssZnVuY3Rpb24oKXtyZXR1cm5bRHRdfV0sKGZ1bmN0aW9uKHQpe3JldHVybiBydChEdCh0LmRhdGFbMF0pKX0pLDMscil9ZnVuY3Rpb24gRHQodCxlKXtyZXR1cm4geCh0LnN1YmFycmF5KHB0KHQpLC04KSxlfHxuZXcgcihkdCh0KSkpfWUuQXN5bmNHdW56aXA9UHQsZS5ndW56aXA9SXQsZS5ndW56aXBTeW5jPUR0O3ZhciBDdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmM9WSgpLHRoaXMudj0xLHd0LmNhbGwodGhpcyx0LGUpfXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7d3QucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLnA9ZnVuY3Rpb24odCxlKXt0aGlzLmMucCh0KTt2YXIgcj1xKHQsdGhpcy5vLHRoaXMudiYmMixlJiY0LCFlKTt0aGlzLnYmJih2dChyLHRoaXMubyksdGhpcy52PTApLGUmJmN0KHIsci5sZW5ndGgtNCx0aGlzLmMuZCgpKSx0aGlzLm9uZGF0YShyLGUpfSx0fSgpO2UuWmxpYj1DdDt2YXIga3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXthdChbWCx0dCxmdW5jdGlvbigpe3JldHVybltpdCx3dCxDdF19XSx0aGlzLGJ0LmNhbGwodGhpcyx0LGUpLChmdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3QodC5kYXRhKTtvbm1lc3NhZ2U9aXQoZSl9KSwxMCl9fSgpO2Z1bmN0aW9uICR0KHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciByPVkoKTtyLnAodCk7dmFyIG49cSh0LGUsMiw0KTtyZXR1cm4gdnQobixlKSxjdChuLG4ubGVuZ3RoLTQsci5kKCkpLG59ZS5Bc3luY1psaWI9a3QsZS56bGliPWZ1bmN0aW9uKHQsZSxyKXtpZihyfHwocj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93Im5vIGNhbGxiYWNrIjtyZXR1cm4gb3QodCxlLFtYLHR0LGZ1bmN0aW9uKCl7cmV0dXJuWyR0XX1dLChmdW5jdGlvbih0KXtyZXR1cm4gcnQoJHQodC5kYXRhWzBdLHQuZGF0YVsxXSkpfSksNCxyKX0sZS56bGliU3luYz0kdDt2YXIgUnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudj0xLEV0LmNhbGwodGhpcyx0KX1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2lmKEV0LnByb3RvdHlwZS5lLmNhbGwodGhpcyx0KSx0aGlzLnYpe2lmKHRoaXMucC5sZW5ndGg8MiYmIWUpcmV0dXJuO3RoaXMucD10aGlzLnAuc3ViYXJyYXkoMiksdGhpcy52PTB9aWYoZSl7aWYodGhpcy5wLmxlbmd0aDw0KXRocm93ImludmFsaWQgemxpYiBzdHJlYW0iO3RoaXMucD10aGlzLnAuc3ViYXJyYXkoMCwtNCl9RXQucHJvdG90eXBlLmMuY2FsbCh0aGlzLGUpfSx0fSgpO2UuVW56bGliPVJ0O3ZhciBMdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt0aGlzLm9uZGF0YT10LGF0KFtKLGV0LGZ1bmN0aW9uKCl7cmV0dXJuW2l0LEV0LFJ0XX1dLHRoaXMsMCwoZnVuY3Rpb24oKXt2YXIgdD1uZXcgUnQ7b25tZXNzYWdlPWl0KHQpfSksMTEpfX0oKTtmdW5jdGlvbiB6dCh0LGUscil7aWYocnx8KHI9ZSxlPXt9KSwiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyJubyBjYWxsYmFjayI7cmV0dXJuIG90KHQsZSxbSixldCxmdW5jdGlvbigpe3JldHVybltGdF19XSwoZnVuY3Rpb24odCl7cmV0dXJuIHJ0KEZ0KHQuZGF0YVswXSxudCh0LmRhdGFbMV0pKSl9KSw1LHIpfWZ1bmN0aW9uIEZ0KHQsZSl7cmV0dXJuIHgoKGd0KHQpLHQuc3ViYXJyYXkoMiwtNCkpLGUpfWUuQXN5bmNVbnpsaWI9THQsZS51bnpsaWI9enQsZS51bnpsaWJTeW5jPUZ0O3ZhciBOdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5HPWp0LHRoaXMuST1FdCx0aGlzLlo9UnQsdGhpcy5vbmRhdGE9dH1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLm9uZGF0YSl0aHJvdyJubyBzdHJlYW0gaGFuZGxlciI7aWYodGhpcy5zKXRoaXMucy5wdXNoKHQsZSk7ZWxzZXtpZih0aGlzLnAmJnRoaXMucC5sZW5ndGgpe3ZhciBuPW5ldyByKHRoaXMucC5sZW5ndGgrdC5sZW5ndGgpO24uc2V0KHRoaXMucCksbi5zZXQodCx0aGlzLnAubGVuZ3RoKX1lbHNlIHRoaXMucD10O2lmKHRoaXMucC5sZW5ndGg+Mil7dmFyIG89dGhpcyxpPWZ1bmN0aW9uKCl7by5vbmRhdGEuYXBwbHkobyxhcmd1bWVudHMpfTt0aGlzLnM9MzE9PXRoaXMucFswXSYmMTM5PT10aGlzLnBbMV0mJjg9PXRoaXMucFsyXT9uZXcgdGhpcy5HKGkpOjghPSgxNSZ0aGlzLnBbMF0pfHx0aGlzLnBbMF0+PjQ+N3x8KHRoaXMucFswXTw8OHx0aGlzLnBbMV0pJTMxP25ldyB0aGlzLkkoaSk6bmV3IHRoaXMuWihpKSx0aGlzLnMucHVzaCh0aGlzLnAsZSksdGhpcy5wPW51bGx9fX0sdH0oKTtlLkRlY29tcHJlc3M9TnQ7dmFyIEh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLkc9UHQsdGhpcy5JPU90LHRoaXMuWj1MdCx0aGlzLm9uZGF0YT10fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7TnQucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHQsZSl9LHR9KCk7ZS5Bc3luY0RlY29tcHJlc3M9SHQsZS5kZWNvbXByZXNzPWZ1bmN0aW9uKHQsZSxyKXtpZihyfHwocj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93Im5vIGNhbGxiYWNrIjtyZXR1cm4gMzE9PXRbMF0mJjEzOT09dFsxXSYmOD09dFsyXT9JdCh0LGUscik6OCE9KDE1JnRbMF0pfHx0WzBdPj40Pjd8fCh0WzBdPDw4fHRbMV0pJTMxP1N0KHQsZSxyKTp6dCh0LGUscil9LGUuZGVjb21wcmVzc1N5bmM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMzE9PXRbMF0mJjEzOT09dFsxXSYmOD09dFsyXT9EdCh0LGUpOjghPSgxNSZ0WzBdKXx8dFswXT4+ND43fHwodFswXTw8OHx0WzFdKSUzMT9NdCh0LGUpOkZ0KHQsZSl9O3ZhciBZdD1mdW5jdGlvbih0LGUsbixvKXtmb3IodmFyIGkgaW4gdCl7dmFyIGE9dFtpXSx1PWUraTthIGluc3RhbmNlb2Ygcj9uW3VdPVthLG9dOkFycmF5LmlzQXJyYXkoYSk/blt1XT1bYVswXSxHKG8sYVsxXSldOll0KGEsdSsiLyIsbixvKX19LHF0PSJ1bmRlZmluZWQiIT10eXBlb2YgVGV4dEVuY29kZXImJm5ldyBUZXh0RW5jb2RlcixHdD0idW5kZWZpbmVkIiE9dHlwZW9mIFRleHREZWNvZGVyJiZuZXcgVGV4dERlY29kZXIsWnQ9MDt0cnl7R3QuZGVjb2RlKHose3N0cmVhbTohMH0pLFp0PTF9Y2F0Y2godCl7fXZhciBWdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9IiIscj0wOzspe3ZhciBuPXRbcisrXSxvPShuPjEyNykrKG4+MjIzKSsobj4yMzkpO2lmKHIrbz50Lmxlbmd0aClyZXR1cm5bZSx0LnNsaWNlKHItMSldO28/Mz09bz8obj0oKDE1Jm4pPDwxOHwoNjMmdFtyKytdKTw8MTJ8KDYzJnRbcisrXSk8PDZ8NjMmdFtyKytdKS02NTUzNixlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fG4+PjEwLDU2MzIwfDEwMjMmbikpOmUrPTEmbz9TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZuKTw8Nnw2MyZ0W3IrK10pOlN0cmluZy5mcm9tQ2hhckNvZGUoKDE1Jm4pPDwxMnwoNjMmdFtyKytdKTw8Nnw2MyZ0W3IrK10pOmUrPVN0cmluZy5mcm9tQ2hhckNvZGUobil9fSxXdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5vbmRhdGE9dCxadD90aGlzLnQ9bmV3IFRleHREZWNvZGVyOnRoaXMucD16fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMub25kYXRhKXRocm93Im5vIGNhbGxiYWNrIjtpZihlfHwoZT0hMSksdGhpcy50KXJldHVybiB0aGlzLm9uZGF0YSh0aGlzLnQuZGVjb2RlKHQse3N0cmVhbTohZX0pLGUpO3ZhciBuPW5ldyByKHRoaXMucC5sZW5ndGgrdC5sZW5ndGgpO24uc2V0KHRoaXMucCksbi5zZXQodCx0aGlzLnAubGVuZ3RoKTt2YXIgbz1WdChuKSxpPW9bMF0sYT1vWzFdO2lmKGUmJmEubGVuZ3RoKXRocm93ImludmFsaWQgdXRmLTggZGF0YSI7dGhpcy5wPWEsdGhpcy5vbmRhdGEoaSxlKX0sdH0oKTtlLkRlY29kZVVURjg9V3Q7dmFyIEp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm9uZGF0YT10fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMub25kYXRhKXRocm93Im5vIGNhbGxiYWNrIjt0aGlzLm9uZGF0YShYdCh0KSxlfHwhMSl9LHR9KCk7ZnVuY3Rpb24gWHQodCxlKXtpZihlKXtmb3IodmFyIG49bmV3IHIodC5sZW5ndGgpLG89MDtvPHQubGVuZ3RoOysrbyluW29dPXQuY2hhckNvZGVBdChvKTtyZXR1cm4gbn1pZihxdClyZXR1cm4gcXQuZW5jb2RlKHQpO3ZhciBpPXQubGVuZ3RoLGE9bmV3IHIodC5sZW5ndGgrKHQubGVuZ3RoPj4xKSksdT0wLHM9ZnVuY3Rpb24odCl7YVt1KytdPXR9O2ZvcihvPTA7bzxpOysrbyl7aWYodSs1PmEubGVuZ3RoKXt2YXIgZj1uZXcgcih1KzgrKGktbzw8MSkpO2Yuc2V0KGEpLGE9Zn12YXIgaD10LmNoYXJDb2RlQXQobyk7aDwxMjh8fGU/cyhoKTpoPDIwNDg/KHMoMTkyfGg+Pj42KSxzKDEyOHw2MyZoKSk6aD41NTI5NSYmaDw1NzM0ND8ocygyNDB8KGg9NjU1MzYrKDEwNDc1NTImaCl8MTAyMyZ0LmNoYXJDb2RlQXQoKytvKSk+Pj4xOCkscygxMjh8aD4+PjEyJjYzKSxzKDEyOHxoPj4+NiY2MykscygxMjh8NjMmaCkpOihzKDIyNHxoPj4+MTIpLHMoMTI4fGg+Pj42JjYzKSxzKDEyOHw2MyZoKSl9cmV0dXJuIFQoYSwwLHUpfWZ1bmN0aW9uIFF0KHQsZSl7aWYoZSl7Zm9yKHZhciByPSIiLG49MDtuPHQubGVuZ3RoO24rPTE2Mzg0KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx0LnN1YmFycmF5KG4sbisxNjM4NCkpO3JldHVybiByfWlmKEd0KXJldHVybiBHdC5kZWNvZGUodCk7dmFyIG89VnQodCksaT1vWzBdO2lmKG9bMV0ubGVuZ3RoKXRocm93ImludmFsaWQgdXRmLTggZGF0YSI7cmV0dXJuIGl9ZS5FbmNvZGVVVEY4PUp0LGUuc3RyVG9VOD1YdCxlLnN0ckZyb21VOD1RdDt2YXIgS3Q9ZnVuY3Rpb24odCl7cmV0dXJuIDE9PXQ/Mzp0PDY/Mjo5PT10PzE6MH0sdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSszMCt1dCh0LGUrMjYpK3V0KHQsZSsyOCl9LGVlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj11dCh0LGUrMjgpLG89UXQodC5zdWJhcnJheShlKzQ2LGUrNDYrbiksISgyMDQ4JnV0KHQsZSs4KSkpLGk9ZSs0NituLGE9c3QodCxlKzIwKSx1PXImJjQyOTQ5NjcyOTU9PWE/cmUodCxpKTpbYSxzdCh0LGUrMjQpLHN0KHQsZSs0MildLHM9dVswXSxmPXVbMV0saD11WzJdO3JldHVyblt1dCh0LGUrMTApLHMsZixvLGkrdXQodCxlKzMwKSt1dCh0LGUrMzIpLGhdfSxyZT1mdW5jdGlvbih0LGUpe2Zvcig7MSE9dXQodCxlKTtlKz00K3V0KHQsZSsyKSk7cmV0dXJuW2h0KHQsZSsxMiksaHQodCxlKzQpLGh0KHQsZSsyMCldfSxuZT1mdW5jdGlvbih0LGUscixuLG8saSxhKXt2YXIgdT1uLmxlbmd0aDtjdCh0LGUsbnVsbCE9YT8zMzYzOTI0ODo2NzMyNDc1MiksZSs9NCxudWxsIT1hJiYodFtlKytdPTIwLHRbZSsrXT1yLm9zKSx0W2VdPTIwLGUrPTIsdFtlKytdPXIuZmxhZzw8MXwobnVsbD09aSYmOCksdFtlKytdPW8mJjgsdFtlKytdPTI1NSZyLmNvbXByZXNzaW9uLHRbZSsrXT1yLmNvbXByZXNzaW9uPj44O3ZhciBzPW5ldyBEYXRlKG51bGw9PXIubXRpbWU/RGF0ZS5ub3coKTpyLm10aW1lKSxmPXMuZ2V0RnVsbFllYXIoKS0xOTgwO2lmKGY8MHx8Zj4xMTkpdGhyb3ciZGF0ZSBub3QgaW4gcmFuZ2UgMTk4MC0yMDk5IjtyZXR1cm4gY3QodCxlLDIqKGY8PDI0KXxzLmdldE1vbnRoKCkrMTw8MjF8cy5nZXREYXRlKCk8PDE2fHMuZ2V0SG91cnMoKTw8MTF8cy5nZXRNaW51dGVzKCk8PDV8cy5nZXRTZWNvbmRzKCk+Pj4xKSxlKz00LG51bGwhPWkmJihjdCh0LGUsci5jcmMpLGN0KHQsZSs0LGkpLGN0KHQsZSs4LHIuc2l6ZSkpLGN0KHQsZSsxMix1KSxlKz0xNixudWxsIT1hJiYoY3QodCxlKzYsci5hdHRycyksY3QodCxlKzEwLGEpLGUrPTE0KSx0LnNldChuLGUpLGUrdX0sb2U9ZnVuY3Rpb24odCxlLHIsbixvKXtjdCh0LGUsMTAxMDEwMjU2KSxjdCh0LGUrOCxyKSxjdCh0LGUrMTAsciksY3QodCxlKzEyLG4pLGN0KHQsZSsxNixvKX0saWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZmlsZW5hbWU9dCx0aGlzLmM9SCgpLHRoaXMuc2l6ZT0wLHRoaXMuY29tcHJlc3Npb249MH1yZXR1cm4gdC5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbih0LGUpe3RoaXMub25kYXRhKG51bGwsdCxlKX0sdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLm9uZGF0YSl0aHJvdyJubyBjYWxsYmFjayAtIGFkZCB0byBaSVAgYXJjaGl2ZSBiZWZvcmUgcHVzaGluZyI7dGhpcy5jLnAodCksdGhpcy5zaXplKz10Lmxlbmd0aCxlJiYodGhpcy5jcmM9dGhpcy5jLmQoKSksdGhpcy5wcm9jZXNzKHQsZXx8ITEpfSx0fSgpO2UuWmlwUGFzc1Rocm91Z2g9aWU7dmFyIGFlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pLGllLmNhbGwodGhpcyx0KSx0aGlzLmQ9bmV3IHd0KGUsKGZ1bmN0aW9uKHQsZSl7ci5vbmRhdGEobnVsbCx0LGUpfSkpLHRoaXMuY29tcHJlc3Npb249OCx0aGlzLmZsYWc9S3QoZS5sZXZlbCl9cmV0dXJuIHQucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24odCxlKXt0cnl7dGhpcy5kLnB1c2godCxlKX1jYXRjaCh0KXt0aGlzLm9uZGF0YSh0LG51bGwsZSl9fSx0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7aWUucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHQsZSl9LHR9KCk7ZS5aaXBEZWZsYXRlPWFlO3ZhciB1ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgcj10aGlzO3ZvaWQgMD09PWUmJihlPXt9KSxpZS5jYWxsKHRoaXMsdCksdGhpcy5kPW5ldyBtdChlLChmdW5jdGlvbih0LGUsbil7ci5vbmRhdGEodCxlLG4pfSkpLHRoaXMuY29tcHJlc3Npb249OCx0aGlzLmZsYWc9S3QoZS5sZXZlbCksdGhpcy50ZXJtaW5hdGU9dGhpcy5kLnRlcm1pbmF0ZX1yZXR1cm4gdC5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbih0LGUpe3RoaXMuZC5wdXNoKHQsZSl9LHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXtpZS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsdCxlKX0sdH0oKTtlLkFzeW5jWmlwRGVmbGF0ZT11ZTt2YXIgc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub25kYXRhPXQsdGhpcy51PVtdLHRoaXMuZD0xfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZigyJnRoaXMuZCl0aHJvdyJzdHJlYW0gZmluaXNoZWQiO3ZhciBuPVh0KHQuZmlsZW5hbWUpLG89bi5sZW5ndGgsaT1vIT10LmZpbGVuYW1lLmxlbmd0aCxhPW8rMzA7aWYobz42NTUzNSl0aHJvdyJmaWxlbmFtZSB0b28gbG9uZyI7dmFyIHU9bmV3IHIoYSk7bmUodSwwLHQsbixpKTt2YXIgcz1bdV0sZj1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtlLm9uZGF0YShudWxsLG4sITEpfXM9W119LGg9dGhpcy5kO3RoaXMuZD0wO3ZhciBjPXRoaXMudS5sZW5ndGgsbD1HKHQse2Y6bix1OmksdDpmdW5jdGlvbigpe3QudGVybWluYXRlJiZ0LnRlcm1pbmF0ZSgpfSxyOmZ1bmN0aW9uKCl7aWYoZigpLGgpe3ZhciB0PWUudVtjKzFdO3Q/dC5yKCk6ZS5kPTF9aD0xfX0pLHA9MDt0Lm9uZGF0YT1mdW5jdGlvbihuLG8saSl7bj8oZS5vbmRhdGEobixvLGkpLGUudGVybWluYXRlKCkpOihwKz1vLmxlbmd0aCxzLnB1c2gobyksaT8ocy5wdXNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHIoMTYpO3JldHVybiBjdChuLDAsMTM0Njk1NzYwKSxjdChuLDQsdC5jcmMpLGN0KG4sOCxlKSxjdChuLDEyLHQuc2l6ZSksbn0odCxwKSksbC5jPXAsbC5iPWErcCsxNixsLmNyYz10LmNyYyxsLnNpemU9dC5zaXplLGgmJmwucigpLGg9MSk6aCYmZigpKX0sdGhpcy51LnB1c2gobCl9LHQucHJvdG90eXBlLmVuZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMiZ0aGlzLmQpe2lmKDEmdGhpcy5kKXRocm93InN0cmVhbSBmaW5pc2hpbmciO3Rocm93InN0cmVhbSBmaW5pc2hlZCJ9dGhpcy5kP3RoaXMuZSgpOnRoaXMudS5wdXNoKHtyOmZ1bmN0aW9uKCl7MSZ0LmQmJih0LnUuc3BsaWNlKC0xLDEpLHQuZSgpKX0sdDpmdW5jdGlvbigpe319KSx0aGlzLmQ9M30sdC5wcm90b3R5cGUuZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxuPTAsbz0wLGk9dGhpcy51O288aS5sZW5ndGg7bysrKXtuKz00NisoZj1pW29dKS5mLmxlbmd0aH1mb3IodmFyIGE9bmV3IHIobisyMiksdT0wLHM9dGhpcy51O3U8cy5sZW5ndGg7dSsrKXt2YXIgZj1zW3VdO25lKGEsdCxmLGYuZixmLnUsZi5jLGUpLHQrPTQ2K2YuZi5sZW5ndGgsZSs9Zi5ifW9lKGEsdCx0aGlzLnUubGVuZ3RoLG4sZSksdGhpcy5vbmRhdGEobnVsbCxhLCEwKSx0aGlzLmQ9Mn0sdC5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLnU7dDxlLmxlbmd0aDt0Kyspe2VbdF0udCgpfXRoaXMuZD0yfSx0fSgpO2UuWmlwPXNlLGUuemlwPWZ1bmN0aW9uKHQsZSxuKXtpZihufHwobj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiBuKXRocm93Im5vIGNhbGxiYWNrIjt2YXIgbz17fTtZdCh0LCIiLG8sZSk7dmFyIGk9T2JqZWN0LmtleXMobyksYT1pLmxlbmd0aCx1PTAscz0wLGY9YSxoPW5ldyBBcnJheShhKSxjPVtdLGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PGMubGVuZ3RoOysrdCljW3RdKCl9LHA9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgcihzKzIyKSxlPXUsbz1zLXU7cz0wO2Zvcih2YXIgaT0wO2k8ZjsrK2kpe3ZhciBhPWhbaV07dHJ5e3ZhciBjPWEuYy5sZW5ndGg7bmUodCxzLGEsYS5mLGEudSxjKTt2YXIgbD1zKzMwK2EuZi5sZW5ndGg7dC5zZXQoYS5jLGwpLG5lKHQsdSxhLGEuZixhLnUsYyxzKSx1Kz00NithLmYubGVuZ3RoLHM9bCtjfWNhdGNoKHQpe3JldHVybiBuKHQsbnVsbCl9fW9lKHQsdSxoLmxlbmd0aCxvLGUpLG4obnVsbCx0KX07YXx8cCgpO2Zvcih2YXIgZD1mdW5jdGlvbih0KXt2YXIgZT1pW3RdLHI9b1tlXSxmPXJbMF0sZD1yWzFdLHk9SCgpLHY9Zi5sZW5ndGg7eS5wKGYpO3ZhciBnPVh0KGUpLGI9Zy5sZW5ndGgsdz0wPT1kLmxldmVsPzA6OCxtPWZ1bmN0aW9uKHIsbyl7aWYocilsKCksbihyLG51bGwpO2Vsc2V7dmFyIGk9by5sZW5ndGg7aFt0XT1HKGQse3NpemU6dixjcmM6eS5kKCksYzpvLGY6Zyx1OmIhPWUubGVuZ3RoLGNvbXByZXNzaW9uOnd9KSx1Kz0zMCtiK2kscys9NzYrMipiK2ksLS1hfHxwKCl9fTtpZihiPjY1NTM1JiZtKCJmaWxlbmFtZSB0b28gbG9uZyIsbnVsbCksdylpZih2PDE2ZTQpdHJ5e20obnVsbCxBdChmLGQpKX1jYXRjaCh0KXttKHQsbnVsbCl9ZWxzZSBjLnB1c2goX3QoZixkLG0pKTtlbHNlIG0obnVsbCxmKX0seT0wO3k8ZjsrK3kpZCh5KTtyZXR1cm4gbH0sZS56aXBTeW5jPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXt9LG89W107WXQodCwiIixuLGUpO3ZhciBpPTAsYT0wO2Zvcih2YXIgdSBpbiBuKXt2YXIgcz1uW3VdLGY9c1swXSxoPXNbMV0sYz0wPT1oLmxldmVsPzA6OCxsPShtPVh0KHUpKS5sZW5ndGg7aWYobD42NTUzNSl0aHJvdyJmaWxlbmFtZSB0b28gbG9uZyI7dmFyIHA9Yz9BdChmLGgpOmYsZD1wLmxlbmd0aCx5PUgoKTt5LnAoZiksby5wdXNoKEcoaCx7c2l6ZTpmLmxlbmd0aCxjcmM6eS5kKCksYzpwLGY6bSx1OmwhPXUubGVuZ3RoLG86aSxjb21wcmVzc2lvbjpjfSkpLGkrPTMwK2wrZCxhKz03NisyKmwrZH1mb3IodmFyIHY9bmV3IHIoYSsyMiksZz1pLGI9YS1pLHc9MDt3PG8ubGVuZ3RoOysrdyl7dmFyIG09b1t3XTtuZSh2LG0ubyxtLG0uZixtLnUsbS5jLmxlbmd0aCksdi5zZXQobS5jLG0ubyszMCttLmYubGVuZ3RoKSxuZSh2LGksbSxtLmYsbS51LG0uYy5sZW5ndGgsbS5vKSxpKz00NittLmYubGVuZ3RofXJldHVybiBvZSh2LGksby5sZW5ndGgsYixnKSx2fTt2YXIgZmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7dGhpcy5vbmRhdGEobnVsbCx0LGUpfSx0LmNvbXByZXNzaW9uPTAsdH0oKTtlLlVuemlwUGFzc1Rocm91Z2g9ZmU7dmFyIGhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXM7dGhpcy5pPW5ldyBFdCgoZnVuY3Rpb24oZSxyKXt0Lm9uZGF0YShudWxsLGUscil9KSl9cmV0dXJuIHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt0cnl7dGhpcy5pLnB1c2godCxlKX1jYXRjaChyKXt0aGlzLm9uZGF0YShyLHQsZSl9fSx0LmNvbXByZXNzaW9uPTgsdH0oKTtlLlVuemlwSW5mbGF0ZT1oZTt2YXIgY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpczt0aGlzLmk9bmV3IE90KChmdW5jdGlvbihlLHIsbil7dC5vbmRhdGEoZSxyLG4pfSkpLHRoaXMudGVybWluYXRlPXRoaXMuaS50ZXJtaW5hdGV9cmV0dXJuIHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt0aGlzLmkucHVzaChUKHQsMCksZSl9LHQuY29tcHJlc3Npb249OCx0fSgpO2UuQXN5bmNVbnppcEluZmxhdGU9Y2U7dmFyIGxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm9uZmlsZT10LHRoaXMuaz1bXSx0aGlzLm89ezA6ZmV9LHRoaXMucD16fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxvPS0xPT10aGlzLmMmJnRoaXMuZDtpZih0aGlzLmMmJiFvKXt2YXIgaT1NYXRoLm1pbih0aGlzLmMsdC5sZW5ndGgpLGE9dC5zdWJhcnJheSgwLGkpO3RoaXMuYy09aSx0aGlzLmQ/dGhpcy5kLnB1c2goYSwhdGhpcy5jKTp0aGlzLmtbMF0ucHVzaChbYSwhdGhpcy5jXSksdD10LnN1YmFycmF5KGkpfWlmKG98fCF0aGlzLmMpe3ZhciB1PTAscz0wLGY9dm9pZCAwLGg9dm9pZCAwLGM9dC5sZW5ndGgsbD10aGlzLnAubGVuZ3RoLHA9YytsO2lmKGMpbD8oKGg9bmV3IFVpbnQ4QXJyYXkocCkpLnNldCh0aGlzLnApLGguc2V0KHQsdGhpcy5wLmxlbmd0aCkpOmg9dDtlbHNle2lmKCFsKXJldHVybjtoPXRoaXMucH10aGlzLnA9ejtmb3IodmFyIGQ9ZnVuY3Rpb24oKXtpZig2NzMyNDc1Mj09c3QoaCxzKSl7dT0xLG8mJm8ucHVzaCh6LCEwKSx5LmQ9bnVsbCx5LmM9MDt2YXIgdD11dChoLHMrNiksZT11dChoLHMrOCksaT0yMDQ4JnQsYT04JnQsYz11dChoLHMrMjYpLGw9dXQoaCxzKzI4KTtpZihwPnMrMzArYytsKXt2YXIgZD1bXTt5LmsudW5zaGlmdChkKSx1PTIsZj1zO3ZhciB2PXN0KGgscysxOCksZz1RdChoLnN1YmFycmF5KHMrMzAscys9MzArYyksIWkpO2lmKGEmJih2PS0xKSw0Mjk0OTY3Mjk1PT12JiYodj1yZShoLHMpWzBdKSwheS5vW2VdKXJldHVybiB5Lm9uZmlsZSgidW5rbm93biBjb21wcmVzc2lvbiB0eXBlICIrZSxnLG51bGwpLCJicmVhayI7eS5jPXY7dmFyIGI9e3N0YXJ0OmZ1bmN0aW9uKCl7aWYoIWIub25kYXRhKXRocm93Im5vIGNhbGxiYWNrIjtpZih2KXt2YXIgdD1uZXcgbi5vW2VdO3Qub25kYXRhPWZ1bmN0aW9uKHQsZSxyKXtiLm9uZGF0YSh0LGUscil9O2Zvcih2YXIgbz0wLGk9ZDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSx1PWFbMF0scz1hWzFdO3QucHVzaCh1LHMpfW4ua1swXT09ZCYmKG4uZD10KX1lbHNlIGIub25kYXRhKG51bGwsbmV3IHIoMCksITApfSx0ZXJtaW5hdGU6ZnVuY3Rpb24oKXtuLmtbMF09PWQmJm4uZC50ZXJtaW5hdGUmJm4uZC50ZXJtaW5hdGUoKX19O3kub25maWxlKG51bGwsZyxiKSxzKz1sfXJldHVybiJicmVhayJ9fSx5PXRoaXM7czxwOysrcyl7aWYoImJyZWFrIj09PWQoKSlicmVha31pZihvJiZvLnB1c2goMj09dT9oLnN1YmFycmF5KDAsZi0xMi0oMTM0Njk1NzYwPT1zdChoLGYtMTIpJiY0KSk6aC5zdWJhcnJheSgwLHMpLCEhdSksMiZ1KXJldHVybiB0aGlzLnB1c2goaC5zdWJhcnJheShzKSxlKTtpZigxJnUmJih0aGlzLnA9aCksZSYmKHV8fHRoaXMuYykpdGhyb3ciaW52YWxpZCB6aXAgZmlsZSJ9fSx0LnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbih0KXt0aGlzLm9bdC5jb21wcmVzc2lvbl09dH0sdH0oKTtlLlVuemlwPWxlLGUudW56aXA9ZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyJubyBjYWxsYmFjayI7Zm9yKHZhciBuPVtdLG89ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoOysrdCluW3RdKCl9LGk9e30sYT10Lmxlbmd0aC0yMjsxMDEwMTAyNTYhPXN0KHQsYSk7LS1hKWlmKCFhfHx0Lmxlbmd0aC1hPjY1NTU4KXJldHVybiB2b2lkIGUoImludmFsaWQgemlwIGZpbGUiLG51bGwpO3ZhciB1PXV0KHQsYSs4KTt1fHxlKG51bGwse30pO3ZhciBzPXUsZj1zdCh0LGErMTYpLGg9NDI5NDk2NzI5NT09ZjtpZihoKXtpZihhPXN0KHQsYS0xMiksMTAxMDc1NzkyIT1zdCh0LGEpKXJldHVybiB2b2lkIGUoImludmFsaWQgemlwIGZpbGUiLG51bGwpO3M9dT1zdCh0LGErMzIpLGY9c3QodCxhKzQ4KX1mb3IodmFyIGM9ZnVuY3Rpb24oYSl7dmFyIHM9ZWUodCxmLGgpLGM9c1swXSxsPXNbMV0scD1zWzJdLGQ9c1szXSx5PXNbNF0sdj1zWzVdLGc9dGUodCx2KTtmPXk7dmFyIGI9ZnVuY3Rpb24odCxyKXt0PyhvKCksZSh0LG51bGwpKTooaVtkXT1yLC0tdXx8ZShudWxsLGkpKX07aWYoYylpZig4PT1jKXt2YXIgdz10LnN1YmFycmF5KGcsZytsKTtpZihsPDMyZTQpdHJ5e2IobnVsbCxNdCh3LG5ldyByKHApKSl9Y2F0Y2godCl7Yih0LG51bGwpfWVsc2Ugbi5wdXNoKFN0KHcse3NpemU6cH0sYikpfWVsc2UgYigidW5rbm93biBjb21wcmVzc2lvbiB0eXBlICIrYyxudWxsKTtlbHNlIGIobnVsbCxUKHQsZyxnK2wpKX0sbD0wO2w8czsrK2wpYygpO3JldHVybiBvfSxlLnVuemlwU3luYz1mdW5jdGlvbih0KXtmb3IodmFyIGU9e30sbj10Lmxlbmd0aC0yMjsxMDEwMTAyNTYhPXN0KHQsbik7LS1uKWlmKCFufHx0Lmxlbmd0aC1uPjY1NTU4KXRocm93ImludmFsaWQgemlwIGZpbGUiO3ZhciBvPXV0KHQsbis4KTtpZighbylyZXR1cm57fTt2YXIgaT1zdCh0LG4rMTYpLGE9NDI5NDk2NzI5NT09aTtpZihhKXtpZihuPXN0KHQsbi0xMiksMTAxMDc1NzkyIT1zdCh0LG4pKXRocm93ImludmFsaWQgemlwIGZpbGUiO289c3QodCxuKzMyKSxpPXN0KHQsbis0OCl9Zm9yKHZhciB1PTA7dTxvOysrdSl7dmFyIHM9ZWUodCxpLGEpLGY9c1swXSxoPXNbMV0sYz1zWzJdLGw9c1szXSxwPXNbNF0sZD1zWzVdLHk9dGUodCxkKTtpZihpPXAsZil7aWYoOCE9Zil0aHJvdyJ1bmtub3duIGNvbXByZXNzaW9uIHR5cGUgIitmO2VbbF09TXQodC5zdWJhcnJheSh5LHkraCksbmV3IHIoYykpfWVsc2UgZVtsXT1UKHQseSx5K2gpfXJldHVybiBlfX0pKTtzZWxmLm9ubWVzc2FnZT1mdW5jdGlvbih0KXt2YXIgZSxuLG8saSxhPXQuZGF0YSx1PWEuZW52LHM9KGEucmVwb3J0TGltaXRTaXplLGEuZnVsbERhdGEpLGY9YS5yZWFkVGltZSxoPXMuY29udGVudCxjPXIuX19yZXN0KHMsWyJjb250ZW50Il0pLGw9KG49MCxvPTEwNDg1NzYsaT1bXSwoZT1oKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsYSx1KXt2YXIgcz1pdChhKTtyZXR1cm4gcz5vPyh0LnB1c2guYXBwbHkodCxzdChhLG8vcykpLHQpOihuKz1zLGkucHVzaChhKSwobj49b3x8dT09PWUubGVuZ3RoLTEpJiYobj0wLHQucHVzaChyLl9fc3ByZWFkQXJyYXlzKGkpKSxpLmxlbmd0aD0wKSx0KX0pLFtdKSk7bC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9IiIscj10LmJ5dGVMZW5ndGgsbj0wO248cjtuKyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W25dKTtyZXR1cm4gYnRvYShlKX0oaHQuemxpYlN5bmMoaHQuc3RyVG9VOChKU09OLnN0cmluZ2lmeShyLl9fYXNzaWduKHIuX19hc3NpZ24oe30sYykse2NvbnRlbnQ6dH0pKSkpKTsoZnVuY3Rpb24odCxlKXt2YXIgcj14W3RdfHx4LnRlc3Qsbj1yLnVybCxvPXIudG9waWMsaT1yLnRva2VuLGE9TWF0aC5yb3VuZChEYXRlLm5vdygpLzFlMyk7cmV0dXJuICQobisiLyIrbysiLyIraSsiP3R5cGU9MSZjdGltZT0iK2Ese2JvZHk6ZSxtZXRob2Q6IlBPU1QifSl9KSh1LCciJytlKyciJykudGhlbigoZnVuY3Rpb24oKXtzZWxmLnBvc3RNZXNzYWdlKHtyZWFkVGltZTpmLHRpbWVzdGFtcHM6W3RbMF0udGltZXN0YW1wLHRbdC5sZW5ndGgtMV0udGltZXN0YW1wXX0sdm9pZCAwKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9KSksbC5sZW5ndGg9MH19KCk7Cgo=",null,!1,"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)?function(t,e,n){var i=void 0===e?null:e,r=function(t,e){return Buffer.from(t,"base64").toString(e?"utf16":"utf8")}(t,void 0!==n&&n),o=r.indexOf("\n",10)+1,a=r.substring(o)+(i?"//# sourceMappingURL="+i:"");return function(t){return new Xn(a,Object.assign({},t,{eval:!0}))}}(gn,null,false):function(t,e,n){var i;return function(t){return i=i||function(t,e,n){var i=void 0===e?null:e,r=function(t,e){var n=atob(t);if(e){for(var i=new Uint8Array(n.length),r=0,o=n.length;r<o;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(t,void 0!==n&&n),o=r.indexOf("\n",10)+1,a=r.substring(o)+(i?"//# sourceMappingURL="+i:""),l=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(l)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBlKHQsZSxyKXtyZXR1cm4gdChyPXtwYXRoOmUsZXhwb3J0czp7fSxyZXF1aXJlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJEeW5hbWljIHJlcXVpcmVzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBAcm9sbHVwL3BsdWdpbi1jb21tb25qcyIpfShudWxsPT1lJiZyLnBhdGgpfX0sci5leHBvcnRzKSxyLmV4cG9ydHN9dmFyIHI9ZSgoZnVuY3Rpb24oZSl7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgoJQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgoJUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CglwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgoJVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKCVJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQoJQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAoJSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCglMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgoJT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgoJUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KCSoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovCnZhciByLG4sbyxpLGEsdSxzLGYsaCxjLGwscCxkLHksdixnLGIsdyxtLF8sQSxFLE8sUzshZnVuY3Rpb24oTSl7dmFyIEI9Im9iamVjdCI9PXR5cGVvZiB0P3Q6Im9iamVjdCI9PXR5cGVvZiBzZWxmP3NlbGY6Im9iamVjdCI9PXR5cGVvZiB0aGlzP3RoaXM6e307ZnVuY3Rpb24gVSh0LGUpe3JldHVybiB0IT09QiYmKCJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTp0Ll9fZXNNb2R1bGU9ITApLGZ1bmN0aW9uKHIsbil7cmV0dXJuIHRbcl09ZT9lKHIsbik6bn19IWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKX07cj1mdW5jdGlvbih0LHIpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByJiZudWxsIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCJDbGFzcyBleHRlbmRzIHZhbHVlICIrU3RyaW5nKHIpKyIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LHIpLHQucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX0sbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGUscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiBlPWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmKHRbb109ZVtvXSk7cmV0dXJuIHR9LG89ZnVuY3Rpb24odCxlKXt2YXIgcj17fTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmZS5pbmRleE9mKG4pPDAmJihyW25dPXRbbl0pO2lmKG51bGwhPXQmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7bzxuLmxlbmd0aDtvKyspZS5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LG5bb10pJiYocltuW29dXT10W25bb11dKX1yZXR1cm4gcn0saT1mdW5jdGlvbih0LGUscixuKXt2YXIgbyxpPWFyZ3VtZW50cy5sZW5ndGgsYT1pPDM/ZTpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTpuO2lmKCJvYmplY3QiPT10eXBlb2YgUmVmbGVjdCYmImZ1bmN0aW9uIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpYT1SZWZsZWN0LmRlY29yYXRlKHQsZSxyLG4pO2Vsc2UgZm9yKHZhciB1PXQubGVuZ3RoLTE7dT49MDt1LS0pKG89dFt1XSkmJihhPShpPDM/byhhKTppPjM/byhlLHIsYSk6byhlLHIpKXx8YSk7cmV0dXJuIGk+MyYmYSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixhKSxhfSxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7ZShyLG4sdCl9fSx1PWZ1bmN0aW9uKHQsZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBSZWZsZWN0JiYiZnVuY3Rpb24iPT10eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSlyZXR1cm4gUmVmbGVjdC5tZXRhZGF0YSh0LGUpfSxzPWZ1bmN0aW9uKHQsZSxyLG4pe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCl9KSl9cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKHIsaSl7ZnVuY3Rpb24gYSh0KXt0cnl7cyhuLm5leHQodCkpfWNhdGNoKHQpe2kodCl9fWZ1bmN0aW9uIHUodCl7dHJ5e3Mobi50aHJvdyh0KSl9Y2F0Y2godCl7aSh0KX19ZnVuY3Rpb24gcyh0KXt0LmRvbmU/cih0LnZhbHVlKTpvKHQudmFsdWUpLnRoZW4oYSx1KX1zKChuPW4uYXBwbHkodCxlfHxbXSkpLm5leHQoKSl9KSl9LGY9ZnVuY3Rpb24odCxlKXt2YXIgcixuLG8saSxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OnUoMCksdGhyb3c6dSgxKSxyZXR1cm46dSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiB1KHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gcyhbdCxlXSl9fWZ1bmN0aW9uIHMoaSl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYocj0xLG4mJihvPTImaVswXT9uLnJldHVybjppWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4saVsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYoaT1bMiZpWzBdLG8udmFsdWVdKSxpWzBdKXtjYXNlIDA6Y2FzZSAxOm89aTticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6aVsxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49aVsxXSxpPVswXTtjb250aW51ZTtjYXNlIDc6aT1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09aVswXSYmMiE9PWlbMF0pKXthPTA7Y29udGludWV9aWYoMz09PWlbMF0mJighb3x8aVsxXT5vWzBdJiZpWzFdPG9bM10pKXthLmxhYmVsPWlbMV07YnJlYWt9aWYoNj09PWlbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89aTticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKGkpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1pPWUuY2FsbCh0LGEpfWNhdGNoKHQpe2k9WzYsdF0sbj0wfWZpbmFsbHl7cj1vPTB9aWYoNSZpWzBdKXRocm93IGlbMV07cmV0dXJue3ZhbHVlOmlbMF0/aVsxXTp2b2lkIDAsZG9uZTohMH19fSxoPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIHQpImRlZmF1bHQiPT09cnx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscil8fFMoZSx0LHIpfSxTPU9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlLHIsbil7dm9pZCAwPT09biYmKG49ciksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtyXX19KX06ZnVuY3Rpb24odCxlLHIsbil7dm9pZCAwPT09biYmKG49ciksdFtuXT1lW3JdfSxjPWZ1bmN0aW9uKHQpe3ZhciBlPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcixyPWUmJnRbZV0sbj0wO2lmKHIpcmV0dXJuIHIuY2FsbCh0KTtpZih0JiYibnVtYmVyIj09dHlwZW9mIHQubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJm4+PXQubGVuZ3RoJiYodD12b2lkIDApLHt2YWx1ZTp0JiZ0W24rK10sZG9uZTohdH19fTt0aHJvdyBuZXcgVHlwZUVycm9yKGU/Ik9iamVjdCBpcyBub3QgaXRlcmFibGUuIjoiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpfSxsPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdO2lmKCFyKXJldHVybiB0O3ZhciBuLG8saT1yLmNhbGwodCksYT1bXTt0cnl7Zm9yKDsodm9pZCAwPT09ZXx8ZS0tID4wKSYmIShuPWkubmV4dCgpKS5kb25lOylhLnB1c2gobi52YWx1ZSl9Y2F0Y2godCl7bz17ZXJyb3I6dH19ZmluYWxseXt0cnl7biYmIW4uZG9uZSYmKHI9aS5yZXR1cm4pJiZyLmNhbGwoaSl9ZmluYWxseXtpZihvKXRocm93IG8uZXJyb3J9fXJldHVybiBhfSxwPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXQ9dC5jb25jYXQobChhcmd1bWVudHNbZV0pKTtyZXR1cm4gdH0sZD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxyPWFyZ3VtZW50cy5sZW5ndGg7ZTxyO2UrKyl0Kz1hcmd1bWVudHNbZV0ubGVuZ3RoO3ZhciBuPUFycmF5KHQpLG89MDtmb3IoZT0wO2U8cjtlKyspZm9yKHZhciBpPWFyZ3VtZW50c1tlXSxhPTAsdT1pLmxlbmd0aDthPHU7YSsrLG8rKyluW29dPWlbYV07cmV0dXJuIG59LHk9ZnVuY3Rpb24odCxlLHIpe2lmKHJ8fDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgbixvPTAsaT1lLmxlbmd0aDtvPGk7bysrKSFuJiZvIGluIGV8fChufHwobj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDAsbykpLG5bb109ZVtvXSk7cmV0dXJuIHQuY29uY2F0KG58fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX0sdj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHY/KHRoaXMudj10LHRoaXMpOm5ldyB2KHQpfSxnPWZ1bmN0aW9uKHQsZSxyKXtpZighU3ltYm9sLmFzeW5jSXRlcmF0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7dmFyIG4sbz1yLmFwcGx5KHQsZXx8W10pLGk9W107cmV0dXJuIG49e30sYSgibmV4dCIpLGEoInRocm93IiksYSgicmV0dXJuIiksbltTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbjtmdW5jdGlvbiBhKHQpe29bdF0mJihuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixuKXtpLnB1c2goW3QsZSxyLG5dKT4xfHx1KHQsZSl9KSl9KX1mdW5jdGlvbiB1KHQsZSl7dHJ5e3Mob1t0XShlKSl9Y2F0Y2godCl7YyhpWzBdWzNdLHQpfX1mdW5jdGlvbiBzKHQpe3QudmFsdWUgaW5zdGFuY2VvZiB2P1Byb21pc2UucmVzb2x2ZSh0LnZhbHVlLnYpLnRoZW4oZixoKTpjKGlbMF1bMl0sdCl9ZnVuY3Rpb24gZih0KXt1KCJuZXh0Iix0KX1mdW5jdGlvbiBoKHQpe3UoInRocm93Iix0KX1mdW5jdGlvbiBjKHQsZSl7dChlKSxpLnNoaWZ0KCksaS5sZW5ndGgmJnUoaVswXVswXSxpWzBdWzFdKX19LGI9ZnVuY3Rpb24odCl7dmFyIGUscjtyZXR1cm4gZT17fSxuKCJuZXh0IiksbigidGhyb3ciLChmdW5jdGlvbih0KXt0aHJvdyB0fSkpLG4oInJldHVybiIpLGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlO2Z1bmN0aW9uIG4obixvKXtlW25dPXRbbl0/ZnVuY3Rpb24oZSl7cmV0dXJuKHI9IXIpP3t2YWx1ZTp2KHRbbl0oZSkpLGRvbmU6InJldHVybiI9PT1ufTpvP28oZSk6ZX06b319LHc9ZnVuY3Rpb24odCl7aWYoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKXRocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpO3ZhciBlLHI9dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl07cmV0dXJuIHI/ci5jYWxsKHQpOih0PWModCksZT17fSxuKCJuZXh0IiksbigidGhyb3ciKSxuKCJyZXR1cm4iKSxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlKTtmdW5jdGlvbiBuKHIpe2Vbcl09dFtyXSYmZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe28obixpLChlPXRbcl0oZSkpLmRvbmUsZS52YWx1ZSl9KSl9fWZ1bmN0aW9uIG8odCxlLHIsbil7UHJvbWlzZS5yZXNvbHZlKG4pLnRoZW4oKGZ1bmN0aW9uKGUpe3Qoe3ZhbHVlOmUsZG9uZTpyfSl9KSxlKX19LG09ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJyYXciLHt2YWx1ZTplfSk6dC5yYXc9ZSx0fTt2YXIgTT1PYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KX06ZnVuY3Rpb24odCxlKXt0LmRlZmF1bHQ9ZX07Xz1mdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYobnVsbCE9dClmb3IodmFyIHIgaW4gdCkiZGVmYXVsdCIhPT1yJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmUyhlLHQscik7cmV0dXJuIE0oZSx0KSxlfSxBPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0sRT1mdW5jdGlvbih0LGUscixuKXtpZigiYSI9PT1yJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXIiKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZT90IT09ZXx8IW46IWUuaGFzKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdCIpO3JldHVybiJtIj09PXI/bjoiYSI9PT1yP24uY2FsbCh0KTpuP24udmFsdWU6ZS5nZXQodCl9LE89ZnVuY3Rpb24odCxlLHIsbixvKXtpZigibSI9PT1uKXRocm93IG5ldyBUeXBlRXJyb3IoIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZSIpO2lmKCJhIj09PW4mJiFvKXRocm93IG5ldyBUeXBlRXJyb3IoIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlciIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlP3QhPT1lfHwhbzohZS5oYXModCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXQiKTtyZXR1cm4iYSI9PT1uP28uY2FsbCh0LHIpOm8/by52YWx1ZT1yOmUuc2V0KHQscikscn0sdCgiX19leHRlbmRzIixyKSx0KCJfX2Fzc2lnbiIsbiksdCgiX19yZXN0IixvKSx0KCJfX2RlY29yYXRlIixpKSx0KCJfX3BhcmFtIixhKSx0KCJfX21ldGFkYXRhIix1KSx0KCJfX2F3YWl0ZXIiLHMpLHQoIl9fZ2VuZXJhdG9yIixmKSx0KCJfX2V4cG9ydFN0YXIiLGgpLHQoIl9fY3JlYXRlQmluZGluZyIsUyksdCgiX192YWx1ZXMiLGMpLHQoIl9fcmVhZCIsbCksdCgiX19zcHJlYWQiLHApLHQoIl9fc3ByZWFkQXJyYXlzIixkKSx0KCJfX3NwcmVhZEFycmF5Iix5KSx0KCJfX2F3YWl0Iix2KSx0KCJfX2FzeW5jR2VuZXJhdG9yIixnKSx0KCJfX2FzeW5jRGVsZWdhdG9yIixiKSx0KCJfX2FzeW5jVmFsdWVzIix3KSx0KCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsbSksdCgiX19pbXBvcnRTdGFyIixfKSx0KCJfX2ltcG9ydERlZmF1bHQiLEEpLHQoIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLEUpLHQoIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLE8pfShVKEIsVShlLmV4cG9ydHMpKSl9KCl9KSksbj1lKChmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1bIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiXTtmdW5jdGlvbiByKHQsZSl7dmFyIHI9dFswXSxuPXRbMV0sbz10WzJdLGk9dFszXTtuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG4mb3x+biZpKStlWzBdLTY4MDg3NjkzNnwwKTw8N3xyPj4+MjUpK258MCkmbnx+ciZvKStlWzFdLTM4OTU2NDU4NnwwKTw8MTJ8aT4+PjIwKStyfDApJnJ8fmkmbikrZVsyXSs2MDYxMDU4MTl8MCk8PDE3fG8+Pj4xNSkraXwwKSZpfH5vJnIpK2VbM10tMTA0NDUyNTMzMHwwKTw8MjJ8bj4+PjEwKStvfDAsbj0oKG4rPSgobz0oKG8rPSgoaT0oKGkrPSgocj0oKHIrPShuJm98fm4maSkrZVs0XS0xNzY0MTg4OTd8MCk8PDd8cj4+PjI1KStufDApJm58fnImbykrZVs1XSsxMjAwMDgwNDI2fDApPDwxMnxpPj4+MjApK3J8MCkmcnx+aSZuKStlWzZdLTE0NzMyMzEzNDF8MCk8PDE3fG8+Pj4xNSkraXwwKSZpfH5vJnIpK2VbN10tNDU3MDU5ODN8MCk8PDIyfG4+Pj4xMCkrb3wwLG49KChuKz0oKG89KChvKz0oKGk9KChpKz0oKHI9KChyKz0obiZvfH5uJmkpK2VbOF0rMTc3MDAzNTQxNnwwKTw8N3xyPj4+MjUpK258MCkmbnx+ciZvKStlWzldLTE5NTg0MTQ0MTd8MCk8PDEyfGk+Pj4yMCkrcnwwKSZyfH5pJm4pK2VbMTBdLTQyMDYzfDApPDwxN3xvPj4+MTUpK2l8MCkmaXx+byZyKStlWzExXS0xOTkwNDA0MTYyfDApPDwyMnxuPj4+MTApK298MCxuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG4mb3x+biZpKStlWzEyXSsxODA0NjAzNjgyfDApPDw3fHI+Pj4yNSkrbnwwKSZufH5yJm8pK2VbMTNdLTQwMzQxMTAxfDApPDwxMnxpPj4+MjApK3J8MCkmcnx+aSZuKStlWzE0XS0xNTAyMDAyMjkwfDApPDwxN3xvPj4+MTUpK2l8MCkmaXx+byZyKStlWzE1XSsxMjM2NTM1MzI5fDApPDwyMnxuPj4+MTApK298MCxuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG4maXxvJn5pKStlWzFdLTE2NTc5NjUxMHwwKTw8NXxyPj4+MjcpK258MCkmb3xuJn5vKStlWzZdLTEwNjk1MDE2MzJ8MCk8PDl8aT4+PjIzKStyfDApJm58ciZ+bikrZVsxMV0rNjQzNzE3NzEzfDApPDwxNHxvPj4+MTgpK2l8MCkmcnxpJn5yKStlWzBdLTM3Mzg5NzMwMnwwKTw8MjB8bj4+PjEyKStvfDAsbj0oKG4rPSgobz0oKG8rPSgoaT0oKGkrPSgocj0oKHIrPShuJml8byZ+aSkrZVs1XS03MDE1NTg2OTF8MCk8PDV8cj4+PjI3KStufDApJm98biZ+bykrZVsxMF0rMzgwMTYwODN8MCk8PDl8aT4+PjIzKStyfDApJm58ciZ+bikrZVsxNV0tNjYwNDc4MzM1fDApPDwxNHxvPj4+MTgpK2l8MCkmcnxpJn5yKStlWzRdLTQwNTUzNzg0OHwwKTw8MjB8bj4+PjEyKStvfDAsbj0oKG4rPSgobz0oKG8rPSgoaT0oKGkrPSgocj0oKHIrPShuJml8byZ+aSkrZVs5XSs1Njg0NDY0Mzh8MCk8PDV8cj4+PjI3KStufDApJm98biZ+bykrZVsxNF0tMTAxOTgwMzY5MHwwKTw8OXxpPj4+MjMpK3J8MCkmbnxyJn5uKStlWzNdLTE4NzM2Mzk2MXwwKTw8MTR8bz4+PjE4KStpfDApJnJ8aSZ+cikrZVs4XSsxMTYzNTMxNTAxfDApPDwyMHxuPj4+MTIpK298MCxuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG4maXxvJn5pKStlWzEzXS0xNDQ0NjgxNDY3fDApPDw1fHI+Pj4yNykrbnwwKSZvfG4mfm8pK2VbMl0tNTE0MDM3ODR8MCk8PDl8aT4+PjIzKStyfDApJm58ciZ+bikrZVs3XSsxNzM1MzI4NDczfDApPDwxNHxvPj4+MTgpK2l8MCkmcnxpJn5yKStlWzEyXS0xOTI2NjA3NzM0fDApPDwyMHxuPj4+MTIpK298MCxuPSgobis9KChvPSgobys9KChpPSgoaSs9KChyPSgocis9KG5eb15pKStlWzVdLTM3ODU1OHwwKTw8NHxyPj4+MjgpK258MClebl5vKStlWzhdLTIwMjI1NzQ0NjN8MCk8PDExfGk+Pj4yMSkrcnwwKV5yXm4pK2VbMTFdKzE4MzkwMzA1NjJ8MCk8PDE2fG8+Pj4xNikraXwwKV5pXnIpK2VbMTRdLTM1MzA5NTU2fDApPDwyM3xuPj4+OSkrb3wwLG49KChuKz0oKG89KChvKz0oKGk9KChpKz0oKHI9KChyKz0obl5vXmkpK2VbMV0tMTUzMDk5MjA2MHwwKTw8NHxyPj4+MjgpK258MClebl5vKStlWzRdKzEyNzI4OTMzNTN8MCk8PDExfGk+Pj4yMSkrcnwwKV5yXm4pK2VbN10tMTU1NDk3NjMyfDApPDwxNnxvPj4+MTYpK2l8MCleaV5yKStlWzEwXS0xMDk0NzMwNjQwfDApPDwyM3xuPj4+OSkrb3wwLG49KChuKz0oKG89KChvKz0oKGk9KChpKz0oKHI9KChyKz0obl5vXmkpK2VbMTNdKzY4MTI3OTE3NHwwKTw8NHxyPj4+MjgpK258MClebl5vKStlWzBdLTM1ODUzNzIyMnwwKTw8MTF8aT4+PjIxKStyfDApXnJebikrZVszXS03MjI1MjE5Nzl8MCk8PDE2fG8+Pj4xNikraXwwKV5pXnIpK2VbNl0rNzYwMjkxODl8MCk8PDIzfG4+Pj45KStvfDAsbj0oKG4rPSgobz0oKG8rPSgoaT0oKGkrPSgocj0oKHIrPShuXm9eaSkrZVs5XS02NDAzNjQ0ODd8MCk8PDR8cj4+PjI4KStufDApXm5ebykrZVsxMl0tNDIxODE1ODM1fDApPDwxMXxpPj4+MjEpK3J8MClecl5uKStlWzE1XSs1MzA3NDI1MjB8MCk8PDE2fG8+Pj4xNikraXwwKV5pXnIpK2VbMl0tOTk1MzM4NjUxfDApPDwyM3xuPj4+OSkrb3wwLG49KChuKz0oKGk9KChpKz0obl4oKHI9KChyKz0ob14obnx+aSkpK2VbMF0tMTk4NjMwODQ0fDApPDw2fHI+Pj4yNikrbnwwKXx+bykpK2VbN10rMTEyNjg5MTQxNXwwKTw8MTB8aT4+PjIyKStyfDApXigobz0oKG8rPShyXihpfH5uKSkrZVsxNF0tMTQxNjM1NDkwNXwwKTw8MTV8bz4+PjE3KStpfDApfH5yKSkrZVs1XS01NzQzNDA1NXwwKTw8MjF8bj4+PjExKStvfDAsbj0oKG4rPSgoaT0oKGkrPShuXigocj0oKHIrPShvXihufH5pKSkrZVsxMl0rMTcwMDQ4NTU3MXwwKTw8NnxyPj4+MjYpK258MCl8fm8pKStlWzNdLTE4OTQ5ODY2MDZ8MCk8PDEwfGk+Pj4yMikrcnwwKV4oKG89KChvKz0ocl4oaXx+bikpK2VbMTBdLTEwNTE1MjN8MCk8PDE1fG8+Pj4xNykraXwwKXx+cikpK2VbMV0tMjA1NDkyMjc5OXwwKTw8MjF8bj4+PjExKStvfDAsbj0oKG4rPSgoaT0oKGkrPShuXigocj0oKHIrPShvXihufH5pKSkrZVs4XSsxODczMzEzMzU5fDApPDw2fHI+Pj4yNikrbnwwKXx+bykpK2VbMTVdLTMwNjExNzQ0fDApPDwxMHxpPj4+MjIpK3J8MCleKChvPSgobys9KHJeKGl8fm4pKStlWzZdLTE1NjAxOTgzODB8MCk8PDE1fG8+Pj4xNykraXwwKXx+cikpK2VbMTNdKzEzMDkxNTE2NDl8MCk8PDIxfG4+Pj4xMSkrb3wwLG49KChuKz0oKGk9KChpKz0obl4oKHI9KChyKz0ob14obnx+aSkpK2VbNF0tMTQ1NTIzMDcwfDApPDw2fHI+Pj4yNikrbnwwKXx+bykpK2VbMTFdLTExMjAyMTAzNzl8MCk8PDEwfGk+Pj4yMikrcnwwKV4oKG89KChvKz0ocl4oaXx+bikpK2VbMl0rNzE4Nzg3MjU5fDApPDwxNXxvPj4+MTcpK2l8MCl8fnIpKStlWzldLTM0MzQ4NTU1MXwwKTw8MjF8bj4+PjExKStvfDAsdFswXT1yK3RbMF18MCx0WzFdPW4rdFsxXXwwLHRbMl09byt0WzJdfDAsdFszXT1pK3RbM118MH1mdW5jdGlvbiBuKHQpe3ZhciBlLHI9W107Zm9yKGU9MDtlPDY0O2UrPTQpcltlPj4yXT10LmNoYXJDb2RlQXQoZSkrKHQuY2hhckNvZGVBdChlKzEpPDw4KSsodC5jaGFyQ29kZUF0KGUrMik8PDE2KSsodC5jaGFyQ29kZUF0KGUrMyk8PDI0KTtyZXR1cm4gcn1mdW5jdGlvbiBvKHQpe3ZhciBlLHI9W107Zm9yKGU9MDtlPDY0O2UrPTQpcltlPj4yXT10W2VdKyh0W2UrMV08PDgpKyh0W2UrMl08PDE2KSsodFtlKzNdPDwyNCk7cmV0dXJuIHJ9ZnVuY3Rpb24gaSh0KXt2YXIgZSxvLGksYSx1LHMsZj10Lmxlbmd0aCxoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XTtmb3IoZT02NDtlPD1mO2UrPTY0KXIoaCxuKHQuc3Vic3RyaW5nKGUtNjQsZSkpKTtmb3Iobz0odD10LnN1YnN0cmluZyhlLTY0KSkubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdLGU9MDtlPG87ZSs9MSlpW2U+PjJdfD10LmNoYXJDb2RlQXQoZSk8PChlJTQ8PDMpO2lmKGlbZT4+Ml18PTEyODw8KGUlNDw8MyksZT41NSlmb3IocihoLGkpLGU9MDtlPDE2O2UrPTEpaVtlXT0wO3JldHVybiBhPShhPTgqZikudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLHU9cGFyc2VJbnQoYVsyXSwxNikscz1wYXJzZUludChhWzFdLDE2KXx8MCxpWzE0XT11LGlbMTVdPXMscihoLGkpLGh9ZnVuY3Rpb24gYSh0KXt2YXIgZSxuLGksYSx1LHMsZj10Lmxlbmd0aCxoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XTtmb3IoZT02NDtlPD1mO2UrPTY0KXIoaCxvKHQuc3ViYXJyYXkoZS02NCxlKSkpO2ZvcihuPSh0PWUtNjQ8Zj90LnN1YmFycmF5KGUtNjQpOm5ldyBVaW50OEFycmF5KDApKS5sZW5ndGgsaT1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sZT0wO2U8bjtlKz0xKWlbZT4+Ml18PXRbZV08PChlJTQ8PDMpO2lmKGlbZT4+Ml18PTEyODw8KGUlNDw8MyksZT41NSlmb3IocihoLGkpLGU9MDtlPDE2O2UrPTEpaVtlXT0wO3JldHVybiBhPShhPTgqZikudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLHU9cGFyc2VJbnQoYVsyXSwxNikscz1wYXJzZUludChhWzFdLDE2KXx8MCxpWzE0XT11LGlbMTVdPXMscihoLGkpLGh9ZnVuY3Rpb24gdSh0KXt2YXIgcixuPSIiO2ZvcihyPTA7cjw0O3IrPTEpbis9ZVt0Pj44KnIrNCYxNV0rZVt0Pj44KnImMTVdO3JldHVybiBufWZ1bmN0aW9uIHModCl7dmFyIGU7Zm9yKGU9MDtlPHQubGVuZ3RoO2UrPTEpdFtlXT11KHRbZV0pO3JldHVybiB0LmpvaW4oIiIpfWZ1bmN0aW9uIGYodCl7cmV0dXJuL1tcdTAwODAtXHVGRkZGXS8udGVzdCh0KSYmKHQ9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSksdH1mdW5jdGlvbiBoKHQsZSl7dmFyIHIsbj10Lmxlbmd0aCxvPW5ldyBBcnJheUJ1ZmZlcihuKSxpPW5ldyBVaW50OEFycmF5KG8pO2ZvcihyPTA7cjxuO3IrPTEpaVtyXT10LmNoYXJDb2RlQXQocik7cmV0dXJuIGU/aTpvfWZ1bmN0aW9uIGModCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSh0KSl9ZnVuY3Rpb24gbCh0LGUscil7dmFyIG49bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoK2UuYnl0ZUxlbmd0aCk7cmV0dXJuIG4uc2V0KG5ldyBVaW50OEFycmF5KHQpKSxuLnNldChuZXcgVWludDhBcnJheShlKSx0LmJ5dGVMZW5ndGgpLHI/bjpuLmJ1ZmZlcn1mdW5jdGlvbiBwKHQpe3ZhciBlLHI9W10sbj10Lmxlbmd0aDtmb3IoZT0wO2U8bi0xO2UrPTIpci5wdXNoKHBhcnNlSW50KHQuc3Vic3RyKGUsMiksMTYpKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscil9ZnVuY3Rpb24gZCgpe3RoaXMucmVzZXQoKX1yZXR1cm4gcyhpKCJoZWxsbyIpKSwidW5kZWZpbmVkIj09dHlwZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2V8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybih0PTB8dHx8MCk8MD9NYXRoLm1heCh0K2UsMCk6TWF0aC5taW4odCxlKX1BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24ocixuKXt2YXIgbyxpLGEsdSxzPXRoaXMuYnl0ZUxlbmd0aCxmPWUocixzKSxoPXM7cmV0dXJuIG4hPT10JiYoaD1lKG4scykpLGY+aD9uZXcgQXJyYXlCdWZmZXIoMCk6KG89aC1mLGk9bmV3IEFycmF5QnVmZmVyKG8pLGE9bmV3IFVpbnQ4QXJyYXkoaSksdT1uZXcgVWludDhBcnJheSh0aGlzLGYsbyksYS5zZXQodSksaSl9fSgpLGQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcHBlbmRCaW5hcnkoZih0KSksdGhpc30sZC5wcm90b3R5cGUuYXBwZW5kQmluYXJ5PWZ1bmN0aW9uKHQpe3RoaXMuX2J1ZmYrPXQsdGhpcy5fbGVuZ3RoKz10Lmxlbmd0aDt2YXIgZSxvPXRoaXMuX2J1ZmYubGVuZ3RoO2ZvcihlPTY0O2U8PW87ZSs9NjQpcih0aGlzLl9oYXNoLG4odGhpcy5fYnVmZi5zdWJzdHJpbmcoZS02NCxlKSkpO3JldHVybiB0aGlzLl9idWZmPXRoaXMuX2J1ZmYuc3Vic3RyaW5nKGUtNjQpLHRoaXN9LGQucHJvdG90eXBlLmVuZD1mdW5jdGlvbih0KXt2YXIgZSxyLG49dGhpcy5fYnVmZixvPW4ubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdO2ZvcihlPTA7ZTxvO2UrPTEpaVtlPj4yXXw9bi5jaGFyQ29kZUF0KGUpPDwoZSU0PDwzKTtyZXR1cm4gdGhpcy5fZmluaXNoKGksbykscj1zKHRoaXMuX2hhc2gpLHQmJihyPXAocikpLHRoaXMucmVzZXQoKSxyfSxkLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmPSIiLHRoaXMuX2xlbmd0aD0wLHRoaXMuX2hhc2g9WzE3MzI1ODQxOTMsLTI3MTczMzg3OSwtMTczMjU4NDE5NCwyNzE3MzM4NzhdLHRoaXN9LGQucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJue2J1ZmY6dGhpcy5fYnVmZixsZW5ndGg6dGhpcy5fbGVuZ3RoLGhhc2g6dGhpcy5faGFzaC5zbGljZSgpfX0sZC5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2J1ZmY9dC5idWZmLHRoaXMuX2xlbmd0aD10Lmxlbmd0aCx0aGlzLl9oYXNoPXQuaGFzaCx0aGlzfSxkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2hhc2gsZGVsZXRlIHRoaXMuX2J1ZmYsZGVsZXRlIHRoaXMuX2xlbmd0aH0sZC5wcm90b3R5cGUuX2ZpbmlzaD1mdW5jdGlvbih0LGUpe3ZhciBuLG8saSxhPWU7aWYodFthPj4yXXw9MTI4PDwoYSU0PDwzKSxhPjU1KWZvcihyKHRoaXMuX2hhc2gsdCksYT0wO2E8MTY7YSs9MSl0W2FdPTA7bj0obj04KnRoaXMuX2xlbmd0aCkudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLG89cGFyc2VJbnQoblsyXSwxNiksaT1wYXJzZUludChuWzFdLDE2KXx8MCx0WzE0XT1vLHRbMTVdPWkscih0aGlzLl9oYXNoLHQpfSxkLmhhc2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZC5oYXNoQmluYXJ5KGYodCksZSl9LGQuaGFzaEJpbmFyeT1mdW5jdGlvbih0LGUpe3ZhciByPXMoaSh0KSk7cmV0dXJuIGU/cChyKTpyfSxkLkFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSxkLkFycmF5QnVmZmVyLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCl7dmFyIGUsbj1sKHRoaXMuX2J1ZmYuYnVmZmVyLHQsITApLGk9bi5sZW5ndGg7Zm9yKHRoaXMuX2xlbmd0aCs9dC5ieXRlTGVuZ3RoLGU9NjQ7ZTw9aTtlKz02NClyKHRoaXMuX2hhc2gsbyhuLnN1YmFycmF5KGUtNjQsZSkpKTtyZXR1cm4gdGhpcy5fYnVmZj1lLTY0PGk/bmV3IFVpbnQ4QXJyYXkobi5idWZmZXIuc2xpY2UoZS02NCkpOm5ldyBVaW50OEFycmF5KDApLHRoaXN9LGQuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZD1mdW5jdGlvbih0KXt2YXIgZSxyLG49dGhpcy5fYnVmZixvPW4ubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdO2ZvcihlPTA7ZTxvO2UrPTEpaVtlPj4yXXw9bltlXTw8KGUlNDw8Myk7cmV0dXJuIHRoaXMuX2ZpbmlzaChpLG8pLHI9cyh0aGlzLl9oYXNoKSx0JiYocj1wKHIpKSx0aGlzLnJlc2V0KCkscn0sZC5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZj1uZXcgVWludDhBcnJheSgwKSx0aGlzLl9sZW5ndGg9MCx0aGlzLl9oYXNoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XSx0aGlzfSxkLkFycmF5QnVmZmVyLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3ZhciB0PWQucHJvdG90eXBlLmdldFN0YXRlLmNhbGwodGhpcyk7cmV0dXJuIHQuYnVmZj1jKHQuYnVmZiksdH0sZC5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYnVmZj1oKHQuYnVmZiwhMCksZC5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLHQpfSxkLkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95PWQucHJvdG90eXBlLmRlc3Ryb3ksZC5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaD1kLnByb3RvdHlwZS5fZmluaXNoLGQuQXJyYXlCdWZmZXIuaGFzaD1mdW5jdGlvbih0LGUpe3ZhciByPXMoYShuZXcgVWludDhBcnJheSh0KSkpO3JldHVybiBlP3Aocik6cn0sZH0oKX0pKSxvPWUoKGZ1bmN0aW9uKHQsZSl7bGV0IHI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD1mdW5jdGlvbigpe2lmKCFyJiYocj0idW5kZWZpbmVkIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fCJ1bmRlZmluZWQiIT10eXBlb2YgbXNDcnlwdG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSwhcikpdGhyb3cgbmV3IEVycm9yKCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCIpO3JldHVybiByKG4pfTtjb25zdCBuPW5ldyBVaW50OEFycmF5KDE2KX0pKSxpPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7ZS5kZWZhdWx0PS9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaX0pKSxhPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHIsbj0ocj1pKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dmFyIG89ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiZuLmRlZmF1bHQudGVzdCh0KX07ZS5kZWZhdWx0PW99KSksdT1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO3ZhciByLG49KHI9YSkmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9O2NvbnN0IG89W107Zm9yKGxldCB0PTA7dDwyNTY7Kyt0KW8ucHVzaCgodCsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO3ZhciBpPWZ1bmN0aW9uKHQsZT0wKXtjb25zdCByPShvW3RbZSswXV0rb1t0W2UrMV1dK29bdFtlKzJdXStvW3RbZSszXV0rIi0iK29bdFtlKzRdXStvW3RbZSs1XV0rIi0iK29bdFtlKzZdXStvW3RbZSs3XV0rIi0iK29bdFtlKzhdXStvW3RbZSs5XV0rIi0iK29bdFtlKzEwXV0rb1t0W2UrMTFdXStvW3RbZSsxMl1dK29bdFtlKzEzXV0rb1t0W2UrMTRdXStvW3RbZSsxNV1dKS50b0xvd2VyQ2FzZSgpO2lmKCEoMCxuLmRlZmF1bHQpKHIpKXRocm93IFR5cGVFcnJvcigiU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkIik7cmV0dXJuIHJ9O2UuZGVmYXVsdD1pfSkpLHM9byxmPXUsaD1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO3ZhciByPW8ocyksbj1vKGYpO2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fWxldCBpLGEsdT0wLGg9MDt2YXIgYz1mdW5jdGlvbih0LGUsbyl7bGV0IHM9ZSYmb3x8MDtjb25zdCBmPWV8fG5ldyBBcnJheSgxNik7bGV0IGM9KHQ9dHx8e30pLm5vZGV8fGksbD12b2lkIDAhPT10LmNsb2Nrc2VxP3QuY2xvY2tzZXE6YTtpZihudWxsPT1jfHxudWxsPT1sKXtjb25zdCBlPXQucmFuZG9tfHwodC5ybmd8fHIuZGVmYXVsdCkoKTtudWxsPT1jJiYoYz1pPVsxfGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdXSksbnVsbD09bCYmKGw9YT0xNjM4MyYoZVs2XTw8OHxlWzddKSl9bGV0IHA9dm9pZCAwIT09dC5tc2Vjcz90Lm1zZWNzOkRhdGUubm93KCksZD12b2lkIDAhPT10Lm5zZWNzP3QubnNlY3M6aCsxO2NvbnN0IHk9cC11KyhkLWgpLzFlNDtpZih5PDAmJnZvaWQgMD09PXQuY2xvY2tzZXEmJihsPWwrMSYxNjM4MyksKHk8MHx8cD51KSYmdm9pZCAwPT09dC5uc2VjcyYmKGQ9MCksZD49MWU0KXRocm93IG5ldyBFcnJvcigidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMiKTt1PXAsaD1kLGE9bCxwKz0xMjIxOTI5MjhlNTtjb25zdCB2PSgxZTQqKDI2ODQzNTQ1NSZwKStkKSU0Mjk0OTY3Mjk2O2ZbcysrXT12Pj4+MjQmMjU1LGZbcysrXT12Pj4+MTYmMjU1LGZbcysrXT12Pj4+OCYyNTUsZltzKytdPTI1NSZ2O2NvbnN0IGc9cC80Mjk0OTY3Mjk2KjFlNCYyNjg0MzU0NTU7ZltzKytdPWc+Pj44JjI1NSxmW3MrK109MjU1JmcsZltzKytdPWc+Pj4yNCYxNXwxNixmW3MrK109Zz4+PjE2JjI1NSxmW3MrK109bD4+Pjh8MTI4LGZbcysrXT0yNTUmbDtmb3IobGV0IHQ9MDt0PDY7Kyt0KWZbcyt0XT1jW3RdO3JldHVybiBlfHwoMCxuLmRlZmF1bHQpKGYpfTtlLmRlZmF1bHQ9Y30pKSxjPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHIsbj0ocj1hKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dmFyIG89ZnVuY3Rpb24odCl7aWYoISgwLG4uZGVmYXVsdCkodCkpdGhyb3cgVHlwZUVycm9yKCJJbnZhbGlkIFVVSUQiKTtsZXQgZTtjb25zdCByPW5ldyBVaW50OEFycmF5KDE2KTtyZXR1cm4gclswXT0oZT1wYXJzZUludCh0LnNsaWNlKDAsOCksMTYpKT4+PjI0LHJbMV09ZT4+PjE2JjI1NSxyWzJdPWU+Pj44JjI1NSxyWzNdPTI1NSZlLHJbNF09KGU9cGFyc2VJbnQodC5zbGljZSg5LDEzKSwxNikpPj4+OCxyWzVdPTI1NSZlLHJbNl09KGU9cGFyc2VJbnQodC5zbGljZSgxNCwxOCksMTYpKT4+Pjgscls3XT0yNTUmZSxyWzhdPShlPXBhcnNlSW50KHQuc2xpY2UoMTksMjMpLDE2KSk+Pj44LHJbOV09MjU1JmUsclsxMF09KGU9cGFyc2VJbnQodC5zbGljZSgyNCwzNiksMTYpKS8xMDk5NTExNjI3Nzc2JjI1NSxyWzExXT1lLzQyOTQ5NjcyOTYmMjU1LHJbMTJdPWU+Pj4yNCYyNTUsclsxM109ZT4+PjE2JjI1NSxyWzE0XT1lPj4+OCYyNTUsclsxNV09MjU1JmUscn07ZS5kZWZhdWx0PW99KSksbD1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9ZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIHUodCxpLGEsdSl7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD1mdW5jdGlvbih0KXt0PXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7Y29uc3QgZT1bXTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoOysrcillLnB1c2godC5jaGFyQ29kZUF0KHIpKTtyZXR1cm4gZX0odCkpLCJzdHJpbmciPT10eXBlb2YgaSYmKGk9KDAsbi5kZWZhdWx0KShpKSksMTYhPT1pLmxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoIk5hbWVzcGFjZSBtdXN0IGJlIGFycmF5LWxpa2UgKDE2IGl0ZXJhYmxlIGludGVnZXIgdmFsdWVzLCAwLTI1NSkiKTtsZXQgcz1uZXcgVWludDhBcnJheSgxNit0Lmxlbmd0aCk7aWYocy5zZXQoaSkscy5zZXQodCxpLmxlbmd0aCkscz1vKHMpLHNbNl09MTUmc1s2XXxlLHNbOF09NjMmc1s4XXwxMjgsYSl7dT11fHwwO2ZvcihsZXQgdD0wO3Q8MTY7Kyt0KWFbdSt0XT1zW3RdO3JldHVybiBhfXJldHVybigwLHIuZGVmYXVsdCkocyl9dHJ5e3UubmFtZT10fWNhdGNoKHQpe31yZXR1cm4gdS5ETlM9aSx1LlVSTD1hLHV9LGUuVVJMPWUuRE5TPXZvaWQgMDt2YXIgcj1vKGYpLG49byhjKTtmdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX1jb25zdCBpPSI2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgiO2UuRE5TPWk7Y29uc3QgYT0iNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4IjtlLlVSTD1hfSkpLHA9ZSgoZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiAxNCsodCs2ND4+Pjk8PDQpKzF9ZnVuY3Rpb24gbih0LGUpe2NvbnN0IHI9KDY1NTM1JnQpKyg2NTUzNSZlKTtyZXR1cm4odD4+MTYpKyhlPj4xNikrKHI+PjE2KTw8MTZ8NjU1MzUmcn1mdW5jdGlvbiBvKHQsZSxyLG8saSxhKXtyZXR1cm4gbigodT1uKG4oZSx0KSxuKG8sYSkpKTw8KHM9aSl8dT4+PjMyLXMscik7dmFyIHUsc31mdW5jdGlvbiBpKHQsZSxyLG4saSxhLHUpe3JldHVybiBvKGUmcnx+ZSZuLHQsZSxpLGEsdSl9ZnVuY3Rpb24gYSh0LGUscixuLGksYSx1KXtyZXR1cm4gbyhlJm58ciZ+bix0LGUsaSxhLHUpfWZ1bmN0aW9uIHUodCxlLHIsbixpLGEsdSl7cmV0dXJuIG8oZV5yXm4sdCxlLGksYSx1KX1mdW5jdGlvbiBzKHQsZSxyLG4saSxhLHUpe3JldHVybiBvKHJeKGV8fm4pLHQsZSxpLGEsdSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIGY9ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtjb25zdCBlPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7dD1uZXcgVWludDhBcnJheShlLmxlbmd0aCk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpdFtyXT1lLmNoYXJDb2RlQXQocil9cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9W10scj0zMip0Lmxlbmd0aCxuPSIwMTIzNDU2Nzg5YWJjZGVmIjtmb3IobGV0IG89MDtvPHI7bys9OCl7Y29uc3Qgcj10W28+PjVdPj4+byUzMiYyNTUsaT1wYXJzZUludChuLmNoYXJBdChyPj4+NCYxNSkrbi5jaGFyQXQoMTUmciksMTYpO2UucHVzaChpKX1yZXR1cm4gZX0oZnVuY3Rpb24odCxlKXt0W2U+PjVdfD0xMjg8PGUlMzIsdFtyKGUpLTFdPWU7bGV0IG89MTczMjU4NDE5MyxmPS0yNzE3MzM4NzksaD0tMTczMjU4NDE5NCxjPTI3MTczMzg3ODtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTE2KXtjb25zdCByPW8sbD1mLHA9aCxkPWM7bz1pKG8sZixoLGMsdFtlXSw3LC02ODA4NzY5MzYpLGM9aShjLG8sZixoLHRbZSsxXSwxMiwtMzg5NTY0NTg2KSxoPWkoaCxjLG8sZix0W2UrMl0sMTcsNjA2MTA1ODE5KSxmPWkoZixoLGMsbyx0W2UrM10sMjIsLTEwNDQ1MjUzMzApLG89aShvLGYsaCxjLHRbZSs0XSw3LC0xNzY0MTg4OTcpLGM9aShjLG8sZixoLHRbZSs1XSwxMiwxMjAwMDgwNDI2KSxoPWkoaCxjLG8sZix0W2UrNl0sMTcsLTE0NzMyMzEzNDEpLGY9aShmLGgsYyxvLHRbZSs3XSwyMiwtNDU3MDU5ODMpLG89aShvLGYsaCxjLHRbZSs4XSw3LDE3NzAwMzU0MTYpLGM9aShjLG8sZixoLHRbZSs5XSwxMiwtMTk1ODQxNDQxNyksaD1pKGgsYyxvLGYsdFtlKzEwXSwxNywtNDIwNjMpLGY9aShmLGgsYyxvLHRbZSsxMV0sMjIsLTE5OTA0MDQxNjIpLG89aShvLGYsaCxjLHRbZSsxMl0sNywxODA0NjAzNjgyKSxjPWkoYyxvLGYsaCx0W2UrMTNdLDEyLC00MDM0MTEwMSksaD1pKGgsYyxvLGYsdFtlKzE0XSwxNywtMTUwMjAwMjI5MCksZj1pKGYsaCxjLG8sdFtlKzE1XSwyMiwxMjM2NTM1MzI5KSxvPWEobyxmLGgsYyx0W2UrMV0sNSwtMTY1Nzk2NTEwKSxjPWEoYyxvLGYsaCx0W2UrNl0sOSwtMTA2OTUwMTYzMiksaD1hKGgsYyxvLGYsdFtlKzExXSwxNCw2NDM3MTc3MTMpLGY9YShmLGgsYyxvLHRbZV0sMjAsLTM3Mzg5NzMwMiksbz1hKG8sZixoLGMsdFtlKzVdLDUsLTcwMTU1ODY5MSksYz1hKGMsbyxmLGgsdFtlKzEwXSw5LDM4MDE2MDgzKSxoPWEoaCxjLG8sZix0W2UrMTVdLDE0LC02NjA0NzgzMzUpLGY9YShmLGgsYyxvLHRbZSs0XSwyMCwtNDA1NTM3ODQ4KSxvPWEobyxmLGgsYyx0W2UrOV0sNSw1Njg0NDY0MzgpLGM9YShjLG8sZixoLHRbZSsxNF0sOSwtMTAxOTgwMzY5MCksaD1hKGgsYyxvLGYsdFtlKzNdLDE0LC0xODczNjM5NjEpLGY9YShmLGgsYyxvLHRbZSs4XSwyMCwxMTYzNTMxNTAxKSxvPWEobyxmLGgsYyx0W2UrMTNdLDUsLTE0NDQ2ODE0NjcpLGM9YShjLG8sZixoLHRbZSsyXSw5LC01MTQwMzc4NCksaD1hKGgsYyxvLGYsdFtlKzddLDE0LDE3MzUzMjg0NzMpLGY9YShmLGgsYyxvLHRbZSsxMl0sMjAsLTE5MjY2MDc3MzQpLG89dShvLGYsaCxjLHRbZSs1XSw0LC0zNzg1NTgpLGM9dShjLG8sZixoLHRbZSs4XSwxMSwtMjAyMjU3NDQ2MyksaD11KGgsYyxvLGYsdFtlKzExXSwxNiwxODM5MDMwNTYyKSxmPXUoZixoLGMsbyx0W2UrMTRdLDIzLC0zNTMwOTU1Niksbz11KG8sZixoLGMsdFtlKzFdLDQsLTE1MzA5OTIwNjApLGM9dShjLG8sZixoLHRbZSs0XSwxMSwxMjcyODkzMzUzKSxoPXUoaCxjLG8sZix0W2UrN10sMTYsLTE1NTQ5NzYzMiksZj11KGYsaCxjLG8sdFtlKzEwXSwyMywtMTA5NDczMDY0MCksbz11KG8sZixoLGMsdFtlKzEzXSw0LDY4MTI3OTE3NCksYz11KGMsbyxmLGgsdFtlXSwxMSwtMzU4NTM3MjIyKSxoPXUoaCxjLG8sZix0W2UrM10sMTYsLTcyMjUyMTk3OSksZj11KGYsaCxjLG8sdFtlKzZdLDIzLDc2MDI5MTg5KSxvPXUobyxmLGgsYyx0W2UrOV0sNCwtNjQwMzY0NDg3KSxjPXUoYyxvLGYsaCx0W2UrMTJdLDExLC00MjE4MTU4MzUpLGg9dShoLGMsbyxmLHRbZSsxNV0sMTYsNTMwNzQyNTIwKSxmPXUoZixoLGMsbyx0W2UrMl0sMjMsLTk5NTMzODY1MSksbz1zKG8sZixoLGMsdFtlXSw2LC0xOTg2MzA4NDQpLGM9cyhjLG8sZixoLHRbZSs3XSwxMCwxMTI2ODkxNDE1KSxoPXMoaCxjLG8sZix0W2UrMTRdLDE1LC0xNDE2MzU0OTA1KSxmPXMoZixoLGMsbyx0W2UrNV0sMjEsLTU3NDM0MDU1KSxvPXMobyxmLGgsYyx0W2UrMTJdLDYsMTcwMDQ4NTU3MSksYz1zKGMsbyxmLGgsdFtlKzNdLDEwLC0xODk0OTg2NjA2KSxoPXMoaCxjLG8sZix0W2UrMTBdLDE1LC0xMDUxNTIzKSxmPXMoZixoLGMsbyx0W2UrMV0sMjEsLTIwNTQ5MjI3OTkpLG89cyhvLGYsaCxjLHRbZSs4XSw2LDE4NzMzMTMzNTkpLGM9cyhjLG8sZixoLHRbZSsxNV0sMTAsLTMwNjExNzQ0KSxoPXMoaCxjLG8sZix0W2UrNl0sMTUsLTE1NjAxOTgzODApLGY9cyhmLGgsYyxvLHRbZSsxM10sMjEsMTMwOTE1MTY0OSksbz1zKG8sZixoLGMsdFtlKzRdLDYsLTE0NTUyMzA3MCksYz1zKGMsbyxmLGgsdFtlKzExXSwxMCwtMTEyMDIxMDM3OSksaD1zKGgsYyxvLGYsdFtlKzJdLDE1LDcxODc4NzI1OSksZj1zKGYsaCxjLG8sdFtlKzldLDIxLC0zNDM0ODU1NTEpLG89bihvLHIpLGY9bihmLGwpLGg9bihoLHApLGM9bihjLGQpfXJldHVybltvLGYsaCxjXX0oZnVuY3Rpb24odCl7aWYoMD09PXQubGVuZ3RoKXJldHVybltdO2NvbnN0IGU9OCp0Lmxlbmd0aCxuPW5ldyBVaW50MzJBcnJheShyKGUpKTtmb3IobGV0IHI9MDtyPGU7cis9OCluW3I+PjVdfD0oMjU1JnRbci84XSk8PHIlMzI7cmV0dXJuIG59KHQpLDgqdC5sZW5ndGgpKX07ZS5kZWZhdWx0PWZ9KSksZD1sLHk9cCx2PWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHI9byhkKSxuPW8oeSk7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIGk9KDAsci5kZWZhdWx0KSgidjMiLDQ4LG4uZGVmYXVsdCk7ZS5kZWZhdWx0PWl9KSksZz1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO3ZhciByPW8ocyksbj1vKGYpO2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fXZhciBpPWZ1bmN0aW9uKHQsZSxvKXtjb25zdCBpPSh0PXR8fHt9KS5yYW5kb218fCh0LnJuZ3x8ci5kZWZhdWx0KSgpO2lmKGlbNl09MTUmaVs2XXw2NCxpWzhdPTYzJmlbOF18MTI4LGUpe289b3x8MDtmb3IobGV0IHQ9MDt0PDE2OysrdCllW28rdF09aVt0XTtyZXR1cm4gZX1yZXR1cm4oMCxuLmRlZmF1bHQpKGkpfTtlLmRlZmF1bHQ9aX0pKSxiPWUoKGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcih0LGUscixuKXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiBlJnJefmUmbjtjYXNlIDE6Y2FzZSAzOnJldHVybiBlXnJebjtjYXNlIDI6cmV0dXJuIGUmcl5lJm5eciZufX1mdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHQ8PGV8dD4+PjMyLWV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIG89ZnVuY3Rpb24odCl7Y29uc3QgZT1bMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMzM5NTQ2OTc4Ml0sbz1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7Y29uc3QgZT11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpO3Q9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKGUuY2hhckNvZGVBdChyKSl9ZWxzZSBBcnJheS5pc0FycmF5KHQpfHwodD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSk7dC5wdXNoKDEyOCk7Y29uc3QgaT10Lmxlbmd0aC80KzIsYT1NYXRoLmNlaWwoaS8xNiksdT1uZXcgQXJyYXkoYSk7Zm9yKGxldCBlPTA7ZTxhOysrZSl7Y29uc3Qgcj1uZXcgVWludDMyQXJyYXkoMTYpO2ZvcihsZXQgbj0wO248MTY7KytuKXJbbl09dFs2NCplKzQqbl08PDI0fHRbNjQqZSs0Km4rMV08PDE2fHRbNjQqZSs0Km4rMl08PDh8dFs2NCplKzQqbiszXTt1W2VdPXJ9dVthLTFdWzE0XT04Kih0Lmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSx1W2EtMV1bMTRdPU1hdGguZmxvb3IodVthLTFdWzE0XSksdVthLTFdWzE1XT04Kih0Lmxlbmd0aC0xKSY0Mjk0OTY3Mjk1O2ZvcihsZXQgdD0wO3Q8YTsrK3Qpe2NvbnN0IGk9bmV3IFVpbnQzMkFycmF5KDgwKTtmb3IobGV0IGU9MDtlPDE2OysrZSlpW2VdPXVbdF1bZV07Zm9yKGxldCB0PTE2O3Q8ODA7Kyt0KWlbdF09bihpW3QtM11eaVt0LThdXmlbdC0xNF1eaVt0LTE2XSwxKTtsZXQgYT1vWzBdLHM9b1sxXSxmPW9bMl0saD1vWzNdLGM9b1s0XTtmb3IobGV0IHQ9MDt0PDgwOysrdCl7Y29uc3Qgbz1NYXRoLmZsb29yKHQvMjApLHU9bihhLDUpK3IobyxzLGYsaCkrYytlW29dK2lbdF0+Pj4wO2M9aCxoPWYsZj1uKHMsMzApPj4+MCxzPWEsYT11fW9bMF09b1swXSthPj4+MCxvWzFdPW9bMV0rcz4+PjAsb1syXT1vWzJdK2Y+Pj4wLG9bM109b1szXStoPj4+MCxvWzRdPW9bNF0rYz4+PjB9cmV0dXJuW29bMF0+PjI0JjI1NSxvWzBdPj4xNiYyNTUsb1swXT4+OCYyNTUsMjU1Jm9bMF0sb1sxXT4+MjQmMjU1LG9bMV0+PjE2JjI1NSxvWzFdPj44JjI1NSwyNTUmb1sxXSxvWzJdPj4yNCYyNTUsb1syXT4+MTYmMjU1LG9bMl0+PjgmMjU1LDI1NSZvWzJdLG9bM10+PjI0JjI1NSxvWzNdPj4xNiYyNTUsb1szXT4+OCYyNTUsMjU1Jm9bM10sb1s0XT4+MjQmMjU1LG9bNF0+PjE2JjI1NSxvWzRdPj44JjI1NSwyNTUmb1s0XV19O2UuZGVmYXVsdD1vfSkpLHc9YixtPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHI9byhkKSxuPW8odyk7ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19dmFyIGk9KDAsci5kZWZhdWx0KSgidjUiLDgwLG4uZGVmYXVsdCk7ZS5kZWZhdWx0PWl9KSksXz1lKChmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9dm9pZCAwO2UuZGVmYXVsdD0iMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwIn0pKSxBPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdD12b2lkIDA7dmFyIHIsbj0ocj1hKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn07dmFyIG89ZnVuY3Rpb24odCl7aWYoISgwLG4uZGVmYXVsdCkodCkpdGhyb3cgVHlwZUVycm9yKCJJbnZhbGlkIFVVSUQiKTtyZXR1cm4gcGFyc2VJbnQodC5zdWJzdHIoMTQsMSksMTYpfTtlLmRlZmF1bHQ9b30pKSxFPWgsTz12LFM9ZyxNPW0sQj1fLFU9QSxUPWUoKGZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ2MSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwidjMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInY0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ2NSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTklMIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ2ZXJzaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ2YWxpZGF0ZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic3RyaW5naWZ5Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbC5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJwYXJzZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuZGVmYXVsdH19KTt2YXIgcj1kKEUpLG49ZChPKSxvPWQoUyksaT1kKE0pLHU9ZChCKSxzPWQoVSksaD1kKGEpLGw9ZChmKSxwPWQoYyk7ZnVuY3Rpb24gZCh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19fSkpLHg9e3Rlc3Q6e3VybDoiaHR0cHM6Ly9kYXRhZ3JvdXAtcmVwb3J0aW5nLnRlc3Quc2hvcGVlbW9iaWxlLmNvbS9kYXRhIix0b3BpYzoic2NfZnVsbHN0b3J5X3Rlc3RfZXZlbnRzIix0b2tlbjoiZTRkOTc3NzY3MDk1YTY5Y2IwM2RjNGJjMGU1ZWZhMjYifSxsaXZlOnt1cmw6Imh0dHBzOi8vZGF0YWdyb3VwLXJlcG9ydGluZy5zaG9wZWVtb2JpbGUuY29tL2RhdGEiLHRvcGljOiJzY19mdWxsc3RvcnlfbGl2ZV9ldmVudHMiLHRva2VuOiIxNzJkOGY1MmIyNmU1ZDRjMDc3OGQ1M2JmMzU1ODYzMiJ9LHVhdDp7dXJsOiJodHRwczovL2RhdGFncm91cC1yZXBvcnRpbmcudGVzdC5zaG9wZWVtb2JpbGUuY29tL2RhdGEiLHRvcGljOiJzY19mdWxsc3RvcnlfdWF0X2V2ZW50cyIsdG9rZW46IjE3ZmZjNWU3M2RmMzk5Y2MwYWZjOWViMTBhNjEyMzI2In19O3ZhciBqPW5ldyBNYXAsUD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEZvcm1EYXRhfSxJPXt0ZXN0OiJodHRwczovL2Z1bGxzdG9yeS5zZWxsZXItZGF0YS50ZXN0LnNob3BlZS5jb20vYXBpL3YxL3NkayIsbGl2ZToiaHR0cHM6Ly9mdWxsc3Rvcnkuc2VsbGVyLWRhdGEuc2hvcGVlLmNvbS9hcGkvdjEvc2RrIix1YXQ6Imh0dHBzOi8vZnVsbHN0b3J5LnNlbGxlci1kYXRhLnVhdC5zaG9wZWUuY29tL2FwaS92MS9zZGsifSxEPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dDtpZigvXmh0dHAocyk/OlwvXC8vLnRlc3QodCl8fChyPSIiK0lbZV0rdCksci5pbmNsdWRlcygiZGF0YWdyb3VwLXJlcG9ydGluZyIpKXJldHVybiByO3ZhciBvPVQudjQoKSxpPU1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLGE9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuLmhhc2godCtlK3IpfShpLG8sIkRvbnRUZWxsT3RoZXJzIik7cmV0dXJuIHIuc3BsaXQoIj8iKS5sZW5ndGg+MT9yKyImbm9uY2U9IitvKyImdGltZXN0YW1wPSIraSsiJnNpZ249IithOnIrIj9ub25jZT0iK28rIiZ0aW1lc3RhbXA9IitpKyImc2lnbj0iK2F9LEM9ZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYodC5vaylyZXR1cm4gdC50ZXh0KCkudGhlbigoZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9SlNPTi5wYXJzZSh0KTtyZXR1cm4gMCE9PWUuY29kZT9jb25zb2xlLmVycm9yKGUpOmV9fSkpLmNhdGNoKChmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmVycm9yKCJwYXJzZSBlcnJvciIpfSkpO3ZhciBlPVJlZmxlY3QuaGFzKHQsInN0YXR1cyIpJiZSZWZsZWN0Lmhhcyh0LCJzdGF0dXNUZXh0Iik/dC5zdGF0dXMrIjoiK3Quc3RhdHVzVGV4dDoidW5rbm93biBlcnJvciI7Y29uc29sZS5lcnJvcihlKX0odCl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2NvbnNvbGUuZXJyb3IodCl9KSl9LGs9ZnVuY3Rpb24odCl7dmFyIGU9ai5nZXQodC5ndWFyYW50ZWVJZCk7ITE9PT0obnVsbD09ZT92b2lkIDA6ZS5zaWduYWwuYWJvcnRlZCkmJmUuYWJvcnQoKTt2YXIgcj1uZXcgQWJvcnRDb250cm9sbGVyO3JldHVybiBqLnNldCh0Lmd1YXJhbnRlZUlkLHIpLHQuc2lnbmFsPXIuc2lnbmFsLHtjb250cm9sbGVyOnIsZ3VhcmFudGVlOmp9fTtlKChmdW5jdGlvbih0LGUpeyFmdW5jdGlvbih0KXt2YXIgZT0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXN8fCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZnx8dm9pZCAwIT09ZSYmZSxyPXtzZWFyY2hQYXJhbXM6IlVSTFNlYXJjaFBhcmFtcyJpbiBlLGl0ZXJhYmxlOiJTeW1ib2wiaW4gZSYmIml0ZXJhdG9yImluIFN5bWJvbCxibG9iOiJGaWxlUmVhZGVyImluIGUmJiJCbG9iImluIGUmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgQmxvYiwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZm9ybURhdGE6IkZvcm1EYXRhImluIGUsYXJyYXlCdWZmZXI6IkFycmF5QnVmZmVyImluIGV9O2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJkRhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpfWlmKHIuYXJyYXlCdWZmZXIpdmFyIG89WyJbb2JqZWN0IEludDhBcnJheV0iLCJbb2JqZWN0IFVpbnQ4QXJyYXldIiwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iLCJbb2JqZWN0IEludDE2QXJyYXldIiwiW29iamVjdCBVaW50MTZBcnJheV0iLCJbb2JqZWN0IEludDMyQXJyYXldIiwiW29iamVjdCBVaW50MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLCJbb2JqZWN0IEZsb2F0NjRBcnJheV0iXSxpPUFycmF5QnVmZmVyLmlzVmlld3x8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJm8uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpPi0xfTtmdW5jdGlvbiBhKHQpe2lmKCJzdHJpbmciIT10eXBlb2YgdCYmKHQ9U3RyaW5nKHQpKSwvW15hLXowLTlcLSMkJSYnKisuXl9gfH4hXS9pLnRlc3QodCl8fCIiPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZTogIicrdCsnIicpO3JldHVybiB0LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJih0PVN0cmluZyh0KSksdH1mdW5jdGlvbiBzKHQpe3ZhciBlPXtuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dC5zaGlmdCgpO3JldHVybntkb25lOnZvaWQgMD09PWUsdmFsdWU6ZX19fTtyZXR1cm4gci5pdGVyYWJsZSYmKGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBlfSksZX1mdW5jdGlvbiBmKHQpe3RoaXMubWFwPXt9LHQgaW5zdGFuY2VvZiBmP3QuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0aGlzLmFwcGVuZChlLHQpfSksdGhpcyk6QXJyYXkuaXNBcnJheSh0KT90LmZvckVhY2goKGZ1bmN0aW9uKHQpe3RoaXMuYXBwZW5kKHRbMF0sdFsxXSl9KSx0aGlzKTp0JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt0aGlzLmFwcGVuZChlLHRbZV0pfSksdGhpcyl9ZnVuY3Rpb24gaCh0KXtpZih0LmJvZHlVc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKSk7dC5ib2R5VXNlZD0hMH1mdW5jdGlvbiBjKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxyKXt0Lm9ubG9hZD1mdW5jdGlvbigpe2UodC5yZXN1bHQpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyKHQuZXJyb3IpfX0pKX1mdW5jdGlvbiBsKHQpe3ZhciBlPW5ldyBGaWxlUmVhZGVyLHI9YyhlKTtyZXR1cm4gZS5yZWFkQXNBcnJheUJ1ZmZlcih0KSxyfWZ1bmN0aW9uIHAodCl7dmFyIGU9bmV3IEZpbGVSZWFkZXIscj1jKGUpO3JldHVybiBlLnJlYWRBc1RleHQodCkscn1mdW5jdGlvbiBkKHQpe2Zvcih2YXIgZT1uZXcgVWludDhBcnJheSh0KSxyPW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248ZS5sZW5ndGg7bisrKXJbbl09U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gci5qb2luKCIiKX1mdW5jdGlvbiB5KHQpe2lmKHQuc2xpY2UpcmV0dXJuIHQuc2xpY2UoMCk7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoKTtyZXR1cm4gZS5zZXQobmV3IFVpbnQ4QXJyYXkodCkpLGUuYnVmZmVyfWZ1bmN0aW9uIHYoKXtyZXR1cm4gdGhpcy5ib2R5VXNlZD0hMSx0aGlzLl9pbml0Qm9keT1mdW5jdGlvbih0KXt0aGlzLmJvZHlVc2VkPXRoaXMuYm9keVVzZWQsdGhpcy5fYm9keUluaXQ9dCx0PyJzdHJpbmciPT10eXBlb2YgdD90aGlzLl9ib2R5VGV4dD10OnIuYmxvYiYmQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KT90aGlzLl9ib2R5QmxvYj10OnIuZm9ybURhdGEmJkZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpP3RoaXMuX2JvZHlGb3JtRGF0YT10OnIuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCk/dGhpcy5fYm9keVRleHQ9dC50b1N0cmluZygpOnIuYXJyYXlCdWZmZXImJnIuYmxvYiYmbih0KT8odGhpcy5fYm9keUFycmF5QnVmZmVyPXkodC5idWZmZXIpLHRoaXMuX2JvZHlJbml0PW5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk6ci5hcnJheUJ1ZmZlciYmKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpfHxpKHQpKT90aGlzLl9ib2R5QXJyYXlCdWZmZXI9eSh0KTp0aGlzLl9ib2R5VGV4dD10PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTp0aGlzLl9ib2R5VGV4dD0iIix0aGlzLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKXx8KCJzdHJpbmciPT10eXBlb2YgdD90aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgiKTp0aGlzLl9ib2R5QmxvYiYmdGhpcy5fYm9keUJsb2IudHlwZT90aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLHRoaXMuX2JvZHlCbG9iLnR5cGUpOnIuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCkmJnRoaXMuaGVhZGVycy5zZXQoImNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04IikpfSxyLmJsb2ImJih0aGlzLmJsb2I9ZnVuY3Rpb24oKXt2YXIgdD1oKHRoaXMpO2lmKHQpcmV0dXJuIHQ7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYik7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTtpZih0aGlzLl9ib2R5Rm9ybURhdGEpdGhyb3cgbmV3IEVycm9yKCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2IiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKX0sdGhpcy5hcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcil7dmFyIHQ9aCh0aGlzKTtyZXR1cm4gdHx8KEFycmF5QnVmZmVyLmlzVmlldyh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpP1Byb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIuYnVmZmVyLnNsaWNlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlT2Zmc2V0LHRoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlT2Zmc2V0K3RoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKSk6UHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpfXJldHVybiB0aGlzLmJsb2IoKS50aGVuKGwpfSksdGhpcy50ZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9aCh0aGlzKTtpZih0KXJldHVybiB0O2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBwKHRoaXMuX2JvZHlCbG9iKTtpZih0aGlzLl9ib2R5QXJyYXlCdWZmZXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShkKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpO2lmKHRoaXMuX2JvZHlGb3JtRGF0YSl0aHJvdyBuZXcgRXJyb3IoImNvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpfSxyLmZvcm1EYXRhJiYodGhpcy5mb3JtRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQoKS50aGVuKG0pfSksdGhpcy5qc29uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSl9LHRoaXN9Zi5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQsZSl7dD1hKHQpLGU9dShlKTt2YXIgcj10aGlzLm1hcFt0XTt0aGlzLm1hcFt0XT1yP3IrIiwgIitlOmV9LGYucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5tYXBbYSh0KV19LGYucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdD1hKHQpLHRoaXMuaGFzKHQpP3RoaXMubWFwW3RdOm51bGx9LGYucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkoYSh0KSl9LGYucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMubWFwW2EodCldPXUoZSl9LGYucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gdGhpcy5tYXApdGhpcy5tYXAuaGFzT3duUHJvcGVydHkocikmJnQuY2FsbChlLHRoaXMubWFwW3JdLHIsdGhpcyl9LGYucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3QucHVzaChyKX0pKSxzKHQpfSxmLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goZSl9KSkscyh0KX0sZi5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dC5wdXNoKFtyLGVdKX0pKSxzKHQpfSxyLml0ZXJhYmxlJiYoZi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mLnByb3RvdHlwZS5lbnRyaWVzKTt2YXIgZz1bIkRFTEVURSIsIkdFVCIsIkhFQUQiLCJPUFRJT05TIiwiUE9TVCIsIlBVVCJdO2Z1bmN0aW9uIGIodCl7dmFyIGU9dC50b1VwcGVyQ2FzZSgpO3JldHVybiBnLmluZGV4T2YoZSk+LTE/ZTp0fWZ1bmN0aW9uIHcodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiB3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdQbGVhc2UgdXNlIHRoZSAibmV3IiBvcGVyYXRvciwgdGhpcyBET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4nKTt2YXIgcj0oZT1lfHx7fSkuYm9keTtpZih0IGluc3RhbmNlb2Ygdyl7aWYodC5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKCJBbHJlYWR5IHJlYWQiKTt0aGlzLnVybD10LnVybCx0aGlzLmNyZWRlbnRpYWxzPXQuY3JlZGVudGlhbHMsZS5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyBmKHQuaGVhZGVycykpLHRoaXMubWV0aG9kPXQubWV0aG9kLHRoaXMubW9kZT10Lm1vZGUsdGhpcy5zaWduYWw9dC5zaWduYWwscnx8bnVsbD09dC5fYm9keUluaXR8fChyPXQuX2JvZHlJbml0LHQuYm9keVVzZWQ9ITApfWVsc2UgdGhpcy51cmw9U3RyaW5nKHQpO2lmKHRoaXMuY3JlZGVudGlhbHM9ZS5jcmVkZW50aWFsc3x8dGhpcy5jcmVkZW50aWFsc3x8InNhbWUtb3JpZ2luIiwhZS5oZWFkZXJzJiZ0aGlzLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IGYoZS5oZWFkZXJzKSksdGhpcy5tZXRob2Q9YihlLm1ldGhvZHx8dGhpcy5tZXRob2R8fCJHRVQiKSx0aGlzLm1vZGU9ZS5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9ZS5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwoIkdFVCI9PT10aGlzLm1ldGhvZHx8IkhFQUQiPT09dGhpcy5tZXRob2QpJiZyKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzIik7aWYodGhpcy5faW5pdEJvZHkociksISgiR0VUIiE9PXRoaXMubWV0aG9kJiYiSEVBRCIhPT10aGlzLm1ldGhvZHx8Im5vLXN0b3JlIiE9PWUuY2FjaGUmJiJuby1jYWNoZSIhPT1lLmNhY2hlKSl7dmFyIG49LyhbPyZdKV89W14mXSovO2lmKG4udGVzdCh0aGlzLnVybCkpdGhpcy51cmw9dGhpcy51cmwucmVwbGFjZShuLCIkMV89IisobmV3IERhdGUpLmdldFRpbWUoKSk7ZWxzZXt2YXIgbz0vXD8vO3RoaXMudXJsKz0oby50ZXN0KHRoaXMudXJsKT8iJiI6Ij8iKSsiXz0iKyhuZXcgRGF0ZSkuZ2V0VGltZSgpfX19ZnVuY3Rpb24gbSh0KXt2YXIgZT1uZXcgRm9ybURhdGE7cmV0dXJuIHQudHJpbSgpLnNwbGl0KCImIikuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYodCl7dmFyIHI9dC5zcGxpdCgiPSIpLG49ci5zaGlmdCgpLnJlcGxhY2UoL1wrL2csIiAiKSxvPXIuam9pbigiPSIpLnJlcGxhY2UoL1wrL2csIiAiKTtlLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobiksZGVjb2RlVVJJQ29tcG9uZW50KG8pKX19KSksZX1mdW5jdGlvbiBfKHQpe3ZhciBlPW5ldyBmO3JldHVybiB0LnJlcGxhY2UoL1xyP1xuW1x0IF0rL2csIiAiKS5zcGxpdCgiXHIiKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5pbmRleE9mKCJcbiIpP3Quc3Vic3RyKDEsdC5sZW5ndGgpOnR9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9dC5zcGxpdCgiOiIpLG49ci5zaGlmdCgpLnRyaW0oKTtpZihuKXt2YXIgbz1yLmpvaW4oIjoiKS50cmltKCk7ZS5hcHBlbmQobixvKX19KSksZX1mdW5jdGlvbiBBKHQsZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgQSkpdGhyb3cgbmV3IFR5cGVFcnJvcignUGxlYXNlIHVzZSB0aGUgIm5ldyIgb3BlcmF0b3IsIHRoaXMgRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJyk7ZXx8KGU9e30pLHRoaXMudHlwZT0iZGVmYXVsdCIsdGhpcy5zdGF0dXM9dm9pZCAwPT09ZS5zdGF0dXM/MjAwOmUuc3RhdHVzLHRoaXMub2s9dGhpcy5zdGF0dXM+PTIwMCYmdGhpcy5zdGF0dXM8MzAwLHRoaXMuc3RhdHVzVGV4dD12b2lkIDA9PT1lLnN0YXR1c1RleHQ/IiI6IiIrZS5zdGF0dXNUZXh0LHRoaXMuaGVhZGVycz1uZXcgZihlLmhlYWRlcnMpLHRoaXMudXJsPWUudXJsfHwiIix0aGlzLl9pbml0Qm9keSh0KX13LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdyh0aGlzLHtib2R5OnRoaXMuX2JvZHlJbml0fSl9LHYuY2FsbCh3LnByb3RvdHlwZSksdi5jYWxsKEEucHJvdG90eXBlKSxBLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgQSh0aGlzLl9ib2R5SW5pdCx7c3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6dGhpcy5zdGF0dXNUZXh0LGhlYWRlcnM6bmV3IGYodGhpcy5oZWFkZXJzKSx1cmw6dGhpcy51cmx9KX0sQS5lcnJvcj1mdW5jdGlvbigpe3ZhciB0PW5ldyBBKG51bGwse3N0YXR1czowLHN0YXR1c1RleHQ6IiJ9KTtyZXR1cm4gdC50eXBlPSJlcnJvciIsdH07dmFyIEU9WzMwMSwzMDIsMzAzLDMwNywzMDhdO0EucmVkaXJlY3Q9ZnVuY3Rpb24odCxlKXtpZigtMT09PUUuaW5kZXhPZihlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBzdGF0dXMgY29kZSIpO3JldHVybiBuZXcgQShudWxsLHtzdGF0dXM6ZSxoZWFkZXJzOntsb2NhdGlvbjp0fX0pfSx0LkRPTUV4Y2VwdGlvbj1lLkRPTUV4Y2VwdGlvbjt0cnl7bmV3IHQuRE9NRXhjZXB0aW9ufWNhdGNoKGUpe3QuRE9NRXhjZXB0aW9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5tZXNzYWdlPXQsdGhpcy5uYW1lPWU7dmFyIHI9RXJyb3IodCk7dGhpcy5zdGFjaz1yLnN0YWNrfSx0LkRPTUV4Y2VwdGlvbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLHQuRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LkRPTUV4Y2VwdGlvbn1mdW5jdGlvbiBPKG4sbyl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLGEpe3ZhciBzPW5ldyB3KG4sbyk7aWYocy5zaWduYWwmJnMuc2lnbmFsLmFib3J0ZWQpcmV0dXJuIGEobmV3IHQuRE9NRXhjZXB0aW9uKCJBYm9ydGVkIiwiQWJvcnRFcnJvciIpKTt2YXIgaD1uZXcgWE1MSHR0cFJlcXVlc3Q7ZnVuY3Rpb24gYygpe2guYWJvcnQoKX1mdW5jdGlvbiBsKHQpe3RyeXtyZXR1cm4iIj09PXQmJmUubG9jYXRpb24uaHJlZj9lLmxvY2F0aW9uLmhyZWY6dH1jYXRjaChlKXtyZXR1cm4gdH19aC5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD17c3RhdHVzOmguc3RhdHVzLHN0YXR1c1RleHQ6aC5zdGF0dXNUZXh0LGhlYWRlcnM6XyhoLmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHwiIil9O3QudXJsPSJyZXNwb25zZVVSTCJpbiBoP2gucmVzcG9uc2VVUkw6dC5oZWFkZXJzLmdldCgiWC1SZXF1ZXN0LVVSTCIpO3ZhciBlPSJyZXNwb25zZSJpbiBoP2gucmVzcG9uc2U6aC5yZXNwb25zZVRleHQ7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpKG5ldyBBKGUsdCkpfSksMCl9LGgub25lcnJvcj1mdW5jdGlvbigpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YShuZXcgVHlwZUVycm9yKCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkIikpfSksMCl9LGgub250aW1lb3V0PWZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXthKG5ldyBUeXBlRXJyb3IoIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQiKSl9KSwwKX0saC5vbmFib3J0PWZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXthKG5ldyB0LkRPTUV4Y2VwdGlvbigiQWJvcnRlZCIsIkFib3J0RXJyb3IiKSl9KSwwKX0saC5vcGVuKHMubWV0aG9kLGwocy51cmwpLCEwKSwiaW5jbHVkZSI9PT1zLmNyZWRlbnRpYWxzP2gud2l0aENyZWRlbnRpYWxzPSEwOiJvbWl0Ij09PXMuY3JlZGVudGlhbHMmJihoLndpdGhDcmVkZW50aWFscz0hMSksInJlc3BvbnNlVHlwZSJpbiBoJiYoci5ibG9iP2gucmVzcG9uc2VUeXBlPSJibG9iIjpyLmFycmF5QnVmZmVyJiZzLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKSYmLTEhPT1zLmhlYWRlcnMuZ2V0KCJDb250ZW50LVR5cGUiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKSYmKGgucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIpKSwhb3x8Im9iamVjdCIhPXR5cGVvZiBvLmhlYWRlcnN8fG8uaGVhZGVycyBpbnN0YW5jZW9mIGY/cy5oZWFkZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7aC5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoby5oZWFkZXJzKS5mb3JFYWNoKChmdW5jdGlvbih0KXtoLnNldFJlcXVlc3RIZWFkZXIodCx1KG8uaGVhZGVyc1t0XSkpfSkpLHMuc2lnbmFsJiYocy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLGMpLGgub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWgucmVhZHlTdGF0ZSYmcy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWJvcnQiLGMpfSksaC5zZW5kKHZvaWQgMD09PXMuX2JvZHlJbml0P251bGw6cy5fYm9keUluaXQpfSkpfU8ucG9seWZpbGw9ITAsZS5mZXRjaHx8KGUuZmV0Y2g9TyxlLkhlYWRlcnM9ZixlLlJlcXVlc3Q9dyxlLlJlc3BvbnNlPUEpLHQuSGVhZGVycz1mLHQuUmVxdWVzdD13LHQuUmVzcG9uc2U9QSx0LmZldGNoPU8sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfShlKX0pKSxlKChmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0PTFlMyxlPTZlNCxyPTM2ZTUsbj0ibWlsbGlzZWNvbmQiLG89InNlY29uZCIsaT0ibWludXRlIixhPSJob3VyIix1PSJkYXkiLHM9IndlZWsiLGY9Im1vbnRoIixoPSJxdWFydGVyIixjPSJ5ZWFyIixsPSJkYXRlIixwPSJJbnZhbGlkIERhdGUiLGQ9L14oXGR7NH0pWy0vXT8oXGR7MSwyfSk/Wy0vXT8oXGR7MCwyfSlbVHRcc10qKFxkezEsMn0pPzo/KFxkezEsMn0pPzo/KFxkezEsMn0pP1suOl0/KFxkKyk/JC8seT0vXFsoW15cXV0rKV18WXsxLDR9fE17MSw0fXxEezEsMn18ZHsxLDR9fEh7MSwyfXxoezEsMn18YXxBfG17MSwyfXxzezEsMn18WnsxLDJ9fFNTUy9nLHY9e25hbWU6ImVuIix3ZWVrZGF5czoiU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXkiLnNwbGl0KCJfIiksbW9udGhzOiJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyIi5zcGxpdCgiXyIpfSxnPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1TdHJpbmcodCk7cmV0dXJuIW58fG4ubGVuZ3RoPj1lP3Q6IiIrQXJyYXkoZSsxLW4ubGVuZ3RoKS5qb2luKHIpK3R9LGI9e3M6Zyx6OmZ1bmN0aW9uKHQpe3ZhciBlPS10LnV0Y09mZnNldCgpLHI9TWF0aC5hYnMoZSksbj1NYXRoLmZsb29yKHIvNjApLG89ciU2MDtyZXR1cm4oZTw9MD8iKyI6Ii0iKStnKG4sMiwiMCIpKyI6IitnKG8sMiwiMCIpfSxtOmZ1bmN0aW9uIHQoZSxyKXtpZihlLmRhdGUoKTxyLmRhdGUoKSlyZXR1cm4tdChyLGUpO3ZhciBuPTEyKihyLnllYXIoKS1lLnllYXIoKSkrKHIubW9udGgoKS1lLm1vbnRoKCkpLG89ZS5jbG9uZSgpLmFkZChuLGYpLGk9ci1vPDAsYT1lLmNsb25lKCkuYWRkKG4rKGk/LTE6MSksZik7cmV0dXJuKygtKG4rKHItbykvKGk/by1hOmEtbykpfHwwKX0sYTpmdW5jdGlvbih0KXtyZXR1cm4gdDwwP01hdGguY2VpbCh0KXx8MDpNYXRoLmZsb29yKHQpfSxwOmZ1bmN0aW9uKHQpe3JldHVybntNOmYseTpjLHc6cyxkOnUsRDpsLGg6YSxtOmksczpvLG1zOm4sUTpofVt0XXx8U3RyaW5nKHR8fCIiKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL3MkLywiIil9LHU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXR9fSx3PSJlbiIsbT17fTttW3ddPXY7dmFyIF89ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBTfSxBPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbjtpZighdClyZXR1cm4gdztpZigic3RyaW5nIj09dHlwZW9mIHQpbVt0XSYmKG49dCksZSYmKG1bdF09ZSxuPXQpO2Vsc2V7dmFyIG89dC5uYW1lO21bb109dCxuPW99cmV0dXJuIXImJm4mJih3PW4pLG58fCFyJiZ3fSxFPWZ1bmN0aW9uKHQsZSl7aWYoXyh0KSlyZXR1cm4gdC5jbG9uZSgpO3ZhciByPSJvYmplY3QiPT10eXBlb2YgZT9lOnt9O3JldHVybiByLmRhdGU9dCxyLmFyZ3M9YXJndW1lbnRzLG5ldyBTKHIpfSxPPWI7Ty5sPUEsTy5pPV8sTy53PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEUodCx7bG9jYWxlOmUuJEwsdXRjOmUuJHUseDplLiR4LCRvZmZzZXQ6ZS4kb2Zmc2V0fSl9O3ZhciBTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdih0KXt0aGlzLiRMPUEodC5sb2NhbGUsbnVsbCwhMCksdGhpcy5wYXJzZSh0KX12YXIgZz12LnByb3RvdHlwZTtyZXR1cm4gZy5wYXJzZT1mdW5jdGlvbih0KXt0aGlzLiRkPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0ZSxyPXQudXRjO2lmKG51bGw9PT1lKXJldHVybiBuZXcgRGF0ZShOYU4pO2lmKE8udShlKSlyZXR1cm4gbmV3IERhdGU7aWYoZSBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIS9aJC9pLnRlc3QoZSkpe3ZhciBuPWUubWF0Y2goZCk7aWYobil7dmFyIG89blsyXS0xfHwwLGk9KG5bN118fCIwIikuc3Vic3RyaW5nKDAsMyk7cmV0dXJuIHI/bmV3IERhdGUoRGF0ZS5VVEMoblsxXSxvLG5bM118fDEsbls0XXx8MCxuWzVdfHwwLG5bNl18fDAsaSkpOm5ldyBEYXRlKG5bMV0sbyxuWzNdfHwxLG5bNF18fDAsbls1XXx8MCxuWzZdfHwwLGkpfX1yZXR1cm4gbmV3IERhdGUoZSl9KHQpLHRoaXMuJHg9dC54fHx7fSx0aGlzLmluaXQoKX0sZy5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kZDt0aGlzLiR5PXQuZ2V0RnVsbFllYXIoKSx0aGlzLiRNPXQuZ2V0TW9udGgoKSx0aGlzLiREPXQuZ2V0RGF0ZSgpLHRoaXMuJFc9dC5nZXREYXkoKSx0aGlzLiRIPXQuZ2V0SG91cnMoKSx0aGlzLiRtPXQuZ2V0TWludXRlcygpLHRoaXMuJHM9dC5nZXRTZWNvbmRzKCksdGhpcy4kbXM9dC5nZXRNaWxsaXNlY29uZHMoKX0sZy4kdXRpbHM9ZnVuY3Rpb24oKXtyZXR1cm4gT30sZy5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLiRkLnRvU3RyaW5nKCk9PT1wKX0sZy5pc1NhbWU9ZnVuY3Rpb24odCxlKXt2YXIgcj1FKHQpO3JldHVybiB0aGlzLnN0YXJ0T2YoZSk8PXImJnI8PXRoaXMuZW5kT2YoZSl9LGcuaXNBZnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBFKHQpPHRoaXMuc3RhcnRPZihlKX0sZy5pc0JlZm9yZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmVuZE9mKGUpPEUodCl9LGcuJGc9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBPLnUodCk/dGhpc1tlXTp0aGlzLnNldChyLHQpfSxnLnVuaXg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKS8xZTMpfSxnLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC5nZXRUaW1lKCl9LGcuc3RhcnRPZj1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMsbj0hIU8udShlKXx8ZSxoPU8ucCh0KSxwPWZ1bmN0aW9uKHQsZSl7dmFyIG89Ty53KHIuJHU/RGF0ZS5VVEMoci4keSxlLHQpOm5ldyBEYXRlKHIuJHksZSx0KSxyKTtyZXR1cm4gbj9vOm8uZW5kT2YodSl9LGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTy53KHIudG9EYXRlKClbdF0uYXBwbHkoci50b0RhdGUoInMiKSwobj9bMCwwLDAsMF06WzIzLDU5LDU5LDk5OV0pLnNsaWNlKGUpKSxyKX0seT10aGlzLiRXLHY9dGhpcy4kTSxnPXRoaXMuJEQsYj0ic2V0IisodGhpcy4kdT8iVVRDIjoiIik7c3dpdGNoKGgpe2Nhc2UgYzpyZXR1cm4gbj9wKDEsMCk6cCgzMSwxMSk7Y2FzZSBmOnJldHVybiBuP3AoMSx2KTpwKDAsdisxKTtjYXNlIHM6dmFyIHc9dGhpcy4kbG9jYWxlKCkud2Vla1N0YXJ0fHwwLG09KHk8dz95Kzc6eSktdztyZXR1cm4gcChuP2ctbTpnKyg2LW0pLHYpO2Nhc2UgdTpjYXNlIGw6cmV0dXJuIGQoYisiSG91cnMiLDApO2Nhc2UgYTpyZXR1cm4gZChiKyJNaW51dGVzIiwxKTtjYXNlIGk6cmV0dXJuIGQoYisiU2Vjb25kcyIsMik7Y2FzZSBvOnJldHVybiBkKGIrIk1pbGxpc2Vjb25kcyIsMyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbG9uZSgpfX0sZy5lbmRPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFydE9mKHQsITEpfSxnLiRzZXQ9ZnVuY3Rpb24odCxlKXt2YXIgcixzPU8ucCh0KSxoPSJzZXQiKyh0aGlzLiR1PyJVVEMiOiIiKSxwPShyPXt9LHJbdV09aCsiRGF0ZSIscltsXT1oKyJEYXRlIixyW2ZdPWgrIk1vbnRoIixyW2NdPWgrIkZ1bGxZZWFyIixyW2FdPWgrIkhvdXJzIixyW2ldPWgrIk1pbnV0ZXMiLHJbb109aCsiU2Vjb25kcyIscltuXT1oKyJNaWxsaXNlY29uZHMiLHIpW3NdLGQ9cz09PXU/dGhpcy4kRCsoZS10aGlzLiRXKTplO2lmKHM9PT1mfHxzPT09Yyl7dmFyIHk9dGhpcy5jbG9uZSgpLnNldChsLDEpO3kuJGRbcF0oZCkseS5pbml0KCksdGhpcy4kZD15LnNldChsLE1hdGgubWluKHRoaXMuJEQseS5kYXlzSW5Nb250aCgpKSkuJGR9ZWxzZSBwJiZ0aGlzLiRkW3BdKGQpO3JldHVybiB0aGlzLmluaXQoKSx0aGlzfSxnLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNsb25lKCkuJHNldCh0LGUpfSxnLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1tPLnAodCldKCl9LGcuYWRkPWZ1bmN0aW9uKG4saCl7dmFyIGwscD10aGlzO249TnVtYmVyKG4pO3ZhciBkPU8ucChoKSx5PWZ1bmN0aW9uKHQpe3ZhciBlPUUocCk7cmV0dXJuIE8udyhlLmRhdGUoZS5kYXRlKCkrTWF0aC5yb3VuZCh0Km4pKSxwKX07aWYoZD09PWYpcmV0dXJuIHRoaXMuc2V0KGYsdGhpcy4kTStuKTtpZihkPT09YylyZXR1cm4gdGhpcy5zZXQoYyx0aGlzLiR5K24pO2lmKGQ9PT11KXJldHVybiB5KDEpO2lmKGQ9PT1zKXJldHVybiB5KDcpO3ZhciB2PShsPXt9LGxbaV09ZSxsW2FdPXIsbFtvXT10LGwpW2RdfHwxLGc9dGhpcy4kZC5nZXRUaW1lKCkrbip2O3JldHVybiBPLncoZyx0aGlzKX0sZy5zdWJ0cmFjdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZCgtMSp0LGUpfSxnLmZvcm1hdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9dGhpcy4kbG9jYWxlKCk7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiByLmludmFsaWREYXRlfHxwO3ZhciBuPXR8fCJZWVlZLU1NLUREVEhIOm1tOnNzWiIsbz1PLnoodGhpcyksaT10aGlzLiRILGE9dGhpcy4kbSx1PXRoaXMuJE0scz1yLndlZWtkYXlzLGY9ci5tb250aHMsaD1mdW5jdGlvbih0LHIsbyxpKXtyZXR1cm4gdCYmKHRbcl18fHQoZSxuKSl8fG9bcl0uc3Vic3RyKDAsaSl9LGM9ZnVuY3Rpb24odCl7cmV0dXJuIE8ucyhpJTEyfHwxMix0LCIwIil9LGw9ci5tZXJpZGllbXx8ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXQ8MTI/IkFNIjoiUE0iO3JldHVybiByP24udG9Mb3dlckNhc2UoKTpufSxkPXtZWTpTdHJpbmcodGhpcy4keSkuc2xpY2UoLTIpLFlZWVk6dGhpcy4keSxNOnUrMSxNTTpPLnModSsxLDIsIjAiKSxNTU06aChyLm1vbnRoc1Nob3J0LHUsZiwzKSxNTU1NOmgoZix1KSxEOnRoaXMuJEQsREQ6Ty5zKHRoaXMuJEQsMiwiMCIpLGQ6U3RyaW5nKHRoaXMuJFcpLGRkOmgoci53ZWVrZGF5c01pbix0aGlzLiRXLHMsMiksZGRkOmgoci53ZWVrZGF5c1Nob3J0LHRoaXMuJFcscywzKSxkZGRkOnNbdGhpcy4kV10sSDpTdHJpbmcoaSksSEg6Ty5zKGksMiwiMCIpLGg6YygxKSxoaDpjKDIpLGE6bChpLGEsITApLEE6bChpLGEsITEpLG06U3RyaW5nKGEpLG1tOk8ucyhhLDIsIjAiKSxzOlN0cmluZyh0aGlzLiRzKSxzczpPLnModGhpcy4kcywyLCIwIiksU1NTOk8ucyh0aGlzLiRtcywzLCIwIiksWjpvfTtyZXR1cm4gbi5yZXBsYWNlKHksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fGRbdF18fG8ucmVwbGFjZSgiOiIsIiIpfSkpfSxnLnV0Y09mZnNldD1mdW5jdGlvbigpe3JldHVybiAxNSotTWF0aC5yb3VuZCh0aGlzLiRkLmdldFRpbWV6b25lT2Zmc2V0KCkvMTUpfSxnLmRpZmY9ZnVuY3Rpb24obixsLHApe3ZhciBkLHk9Ty5wKGwpLHY9RShuKSxnPSh2LnV0Y09mZnNldCgpLXRoaXMudXRjT2Zmc2V0KCkpKmUsYj10aGlzLXYsdz1PLm0odGhpcyx2KTtyZXR1cm4gdz0oZD17fSxkW2NdPXcvMTIsZFtmXT13LGRbaF09dy8zLGRbc109KGItZykvNjA0OGU1LGRbdV09KGItZykvODY0ZTUsZFthXT1iL3IsZFtpXT1iL2UsZFtvXT1iL3QsZClbeV18fGIscD93Ok8uYSh3KX0sZy5kYXlzSW5Nb250aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZE9mKGYpLiREfSxnLiRsb2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gbVt0aGlzLiRMXX0sZy5sb2NhbGU9ZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm4gdGhpcy4kTDt2YXIgcj10aGlzLmNsb25lKCksbj1BKHQsZSwhMCk7cmV0dXJuIG4mJihyLiRMPW4pLHJ9LGcuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gTy53KHRoaXMuJGQsdGhpcyl9LGcudG9EYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKX0sZy50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/dGhpcy50b0lTT1N0cmluZygpOm51bGx9LGcudG9JU09TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC50b0lTT1N0cmluZygpfSxnLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGQudG9VVENTdHJpbmcoKX0sdn0oKSxNPVMucHJvdG90eXBlO3JldHVybiBFLnByb3RvdHlwZT1NLFtbIiRtcyIsbl0sWyIkcyIsb10sWyIkbSIsaV0sWyIkSCIsYV0sWyIkVyIsdV0sWyIkTSIsZl0sWyIkeSIsY10sWyIkRCIsbF1dLmZvckVhY2goKGZ1bmN0aW9uKHQpe01bdFsxXV09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuJGcoZSx0WzBdLHRbMV0pfX0pKSxFLmV4dGVuZD1mdW5jdGlvbih0LGUpe3JldHVybiB0LiRpfHwodChlLFMsRSksdC4kaT0hMCksRX0sRS5sb2NhbGU9QSxFLmlzRGF5anM9XyxFLnVuaXg9ZnVuY3Rpb24odCl7cmV0dXJuIEUoMWUzKnQpfSxFLmVuPW1bd10sRS5Mcz1tLEUucD17fSxFfSgpfSkpO2Zvcih2YXIgJD1mdW5jdGlvbih0LGUpe3ZhciByPWZ1bmN0aW9uKHQpe3R8fCh0PXt9KSx0LmJvZHkmJiF0Lm1ldGhvZCYmKHQubWV0aG9kPSJQT1NUIiksdC5tZXRob2QmJih0Lm1ldGhvZD10Lm1ldGhvZC50b1VwcGVyQ2FzZSgpKTt2YXIgZSxyPU9iamVjdC5hc3NpZ24oe30sdCx7Ym9keTooZT10LmJvZHksZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYhUChlKT9KU09OLnN0cmluZ2lmeSh0LmJvZHkpOnQuYm9keSl9KTtyZXR1cm4gci5ib2R5JiYoci5oZWFkZXJzPU9iamVjdC5hc3NpZ24oUChyLmJvZHkpP3t9OnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9LHIuaGVhZGVycykpLHJ9KGUpLG49RCh0LHVuZGVmaW5lZCk7aWYoIXIuZ3VhcmFudGVlSWQpcmV0dXJuIEMoZmV0Y2gobixyKSk7dmFyIG89ayhyKSxpPW8uY29udHJvbGxlcixhPW8uZ3VhcmFudGVlO3JldHVybiBDKGZldGNoKG4scikuZmluYWxseSgoZnVuY3Rpb24oKXthLmdldChyLmd1YXJhbnRlZUlkKT09PWkmJmEuZGVsZXRlKHIuZ3VhcmFudGVlSWQpfSkpKX0sUj0yLEw9NCx6PTgsRj1mdW5jdGlvbih0KXt2YXIgZT1KKHQpLHI9ZVswXSxuPWVbMV07cmV0dXJuIDMqKHIrbikvNC1ufSxOPWZ1bmN0aW9uKHQpe3ZhciBlLHIsbj1KKHQpLG89blswXSxpPW5bMV0sYT1uZXcgRyhmdW5jdGlvbih0LGUscil7cmV0dXJuIDMqKGUrcikvNC1yfSgwLG8saSkpLHU9MCxzPWk+MD9vLTQ6bztmb3Iocj0wO3I8cztyKz00KWU9cVt0LmNoYXJDb2RlQXQocildPDwxOHxxW3QuY2hhckNvZGVBdChyKzEpXTw8MTJ8cVt0LmNoYXJDb2RlQXQocisyKV08PDZ8cVt0LmNoYXJDb2RlQXQociszKV0sYVt1KytdPWU+PjE2JjI1NSxhW3UrK109ZT4+OCYyNTUsYVt1KytdPTI1NSZlOzI9PT1pJiYoZT1xW3QuY2hhckNvZGVBdChyKV08PDJ8cVt0LmNoYXJDb2RlQXQocisxKV0+PjQsYVt1KytdPTI1NSZlKTsxPT09aSYmKGU9cVt0LmNoYXJDb2RlQXQocildPDwxMHxxW3QuY2hhckNvZGVBdChyKzEpXTw8NHxxW3QuY2hhckNvZGVBdChyKzIpXT4+MixhW3UrK109ZT4+OCYyNTUsYVt1KytdPTI1NSZlKTtyZXR1cm4gYX0sSD1mdW5jdGlvbih0KXtmb3IodmFyIGUscj10Lmxlbmd0aCxuPXIlMyxvPVtdLGk9MTYzODMsYT0wLHU9ci1uO2E8dTthKz1pKW8ucHVzaChYKHQsYSxhK2k+dT91OmEraSkpOzE9PT1uPyhlPXRbci0xXSxvLnB1c2goWVtlPj4yXStZW2U8PDQmNjNdKyI9PSIpKToyPT09biYmKGU9KHRbci0yXTw8OCkrdFtyLTFdLG8ucHVzaChZW2U+PjEwXStZW2U+PjQmNjNdK1lbZTw8MiY2M10rIj0iKSk7cmV0dXJuIG8uam9pbigiIil9LFk9W10scT1bXSxHPSJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LFo9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLFY9MCxXPVoubGVuZ3RoO1Y8VzsrK1YpWVtWXT1aW1ZdLHFbWi5jaGFyQ29kZUF0KFYpXT1WO2Z1bmN0aW9uIEoodCl7dmFyIGU9dC5sZW5ndGg7aWYoZSU0PjApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Iik7dmFyIHI9dC5pbmRleE9mKCI9Iik7cmV0dXJuLTE9PT1yJiYocj1lKSxbcixyPT09ZT8wOjQtciU0XX1mdW5jdGlvbiBYKHQsZSxyKXtmb3IodmFyIG4sbyxpPVtdLGE9ZTthPHI7YSs9MyluPSh0W2FdPDwxNiYxNjcxMTY4MCkrKHRbYSsxXTw8OCY2NTI4MCkrKDI1NSZ0W2ErMl0pLGkucHVzaChZWyhvPW4pPj4xOCY2M10rWVtvPj4xMiY2M10rWVtvPj42JjYzXStZWzYzJm9dKTtyZXR1cm4gaS5qb2luKCIiKX1xWyItIi5jaGFyQ29kZUF0KDApXT02MixxWyJfIi5jaGFyQ29kZUF0KDApXT02Mzt2YXIgUT17Ynl0ZUxlbmd0aDpGLHRvQnl0ZUFycmF5Ok4sZnJvbUJ5dGVBcnJheTpIfSxLPWZ1bmN0aW9uKHQsZSxyLG4sbyl7dmFyIGksYSx1PTgqby1uLTEscz0oMTw8dSktMSxmPXM+PjEsaD0tNyxjPXI/by0xOjAsbD1yPy0xOjEscD10W2UrY107Zm9yKGMrPWwsaT1wJigxPDwtaCktMSxwPj49LWgsaCs9dTtoPjA7aT0yNTYqaSt0W2UrY10sYys9bCxoLT04KTtmb3IoYT1pJigxPDwtaCktMSxpPj49LWgsaCs9bjtoPjA7YT0yNTYqYSt0W2UrY10sYys9bCxoLT04KTtpZigwPT09aSlpPTEtZjtlbHNle2lmKGk9PT1zKXJldHVybiBhP05hTjoxLzAqKHA/LTE6MSk7YSs9TWF0aC5wb3coMixuKSxpLT1mfXJldHVybihwPy0xOjEpKmEqTWF0aC5wb3coMixpLW4pfSx0dD1mdW5jdGlvbih0LGUscixuLG8saSl7dmFyIGEsdSxzLGY9OCppLW8tMSxoPSgxPDxmKS0xLGM9aD4+MSxsPTIzPT09bz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAscD1uPzA6aS0xLGQ9bj8xOi0xLHk9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyh1PWlzTmFOKGUpPzE6MCxhPWgpOihhPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHM9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0scyo9MiksKGUrPWErYz49MT9sL3M6bCpNYXRoLnBvdygyLDEtYykpKnM+PTImJihhKysscy89MiksYStjPj1oPyh1PTAsYT1oKTphK2M+PTE/KHU9KGUqcy0xKSpNYXRoLnBvdygyLG8pLGErPWMpOih1PWUqTWF0aC5wb3coMixjLTEpKk1hdGgucG93KDIsbyksYT0wKSk7bz49ODt0W3IrcF09MjU1JnUscCs9ZCx1Lz0yNTYsby09OCk7Zm9yKGE9YTw8b3x1LGYrPW87Zj4wO3RbcitwXT0yNTUmYSxwKz1kLGEvPTI1NixmLT04KTt0W3IrcC1kXXw9MTI4Knl9LGV0PWUoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbC5mb3I/U3ltYm9sLmZvcigibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20iKTpudWxsO2UuQnVmZmVyPWksZS5TbG93QnVmZmVyPWZ1bmN0aW9uKHQpeyt0IT10JiYodD0wKTtyZXR1cm4gaS5hbGxvYygrdCl9LGUuSU5TUEVDVF9NQVhfQllURVM9NTA7dmFyIG49MjE0NzQ4MzY0NztmdW5jdGlvbiBvKHQpe2lmKHQ+bil0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlICInK3QrJyIgaXMgaW52YWxpZCBmb3Igb3B0aW9uICJzaXplIicpO3ZhciBlPW5ldyBVaW50OEFycmF5KHQpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSxpLnByb3RvdHlwZSksZX1mdW5jdGlvbiBpKHQsZSxyKXtpZigibnVtYmVyIj09dHlwZW9mIHQpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInN0cmluZyIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gcyh0KX1yZXR1cm4gYSh0LGUscil9ZnVuY3Rpb24gYSh0LGUscil7aWYoInN0cmluZyI9PXR5cGVvZiB0KXJldHVybiBmdW5jdGlvbih0LGUpeyJzdHJpbmciPT10eXBlb2YgZSYmIiIhPT1lfHwoZT0idXRmOCIpO2lmKCFpLmlzRW5jb2RpbmcoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTt2YXIgcj0wfGwodCxlKSxuPW8ociksYT1uLndyaXRlKHQsZSk7YSE9PXImJihuPW4uc2xpY2UoMCxhKSk7cmV0dXJuIG59KHQsZSk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXJldHVybiBmdW5jdGlvbih0KXtpZihSKHQsVWludDhBcnJheSkpe3ZhciBlPW5ldyBVaW50OEFycmF5KHQpO3JldHVybiBoKGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpfXJldHVybiBmKHQpfSh0KTtpZihudWxsPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIHQpO2lmKFIodCxBcnJheUJ1ZmZlcil8fHQmJlIodC5idWZmZXIsQXJyYXlCdWZmZXIpKXJldHVybiBoKHQsZSxyKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyJiYoUih0LFNoYXJlZEFycmF5QnVmZmVyKXx8dCYmUih0LmJ1ZmZlcixTaGFyZWRBcnJheUJ1ZmZlcikpKXJldHVybiBoKHQsZSxyKTtpZigibnVtYmVyIj09dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7dmFyIG49dC52YWx1ZU9mJiZ0LnZhbHVlT2YoKTtpZihudWxsIT1uJiZuIT09dClyZXR1cm4gaS5mcm9tKG4sZSxyKTt2YXIgYT1mdW5jdGlvbih0KXtpZihpLmlzQnVmZmVyKHQpKXt2YXIgZT0wfGModC5sZW5ndGgpLHI9byhlKTtyZXR1cm4gMD09PXIubGVuZ3RofHx0LmNvcHkociwwLDAsZSkscn1pZih2b2lkIDAhPT10Lmxlbmd0aClyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQubGVuZ3RofHxMKHQubGVuZ3RoKT9vKDApOmYodCk7aWYoIkJ1ZmZlciI9PT10LnR5cGUmJkFycmF5LmlzQXJyYXkodC5kYXRhKSlyZXR1cm4gZih0LmRhdGEpfSh0KTtpZihhKXJldHVybiBhO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1TeW1ib2wudG9QcmltaXRpdmUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0W1N5bWJvbC50b1ByaW1pdGl2ZV0pcmV0dXJuIGkuZnJvbSh0W1N5bWJvbC50b1ByaW1pdGl2ZV0oInN0cmluZyIpLGUscik7dGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgIit0eXBlb2YgdCl9ZnVuY3Rpb24gdSh0KXtpZigibnVtYmVyIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKTtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSAiJyt0KyciIGlzIGludmFsaWQgZm9yIG9wdGlvbiAic2l6ZSInKX1mdW5jdGlvbiBzKHQpe3JldHVybiB1KHQpLG8odDwwPzA6MHxjKHQpKX1mdW5jdGlvbiBmKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDwwPzA6MHxjKHQubGVuZ3RoKSxyPW8oZSksbj0wO248ZTtuKz0xKXJbbl09MjU1JnRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gaCh0LGUscil7aWYoZTwwfHx0LmJ5dGVMZW5ndGg8ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignIm9mZnNldCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYodC5ieXRlTGVuZ3RoPGUrKHJ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCcibGVuZ3RoIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTt2YXIgbjtyZXR1cm4gbj12b2lkIDA9PT1lJiZ2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KHQpOnZvaWQgMD09PXI/bmV3IFVpbnQ4QXJyYXkodCxlKTpuZXcgVWludDhBcnJheSh0LGUsciksT2JqZWN0LnNldFByb3RvdHlwZU9mKG4saS5wcm90b3R5cGUpLG59ZnVuY3Rpb24gYyh0KXtpZih0Pj1uKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4IituLnRvU3RyaW5nKDE2KSsiIGJ5dGVzIik7cmV0dXJuIDB8dH1mdW5jdGlvbiBsKHQsZSl7aWYoaS5pc0J1ZmZlcih0KSlyZXR1cm4gdC5sZW5ndGg7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpfHxSKHQsQXJyYXlCdWZmZXIpKXJldHVybiB0LmJ5dGVMZW5ndGg7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAic3RyaW5nIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTt2YXIgcj10Lmxlbmd0aCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmITA9PT1hcmd1bWVudHNbMl07aWYoIW4mJjA9PT1yKXJldHVybiAwO2Zvcih2YXIgbz0hMTs7KXN3aXRjaChlKXtjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiByO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIEModCkubGVuZ3RoO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gMipyO2Nhc2UiaGV4IjpyZXR1cm4gcj4+PjE7Y2FzZSJiYXNlNjQiOnJldHVybiBrKHQpLmxlbmd0aDtkZWZhdWx0OmlmKG8pcmV0dXJuIG4/LTE6Qyh0KS5sZW5ndGg7ZT0oIiIrZSkudG9Mb3dlckNhc2UoKSxvPSEwfX1mdW5jdGlvbiBwKHQsZSxyKXt2YXIgbj0hMTtpZigodm9pZCAwPT09ZXx8ZTwwKSYmKGU9MCksZT50aGlzLmxlbmd0aClyZXR1cm4iIjtpZigodm9pZCAwPT09cnx8cj50aGlzLmxlbmd0aCkmJihyPXRoaXMubGVuZ3RoKSxyPD0wKXJldHVybiIiO2lmKChyPj4+PTApPD0oZT4+Pj0wKSlyZXR1cm4iIjtmb3IodHx8KHQ9InV0ZjgiKTs7KXN3aXRjaCh0KXtjYXNlImhleCI6cmV0dXJuIEIodGhpcyxlLHIpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIEUodGhpcyxlLHIpO2Nhc2UiYXNjaWkiOnJldHVybiBTKHRoaXMsZSxyKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBNKHRoaXMsZSxyKTtjYXNlImJhc2U2NCI6cmV0dXJuIEEodGhpcyxlLHIpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gVSh0aGlzLGUscik7ZGVmYXVsdDppZihuKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrdCk7dD0odCsiIikudG9Mb3dlckNhc2UoKSxuPSEwfX1mdW5jdGlvbiBkKHQsZSxyKXt2YXIgbj10W2VdO3RbZV09dFtyXSx0W3JdPW59ZnVuY3Rpb24geSh0LGUscixuLG8pe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4tMTtpZigic3RyaW5nIj09dHlwZW9mIHI/KG49cixyPTApOnI+MjE0NzQ4MzY0Nz9yPTIxNDc0ODM2NDc6cjwtMjE0NzQ4MzY0OCYmKHI9LTIxNDc0ODM2NDgpLEwocj0rcikmJihyPW8/MDp0Lmxlbmd0aC0xKSxyPDAmJihyPXQubGVuZ3RoK3IpLHI+PXQubGVuZ3RoKXtpZihvKXJldHVybi0xO3I9dC5sZW5ndGgtMX1lbHNlIGlmKHI8MCl7aWYoIW8pcmV0dXJuLTE7cj0wfWlmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9aS5mcm9tKGUsbikpLGkuaXNCdWZmZXIoZSkpcmV0dXJuIDA9PT1lLmxlbmd0aD8tMTp2KHQsZSxyLG4sbyk7aWYoIm51bWJlciI9PXR5cGVvZiBlKXJldHVybiBlJj0yNTUsImZ1bmN0aW9uIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/bz9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLHIpOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwodCxlLHIpOnYodCxbZV0scixuLG8pO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIHYodCxlLHIsbixvKXt2YXIgaSxhPTEsdT10Lmxlbmd0aCxzPWUubGVuZ3RoO2lmKHZvaWQgMCE9PW4mJigidWNzMiI9PT0obj1TdHJpbmcobikudG9Mb3dlckNhc2UoKSl8fCJ1Y3MtMiI9PT1ufHwidXRmMTZsZSI9PT1ufHwidXRmLTE2bGUiPT09bikpe2lmKHQubGVuZ3RoPDJ8fGUubGVuZ3RoPDIpcmV0dXJuLTE7YT0yLHUvPTIscy89MixyLz0yfWZ1bmN0aW9uIGYodCxlKXtyZXR1cm4gMT09PWE/dFtlXTp0LnJlYWRVSW50MTZCRShlKmEpfWlmKG8pe3ZhciBoPS0xO2ZvcihpPXI7aTx1O2krKylpZihmKHQsaSk9PT1mKGUsLTE9PT1oPzA6aS1oKSl7aWYoLTE9PT1oJiYoaD1pKSxpLWgrMT09PXMpcmV0dXJuIGgqYX1lbHNlLTEhPT1oJiYoaS09aS1oKSxoPS0xfWVsc2UgZm9yKHIrcz51JiYocj11LXMpLGk9cjtpPj0wO2ktLSl7Zm9yKHZhciBjPSEwLGw9MDtsPHM7bCsrKWlmKGYodCxpK2wpIT09ZihlLGwpKXtjPSExO2JyZWFrfWlmKGMpcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gZyh0LGUscixuKXtyPU51bWJlcihyKXx8MDt2YXIgbz10Lmxlbmd0aC1yO24/KG49TnVtYmVyKG4pKT5vJiYobj1vKTpuPW87dmFyIGk9ZS5sZW5ndGg7bj5pLzImJihuPWkvMik7Zm9yKHZhciBhPTA7YTxuOysrYSl7dmFyIHU9cGFyc2VJbnQoZS5zdWJzdHIoMiphLDIpLDE2KTtpZihMKHUpKXJldHVybiBhO3RbcithXT11fXJldHVybiBhfWZ1bmN0aW9uIGIodCxlLHIsbil7cmV0dXJuICQoQyhlLHQubGVuZ3RoLXIpLHQscixuKX1mdW5jdGlvbiB3KHQsZSxyLG4pe3JldHVybiAkKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxyPTA7cjx0Lmxlbmd0aDsrK3IpZS5wdXNoKDI1NSZ0LmNoYXJDb2RlQXQocikpO3JldHVybiBlfShlKSx0LHIsbil9ZnVuY3Rpb24gbSh0LGUscixuKXtyZXR1cm4gJChrKGUpLHQscixuKX1mdW5jdGlvbiBfKHQsZSxyLG4pe3JldHVybiAkKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByLG4sbyxpPVtdLGE9MDthPHQubGVuZ3RoJiYhKChlLT0yKTwwKTsrK2Epbj0ocj10LmNoYXJDb2RlQXQoYSkpPj44LG89ciUyNTYsaS5wdXNoKG8pLGkucHVzaChuKTtyZXR1cm4gaX0oZSx0Lmxlbmd0aC1yKSx0LHIsbil9ZnVuY3Rpb24gQSh0LGUscil7cmV0dXJuIDA9PT1lJiZyPT09dC5sZW5ndGg/US5mcm9tQnl0ZUFycmF5KHQpOlEuZnJvbUJ5dGVBcnJheSh0LnNsaWNlKGUscikpfWZ1bmN0aW9uIEUodCxlLHIpe3I9TWF0aC5taW4odC5sZW5ndGgscik7Zm9yKHZhciBuPVtdLG89ZTtvPHI7KXt2YXIgaSxhLHUscyxmPXRbb10saD1udWxsLGM9Zj4yMzk/NDpmPjIyMz8zOmY+MTkxPzI6MTtpZihvK2M8PXIpc3dpdGNoKGMpe2Nhc2UgMTpmPDEyOCYmKGg9Zik7YnJlYWs7Y2FzZSAyOjEyOD09KDE5MiYoaT10W28rMV0pKSYmKHM9KDMxJmYpPDw2fDYzJmkpPjEyNyYmKGg9cyk7YnJlYWs7Y2FzZSAzOmk9dFtvKzFdLGE9dFtvKzJdLDEyOD09KDE5MiZpKSYmMTI4PT0oMTkyJmEpJiYocz0oMTUmZik8PDEyfCg2MyZpKTw8Nnw2MyZhKT4yMDQ3JiYoczw1NTI5Nnx8cz41NzM0MykmJihoPXMpO2JyZWFrO2Nhc2UgNDppPXRbbysxXSxhPXRbbysyXSx1PXRbbyszXSwxMjg9PSgxOTImaSkmJjEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJnUpJiYocz0oMTUmZik8PDE4fCg2MyZpKTw8MTJ8KDYzJmEpPDw2fDYzJnUpPjY1NTM1JiZzPDExMTQxMTImJihoPXMpfW51bGw9PT1oPyhoPTY1NTMzLGM9MSk6aD42NTUzNSYmKGgtPTY1NTM2LG4ucHVzaChoPj4+MTAmMTAyM3w1NTI5NiksaD01NjMyMHwxMDIzJmgpLG4ucHVzaChoKSxvKz1jfXJldHVybiBmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD1PKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0KTt2YXIgcj0iIixuPTA7Zm9yKDtuPGU7KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQuc2xpY2UobixuKz1PKSk7cmV0dXJuIHJ9KG4pfWUua01heExlbmd0aD1uLGkuVFlQRURfQVJSQVlfU1VQUE9SVD1mdW5jdGlvbigpe3RyeXt2YXIgdD1uZXcgVWludDhBcnJheSgxKSxlPXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpLDQyPT09dC5mb28oKX1jYXRjaCh0KXtyZXR1cm4hMX19KCksaS5UWVBFRF9BUlJBWV9TVVBQT1JUfHwidW5kZWZpbmVkIj09dHlwZW9mIGNvbnNvbGV8fCJmdW5jdGlvbiIhPXR5cGVvZiBjb25zb2xlLmVycm9yfHxjb25zb2xlLmVycm9yKCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4iKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInBhcmVudCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoaS5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvZmZzZXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKGkuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KSxpLnBvb2xTaXplPTgxOTIsaS5mcm9tPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gYSh0LGUscil9LE9iamVjdC5zZXRQcm90b3R5cGVPZihpLnByb3RvdHlwZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKGksVWludDhBcnJheSksaS5hbGxvYz1mdW5jdGlvbih0LGUscil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdSh0KSx0PD0wP28odCk6dm9pZCAwIT09ZT8ic3RyaW5nIj09dHlwZW9mIHI/byh0KS5maWxsKGUscik6byh0KS5maWxsKGUpOm8odCl9KHQsZSxyKX0saS5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtyZXR1cm4gcyh0KX0saS5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24odCl7cmV0dXJuIHModCl9LGkuaXNCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJiEwPT09dC5faXNCdWZmZXImJnQhPT1pLnByb3RvdHlwZX0saS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYoUih0LFVpbnQ4QXJyYXkpJiYodD1pLmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSxSKGUsVWludDhBcnJheSkmJihlPWkuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCkpLCFpLmlzQnVmZmVyKHQpfHwhaS5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgImJ1ZjEiLCAiYnVmMiIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZih0PT09ZSlyZXR1cm4gMDtmb3IodmFyIHI9dC5sZW5ndGgsbj1lLmxlbmd0aCxvPTAsYT1NYXRoLm1pbihyLG4pO288YTsrK28paWYodFtvXSE9PWVbb10pe3I9dFtvXSxuPWVbb107YnJlYWt9cmV0dXJuIHI8bj8tMTpuPHI/MTowfSxpLmlzRW5jb2Rpbmc9ZnVuY3Rpb24odCl7c3dpdGNoKFN0cmluZyh0KS50b0xvd2VyQ2FzZSgpKXtjYXNlImhleCI6Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOmNhc2UiYmFzZTY0IjpjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGkuY29uY2F0PWZ1bmN0aW9uKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gaS5hbGxvYygwKTt2YXIgcjtpZih2b2lkIDA9PT1lKWZvcihlPTAscj0wO3I8dC5sZW5ndGg7KytyKWUrPXRbcl0ubGVuZ3RoO3ZhciBuPWkuYWxsb2NVbnNhZmUoZSksbz0wO2ZvcihyPTA7cjx0Lmxlbmd0aDsrK3Ipe3ZhciBhPXRbcl07aWYoUihhLFVpbnQ4QXJyYXkpKW8rYS5sZW5ndGg+bi5sZW5ndGg/aS5mcm9tKGEpLmNvcHkobixvKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChuLGEsbyk7ZWxzZXtpZighaS5pc0J1ZmZlcihhKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7YS5jb3B5KG4sbyl9bys9YS5sZW5ndGh9cmV0dXJuIG59LGkuYnl0ZUxlbmd0aD1sLGkucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxpLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKHZhciBlPTA7ZTx0O2UrPTIpZCh0aGlzLGUsZSsxKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7aWYodCU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cyIpO2Zvcih2YXIgZT0wO2U8dDtlKz00KWQodGhpcyxlLGUrMyksZCh0aGlzLGUrMSxlKzIpO3JldHVybiB0aGlzfSxpLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzIik7Zm9yKHZhciBlPTA7ZTx0O2UrPTgpZCh0aGlzLGUsZSs3KSxkKHRoaXMsZSsxLGUrNiksZCh0aGlzLGUrMixlKzUpLGQodGhpcyxlKzMsZSs0KTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtyZXR1cm4gMD09PXQ/IiI6MD09PWFyZ3VtZW50cy5sZW5ndGg/RSh0aGlzLDAsdCk6cC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPWkucHJvdG90eXBlLnRvU3RyaW5nLGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZighaS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT10fHwwPT09aS5jb21wYXJlKHRoaXMsdCl9LGkucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgdD0iIixyPWUuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHQ9dGhpcy50b1N0cmluZygiaGV4IiwwLHIpLnJlcGxhY2UoLyguezJ9KS9nLCIkMSAiKS50cmltKCksdGhpcy5sZW5ndGg+ciYmKHQrPSIgLi4uICIpLCI8QnVmZmVyICIrdCsiPiJ9LHImJihpLnByb3RvdHlwZVtyXT1pLnByb3RvdHlwZS5pbnNwZWN0KSxpLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSxyLG4sbyl7aWYoUih0LFVpbnQ4QXJyYXkpJiYodD1pLmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSwhaS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInRhcmdldCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTtpZih2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1yJiYocj10P3QubGVuZ3RoOjApLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPXRoaXMubGVuZ3RoKSxlPDB8fHI+dC5sZW5ndGh8fG48MHx8bz50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYobj49byYmZT49cilyZXR1cm4gMDtpZihuPj1vKXJldHVybi0xO2lmKGU+PXIpcmV0dXJuIDE7aWYodGhpcz09PXQpcmV0dXJuIDA7Zm9yKHZhciBhPShvPj4+PTApLShuPj4+PTApLHU9KHI+Pj49MCktKGU+Pj49MCkscz1NYXRoLm1pbihhLHUpLGY9dGhpcy5zbGljZShuLG8pLGg9dC5zbGljZShlLHIpLGM9MDtjPHM7KytjKWlmKGZbY10hPT1oW2NdKXthPWZbY10sdT1oW2NdO2JyZWFrfXJldHVybiBhPHU/LTE6dTxhPzE6MH0saS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCxlLHIpe3JldHVybi0xIT09dGhpcy5pbmRleE9mKHQsZSxyKX0saS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHkodGhpcyx0LGUsciwhMCl9LGkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4geSh0aGlzLHQsZSxyLCExKX0saS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLHIsbil7aWYodm9pZCAwPT09ZSluPSJ1dGY4IixyPXRoaXMubGVuZ3RoLGU9MDtlbHNlIGlmKHZvaWQgMD09PXImJiJzdHJpbmciPT10eXBlb2YgZSluPWUscj10aGlzLmxlbmd0aCxlPTA7ZWxzZXtpZighaXNGaW5pdGUoZSkpdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO2U+Pj49MCxpc0Zpbml0ZShyKT8ocj4+Pj0wLHZvaWQgMD09PW4mJihuPSJ1dGY4IikpOihuPXIscj12b2lkIDApfXZhciBvPXRoaXMubGVuZ3RoLWU7aWYoKHZvaWQgMD09PXJ8fHI+bykmJihyPW8pLHQubGVuZ3RoPjAmJihyPDB8fGU8MCl8fGU+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIik7bnx8KG49InV0ZjgiKTtmb3IodmFyIGk9ITE7Oylzd2l0Y2gobil7Y2FzZSJoZXgiOnJldHVybiBnKHRoaXMsdCxlLHIpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIGIodGhpcyx0LGUscik7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gdyh0aGlzLHQsZSxyKTtjYXNlImJhc2U2NCI6cmV0dXJuIG0odGhpcyx0LGUscik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBfKHRoaXMsdCxlLHIpO2RlZmF1bHQ6aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK24pO249KCIiK24pLnRvTG93ZXJDYXNlKCksaT0hMH19LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJCdWZmZXIiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIE89NDA5NjtmdW5jdGlvbiBTKHQsZSxyKXt2YXIgbj0iIjtyPU1hdGgubWluKHQubGVuZ3RoLHIpO2Zvcih2YXIgbz1lO288cjsrK28pbis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmdFtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gTSh0LGUscil7dmFyIG49IiI7cj1NYXRoLm1pbih0Lmxlbmd0aCxyKTtmb3IodmFyIG89ZTtvPHI7KytvKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUodFtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gQih0LGUscil7dmFyIG49dC5sZW5ndGg7KCFlfHxlPDApJiYoZT0wKSwoIXJ8fHI8MHx8cj5uKSYmKHI9bik7Zm9yKHZhciBvPSIiLGk9ZTtpPHI7KytpKW8rPXpbdFtpXV07cmV0dXJuIG99ZnVuY3Rpb24gVSh0LGUscil7Zm9yKHZhciBuPXQuc2xpY2UoZSxyKSxvPSIiLGk9MDtpPG4ubGVuZ3RoLTE7aSs9MilvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG5baV0rMjU2Km5baSsxXSk7cmV0dXJuIG99ZnVuY3Rpb24gVCh0LGUscil7aWYodCUxIT0wfHx0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm9mZnNldCBpcyBub3QgdWludCIpO2lmKHQrZT5yKXRocm93IG5ldyBSYW5nZUVycm9yKCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoIil9ZnVuY3Rpb24geCh0LGUscixuLG8sYSl7aWYoIWkuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKGU+b3x8ZTxhKXRocm93IG5ldyBSYW5nZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihyK24+dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIGoodCxlLHIsbixvLGkpe2lmKHIrbj50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBQKHQsZSxyLG4sbyl7cmV0dXJuIGU9K2Uscj4+Pj0wLG98fGoodCwwLHIsNCksdHQodCxlLHIsbiwyMyw0KSxyKzR9ZnVuY3Rpb24gSSh0LGUscixuLG8pe3JldHVybiBlPStlLHI+Pj49MCxvfHxqKHQsMCxyLDgpLHR0KHQsZSxyLG4sNTIsOCkscis4fWkucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5sZW5ndGg7KHQ9fn50KTwwPyh0Kz1yKTwwJiYodD0wKTp0PnImJih0PXIpLChlPXZvaWQgMD09PWU/cjp+fmUpPDA/KGUrPXIpPDAmJihlPTApOmU+ciYmKGU9ciksZTx0JiYoZT10KTt2YXIgbj10aGlzLnN1YmFycmF5KHQsZSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihuLGkucHJvdG90eXBlKSxufSxpLnByb3RvdHlwZS5yZWFkVWludExFPWkucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24odCxlLHIpe3Q+Pj49MCxlPj4+PTAscnx8VCh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW3RdLG89MSxpPTA7KytpPGUmJihvKj0yNTYpOyluKz10aGlzW3QraV0qbztyZXR1cm4gbn0saS5wcm90b3R5cGUucmVhZFVpbnRCRT1pLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKHQsZSxyKXt0Pj4+PTAsZT4+Pj0wLHJ8fFQodCxlLHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dGhpc1t0Ky0tZV0sbz0xO2U+MCYmKG8qPTI1Nik7KW4rPXRoaXNbdCstLWVdKm87cmV0dXJuIG59LGkucHJvdG90eXBlLnJlYWRVaW50OD1pLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCwxLHRoaXMubGVuZ3RoKSx0aGlzW3RdfSxpLnByb3RvdHlwZS5yZWFkVWludDE2TEU9aS5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxUKHQsMix0aGlzLmxlbmd0aCksdGhpc1t0XXx0aGlzW3QrMV08PDh9LGkucHJvdG90eXBlLnJlYWRVaW50MTZCRT1pLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCwyLHRoaXMubGVuZ3RoKSx0aGlzW3RdPDw4fHRoaXNbdCsxXX0saS5wcm90b3R5cGUucmVhZFVpbnQzMkxFPWkucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8VCh0LDQsdGhpcy5sZW5ndGgpLCh0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2KSsxNjc3NzIxNip0aGlzW3QrM119LGkucHJvdG90eXBlLnJlYWRVaW50MzJCRT1pLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW3RdKyh0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM10pfSxpLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24odCxlLHIpe3Q+Pj49MCxlPj4+PTAscnx8VCh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW3RdLG89MSxpPTA7KytpPGUmJihvKj0yNTYpOyluKz10aGlzW3QraV0qbztyZXR1cm4gbj49KG8qPTEyOCkmJihuLT1NYXRoLnBvdygyLDgqZSkpLG59LGkucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbih0LGUscil7dD4+Pj0wLGU+Pj49MCxyfHxUKHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPWUsbz0xLGk9dGhpc1t0Ky0tbl07bj4wJiYobyo9MjU2KTspaSs9dGhpc1t0Ky0tbl0qbztyZXR1cm4gaT49KG8qPTEyOCkmJihpLT1NYXRoLnBvdygyLDgqZSkpLGl9LGkucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxUKHQsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbdF0/LTEqKDI1NS10aGlzW3RdKzEpOnRoaXNbdF19LGkucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7dD4+Pj0wLGV8fFQodCwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW3RdfHRoaXNbdCsxXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0saS5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24odCxlKXt0Pj4+PTAsZXx8VCh0LDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbdCsxXXx0aGlzW3RdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxpLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8VCh0LDQsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fHRoaXNbdCsyXTw8MTZ8dGhpc1t0KzNdPDwyNH0saS5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdPDwyNHx0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM119LGkucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxUKHQsNCx0aGlzLmxlbmd0aCksSyh0aGlzLHQsITAsMjMsNCl9LGkucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHxUKHQsNCx0aGlzLmxlbmd0aCksSyh0aGlzLHQsITEsMjMsNCl9LGkucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8VCh0LDgsdGhpcy5sZW5ndGgpLEsodGhpcyx0LCEwLDUyLDgpfSxpLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fFQodCw4LHRoaXMubGVuZ3RoKSxLKHRoaXMsdCwhMSw1Miw4KX0saS5wcm90b3R5cGUud3JpdGVVaW50TEU9aS5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odCxlLHIsbil7KHQ9K3QsZT4+Pj0wLHI+Pj49MCxuKXx8eCh0aGlzLHQsZSxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBvPTEsaT0wO2Zvcih0aGlzW2VdPTI1NSZ0OysraTxyJiYobyo9MjU2KTspdGhpc1tlK2ldPXQvbyYyNTU7cmV0dXJuIGUrcn0saS5wcm90b3R5cGUud3JpdGVVaW50QkU9aS5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odCxlLHIsbil7KHQ9K3QsZT4+Pj0wLHI+Pj49MCxuKXx8eCh0aGlzLHQsZSxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBvPXItMSxpPTE7Zm9yKHRoaXNbZStvXT0yNTUmdDstLW8+PTAmJihpKj0yNTYpOyl0aGlzW2Urb109dC9pJjI1NTtyZXR1cm4gZStyfSxpLnByb3RvdHlwZS53cml0ZVVpbnQ4PWkucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDEsMjU1LDApLHRoaXNbZV09MjU1JnQsZSsxfSxpLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFPWkucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDIsNjU1MzUsMCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsZSsyfSxpLnByb3RvdHlwZS53cml0ZVVpbnQxNkJFPWkucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDIsNjU1MzUsMCksdGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQsZSsyfSxpLnByb3RvdHlwZS53cml0ZVVpbnQzMkxFPWkucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2UrM109dD4+PjI0LHRoaXNbZSsyXT10Pj4+MTYsdGhpc1tlKzFdPXQ+Pj44LHRoaXNbZV09MjU1JnQsZSs0fSxpLnByb3RvdHlwZS53cml0ZVVpbnQzMkJFPWkucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2VdPXQ+Pj4yNCx0aGlzW2UrMV09dD4+PjE2LHRoaXNbZSsyXT10Pj4+OCx0aGlzW2UrM109MjU1JnQsZSs0fSxpLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHQ9K3QsZT4+Pj0wLCFuKXt2YXIgbz1NYXRoLnBvdygyLDgqci0xKTt4KHRoaXMsdCxlLHIsby0xLC1vKX12YXIgaT0wLGE9MSx1PTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytpPHImJihhKj0yNTYpOyl0PDAmJjA9PT11JiYwIT09dGhpc1tlK2ktMV0mJih1PTEpLHRoaXNbZStpXT0odC9hPj4wKS11JjI1NTtyZXR1cm4gZStyfSxpLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHQsZSxyLG4pe2lmKHQ9K3QsZT4+Pj0wLCFuKXt2YXIgbz1NYXRoLnBvdygyLDgqci0xKTt4KHRoaXMsdCxlLHIsby0xLC1vKX12YXIgaT1yLTEsYT0xLHU9MDtmb3IodGhpc1tlK2ldPTI1NSZ0Oy0taT49MCYmKGEqPTI1Nik7KXQ8MCYmMD09PXUmJjAhPT10aGlzW2UraSsxXSYmKHU9MSksdGhpc1tlK2ldPSh0L2E+PjApLXUmMjU1O3JldHVybiBlK3J9LGkucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fHgodGhpcyx0LGUsMSwxMjcsLTEyOCksdDwwJiYodD0yNTUrdCsxKSx0aGlzW2VdPTI1NSZ0LGUrMX0saS5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8eCh0aGlzLHQsZSwyLDMyNzY3LC0zMjc2OCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsZSsyfSxpLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSx0aGlzW2VdPXQ+Pj44LHRoaXNbZSsxXT0yNTUmdCxlKzJ9LGkucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fHgodGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSszXT10Pj4+MjQsZSs0fSxpLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHx4KHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdDwwJiYodD00Mjk0OTY3Mjk1K3QrMSksdGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0LGUrNH0saS5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gUCh0aGlzLHQsZSwhMCxyKX0saS5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gUCh0aGlzLHQsZSwhMSxyKX0saS5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIEkodGhpcyx0LGUsITAscil9LGkucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBJKHRoaXMsdCxlLCExLHIpfSxpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSxyLG4pe2lmKCFpLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlciIpO2lmKHJ8fChyPTApLG58fDA9PT1ufHwobj10aGlzLmxlbmd0aCksZT49dC5sZW5ndGgmJihlPXQubGVuZ3RoKSxlfHwoZT0wKSxuPjAmJm48ciYmKG49ciksbj09PXIpcmV0dXJuIDA7aWYoMD09PXQubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYoZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYocjwwfHxyPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcyIpO24+dGhpcy5sZW5ndGgmJihuPXRoaXMubGVuZ3RoKSx0Lmxlbmd0aC1lPG4tciYmKG49dC5sZW5ndGgtZStyKTt2YXIgbz1uLXI7cmV0dXJuIHRoaXM9PT10JiYiZnVuY3Rpb24iPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj90aGlzLmNvcHlXaXRoaW4oZSxyLG4pOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHQsdGhpcy5zdWJhcnJheShyLG4pLGUpLG99LGkucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLHIsbil7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZigic3RyaW5nIj09dHlwZW9mIGU/KG49ZSxlPTAscj10aGlzLmxlbmd0aCk6InN0cmluZyI9PXR5cGVvZiByJiYobj1yLHI9dGhpcy5sZW5ndGgpLHZvaWQgMCE9PW4mJiJzdHJpbmciIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYhaS5pc0VuY29kaW5nKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrbik7aWYoMT09PXQubGVuZ3RoKXt2YXIgbz10LmNoYXJDb2RlQXQoMCk7KCJ1dGY4Ij09PW4mJm88MTI4fHwibGF0aW4xIj09PW4pJiYodD1vKX19ZWxzZSJudW1iZXIiPT10eXBlb2YgdD90Jj0yNTU6ImJvb2xlYW4iPT10eXBlb2YgdCYmKHQ9TnVtYmVyKHQpKTtpZihlPDB8fHRoaXMubGVuZ3RoPGV8fHRoaXMubGVuZ3RoPHIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpO2lmKHI8PWUpcmV0dXJuIHRoaXM7dmFyIGE7aWYoZT4+Pj0wLHI9dm9pZCAwPT09cj90aGlzLmxlbmd0aDpyPj4+MCx0fHwodD0wKSwibnVtYmVyIj09dHlwZW9mIHQpZm9yKGE9ZTthPHI7KythKXRoaXNbYV09dDtlbHNle3ZhciB1PWkuaXNCdWZmZXIodCk/dDppLmZyb20odCxuKSxzPXUubGVuZ3RoO2lmKDA9PT1zKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSAiJyt0KyciIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50ICJ2YWx1ZSInKTtmb3IoYT0wO2E8ci1lOysrYSl0aGlzW2ErZV09dVthJXNdfXJldHVybiB0aGlzfTt2YXIgRD0vW14rLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIEModCxlKXt2YXIgcjtlPWV8fDEvMDtmb3IodmFyIG49dC5sZW5ndGgsbz1udWxsLGk9W10sYT0wO2E8bjsrK2Epe2lmKChyPXQuY2hhckNvZGVBdChhKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFvKXtpZihyPjU2MzE5KXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoYSsxPT09bil7KGUtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW89cjtjb250aW51ZX1pZihyPDU2MzIwKXsoZS09Myk+LTEmJmkucHVzaCgyMzksMTkxLDE4OSksbz1yO2NvbnRpbnVlfXI9NjU1MzYrKG8tNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgbyYmKGUtPTMpPi0xJiZpLnB1c2goMjM5LDE5MSwxODkpO2lmKG89bnVsbCxyPDEyOCl7aWYoKGUtPTEpPDApYnJlYWs7aS5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigoZS09Mik8MClicmVhaztpLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKGUtPTMpPDApYnJlYWs7aS5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGUgcG9pbnQiKTtpZigoZS09NCk8MClicmVhaztpLnB1c2gocj4+MTh8MjQwLHI+PjEyJjYzfDEyOCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9fXJldHVybiBpfWZ1bmN0aW9uIGsodCl7cmV0dXJuIFEudG9CeXRlQXJyYXkoZnVuY3Rpb24odCl7aWYoKHQ9KHQ9dC5zcGxpdCgiPSIpWzBdKS50cmltKCkucmVwbGFjZShELCIiKSkubGVuZ3RoPDIpcmV0dXJuIiI7Zm9yKDt0Lmxlbmd0aCU0IT0wOyl0Kz0iPSI7cmV0dXJuIHR9KHQpKX1mdW5jdGlvbiAkKHQsZSxyLG4pe2Zvcih2YXIgbz0wO288biYmIShvK3I+PWUubGVuZ3RofHxvPj10Lmxlbmd0aCk7KytvKWVbbytyXT10W29dO3JldHVybiBvfWZ1bmN0aW9uIFIodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV8fG51bGwhPXQmJm51bGwhPXQuY29uc3RydWN0b3ImJm51bGwhPXQuY29uc3RydWN0b3IubmFtZSYmdC5jb25zdHJ1Y3Rvci5uYW1lPT09ZS5uYW1lfWZ1bmN0aW9uIEwodCl7cmV0dXJuIHQhPXR9dmFyIHo9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9IjAxMjM0NTY3ODlhYmNkZWYiLGU9bmV3IEFycmF5KDI1Nikscj0wO3I8MTY7KytyKWZvcih2YXIgbj0xNipyLG89MDtvPDE2OysrbyllW24rb109dFtyXSt0W29dO3JldHVybiBlfSgpfSkpLHJ0PWV0LkJ1ZmZlcjsKLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi9mdW5jdGlvbiBudCh0LGUpe2lmKG51bGw9PWUpcmV0dXJuIDA7Zm9yKHZhciByPTAsbj1mdW5jdGlvbih0KXtjb25zdCBlPVtdO2Zvcih2YXIgciBpbiB0KWUucHVzaChyKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUsbil9cmV0dXJuIGV9KGUpLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGk9bltvXTtpZigib2JqZWN0Ij09dHlwZW9mIGVbaV0mJm51bGwhPT1lW2ldKXtpZih0LmhhcyhlW2ldKSljb250aW51ZTt0LmFkZChlW2ldKX1yKz1vdCh0KShpKTt0cnl7cis9b3QodCkoZVtpXSl9Y2F0Y2godCl7dCBpbnN0YW5jZW9mIFJhbmdlRXJyb3ImJihyPTApfX1yZXR1cm4gcn1mdW5jdGlvbiBvdCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYocnQuaXNCdWZmZXIoZSkpcmV0dXJuIGUubGVuZ3RoO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJzdHJpbmciOnJldHVybiBlLmxlbmd0aCpSO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIEw7Y2FzZSJudW1iZXIiOnJldHVybiB6O2Nhc2Uic3ltYm9sIjpyZXR1cm4gU3ltYm9sLmtleUZvciYmU3ltYm9sLmtleUZvcihlKT9TeW1ib2wua2V5Rm9yKGUpLmxlbmd0aCpSOihlLnRvU3RyaW5nKCkubGVuZ3RoLTgpKlI7Y2FzZSJvYmplY3QiOnJldHVybiBBcnJheS5pc0FycmF5KGUpP2UubWFwKG90KHQpKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLDApOm50KHQsZSk7ZGVmYXVsdDpyZXR1cm4gMH19fXZhciBpdD1mdW5jdGlvbih0KXtyZXR1cm4gb3QobmV3IFdlYWtTZXQpKHQpfTt2YXIgYXQ9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O3ZhciB1dD0oYXQuX19GU1lfXz1hdC5fX0ZTWV9ffHx7fSxhdC5fX0ZTWV9fKTt1dC5yZXBsYWNlRmxhZz11dC5yZXBsYWNlRmxhZ3x8e30sdXQucmVwbGFjZUZsYWc7WyJTdHJpbmciLCJOdW1iZXIiLCJCb29sZWFuIiwiUmVnRXhwIl0ubWFwKChmdW5jdGlvbih0KXt2YXIgZSxyO3JldHVybihlPXt9KVsiaXMiK3RdPShyPXQsZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KT09PSJbb2JqZWN0ICIrcisiXSJ9KSxlfSkpO3ZhciBzdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmRhdGEsbz1yLl9fcmVzdCh0LFsiZGF0YSJdKSxpPU1hdGguY2VpbChuLmxlbmd0aCplKSxhPU1hdGguY2VpbCgxL2UpLHU9W10scz0wO3M8YTtzKyspe3ZhciBmPSIiO2Y9cz09PWEtMT9uLnNsaWNlKHMqaSk6bi5zbGljZShzKmksKHMrMSkqaSksdS5wdXNoKFtyLl9fYXNzaWduKHIuX19hc3NpZ24oe2RhdGE6Zn0sbykse3VuaWtleTpzKzEsdG90YWw6YX0pXSl9cmV0dXJuIHV9LGZ0PWUoKGZ1bmN0aW9uKHQsZSl7ZS5fX2VzTW9kdWxlPSEwO3ZhciByPXt9O2UuZGVmYXVsdD1mdW5jdGlvbih0LGUsbixvLGkpe3ZhciBhPXJbZV18fChyW2VdPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3RdLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSkpKSx1PW5ldyBXb3JrZXIoYSk7cmV0dXJuIHUub25lcnJvcj1mdW5jdGlvbih0KXtpKHQuZXJyb3IsbnVsbCl9LHUub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2kobnVsbCx0LmRhdGEpfSx1LnBvc3RNZXNzYWdlKG4sbyksdX19KSksaHQ9ZSgoZnVuY3Rpb24odCxlKXtlLl9fZXNNb2R1bGU9ITA7dmFyIHI9VWludDhBcnJheSxuPVVpbnQxNkFycmF5LG89VWludDMyQXJyYXksaT1uZXcgcihbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwLDAsMCwwXSksYT1uZXcgcihbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSx1PW5ldyByKFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSkscz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1uZXcgbigzMSksaT0wO2k8MzE7KytpKXJbaV09ZSs9MTw8dFtpLTFdO3ZhciBhPW5ldyBvKHJbMzBdKTtmb3IoaT0xO2k8MzA7KytpKWZvcih2YXIgdT1yW2ldO3U8cltpKzFdOysrdSlhW3VdPXUtcltpXTw8NXxpO3JldHVybltyLGFdfSxmPXMoaSwyKSxoPWZbMF0sYz1mWzFdO2hbMjhdPTI1OCxjWzI1OF09Mjg7Zm9yKHZhciBsPXMoYSwwKSxwPWxbMF0sZD1sWzFdLHk9bmV3IG4oMzI3NjgpLHY9MDt2PDMyNzY4Oysrdil7dmFyIGc9KDQzNjkwJnYpPj4+MXwoMjE4NDUmdik8PDE7Zz0oNjE2ODAmKGc9KDUyNDI4JmcpPj4+MnwoMTMxMDcmZyk8PDIpKT4+PjR8KDM4NTUmZyk8PDQseVt2XT0oKDY1MjgwJmcpPj4+OHwoMjU1JmcpPDw4KT4+PjF9dmFyIGI9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbz10Lmxlbmd0aCxpPTAsYT1uZXcgbihlKTtpPG87KytpKSsrYVt0W2ldLTFdO3ZhciB1LHM9bmV3IG4oZSk7Zm9yKGk9MDtpPGU7KytpKXNbaV09c1tpLTFdK2FbaS0xXTw8MTtpZihyKXt1PW5ldyBuKDE8PGUpO3ZhciBmPTE1LWU7Zm9yKGk9MDtpPG87KytpKWlmKHRbaV0pZm9yKHZhciBoPWk8PDR8dFtpXSxjPWUtdFtpXSxsPXNbdFtpXS0xXSsrPDxjLHA9bHwoMTw8YyktMTtsPD1wOysrbCl1W3lbbF0+Pj5mXT1ofWVsc2UgZm9yKHU9bmV3IG4obyksaT0wO2k8bzsrK2kpdVtpXT15W3NbdFtpXS0xXSsrXT4+PjE1LXRbaV07cmV0dXJuIHV9LHc9bmV3IHIoMjg4KTtmb3Iodj0wO3Y8MTQ0Oysrdil3W3ZdPTg7Zm9yKHY9MTQ0O3Y8MjU2Oysrdil3W3ZdPTk7Zm9yKHY9MjU2O3Y8MjgwOysrdil3W3ZdPTc7Zm9yKHY9MjgwO3Y8Mjg4Oysrdil3W3ZdPTg7dmFyIG09bmV3IHIoMzIpO2Zvcih2PTA7djwzMjsrK3YpbVt2XT01O3ZhciBfPWIodyw5LDApLEE9Yih3LDksMSksRT1iKG0sNSwwKSxPPWIobSw1LDEpLFM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRbMF0scj0xO3I8dC5sZW5ndGg7KytyKXRbcl0+ZSYmKGU9dFtyXSk7cmV0dXJuIGV9LE09ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWUvOD4+MDtyZXR1cm4odFtuXXx0W24rMV08PDgpPj4+KDcmZSkmcn0sQj1mdW5jdGlvbih0LGUpe3ZhciByPWUvOD4+MDtyZXR1cm4odFtyXXx0W3IrMV08PDh8dFtyKzJdPDwxNik+Pj4oNyZlKX0sVT1mdW5jdGlvbih0KXtyZXR1cm4odC84Pj4wKSsoNyZ0JiYxKX0sVD1mdW5jdGlvbih0LGUsaSl7KG51bGw9PWV8fGU8MCkmJihlPTApLChudWxsPT1pfHxpPnQubGVuZ3RoKSYmKGk9dC5sZW5ndGgpO3ZhciBhPW5ldyh0IGluc3RhbmNlb2Ygbj9uOnQgaW5zdGFuY2VvZiBvP286cikoaS1lKTtyZXR1cm4gYS5zZXQodC5zdWJhcnJheShlLGkpKSxhfSx4PWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10Lmxlbmd0aCxzPSFlfHxuLGY9IW58fG4uaTtufHwobj17fSksZXx8KGU9bmV3IHIoMypvKSk7dmFyIGM9ZnVuY3Rpb24odCl7dmFyIG49ZS5sZW5ndGg7aWYodD5uKXt2YXIgbz1uZXcgcihNYXRoLm1heCgyKm4sdCkpO28uc2V0KGUpLGU9b319LGw9bi5mfHwwLGQ9bi5wfHwwLHk9bi5ifHwwLHY9bi5sLGc9bi5kLHc9bi5tLG09bi5uLF89OCpvO2Rve2lmKCF2KXtuLmY9bD1NKHQsZCwxKTt2YXIgRT1NKHQsZCsxLDMpO2lmKGQrPTMsIUUpe3ZhciB4PXRbKEY9VShkKSs0KS00XXx0W0YtM108PDgsaj1GK3g7aWYoaj5vKXtpZihmKXRocm93InVuZXhwZWN0ZWQgRU9GIjticmVha31zJiZjKHkreCksZS5zZXQodC5zdWJhcnJheShGLGopLHkpLG4uYj15Kz14LG4ucD1kPTgqajtjb250aW51ZX1pZigxPT1FKXY9QSxnPU8sdz05LG09NTtlbHNle2lmKDIhPUUpdGhyb3ciaW52YWxpZCBibG9jayB0eXBlIjt2YXIgUD1NKHQsZCwzMSkrMjU3LEk9TSh0LGQrMTAsMTUpKzQsRD1QK00odCxkKzUsMzEpKzE7ZCs9MTQ7Zm9yKHZhciBDPW5ldyByKEQpLGs9bmV3IHIoMTkpLCQ9MDskPEk7KyskKWtbdVskXV09TSh0LGQrMyokLDcpO2QrPTMqSTt2YXIgUj1TKGspLEw9KDE8PFIpLTE7aWYoIWYmJmQrRCooUis3KT5fKWJyZWFrO3ZhciB6PWIoayxSLDEpO2ZvcigkPTA7JDxEOyl7dmFyIEYsTj16W00odCxkLEwpXTtpZihkKz0xNSZOLChGPU4+Pj40KTwxNilDWyQrK109RjtlbHNle3ZhciBIPTAsWT0wO2ZvcigxNj09Rj8oWT0zK00odCxkLDMpLGQrPTIsSD1DWyQtMV0pOjE3PT1GPyhZPTMrTSh0LGQsNyksZCs9Myk6MTg9PUYmJihZPTExK00odCxkLDEyNyksZCs9Nyk7WS0tOylDWyQrK109SH19dmFyIHE9Qy5zdWJhcnJheSgwLFApLEc9Qy5zdWJhcnJheShQKTt3PVMocSksbT1TKEcpLHY9YihxLHcsMSksZz1iKEcsbSwxKX1pZihkPl8pdGhyb3cidW5leHBlY3RlZCBFT0YifXMmJmMoeSsxMzEwNzIpO2Zvcih2YXIgWj0oMTw8dyktMSxWPSgxPDxtKS0xLFc9dyttKzE4O2Z8fGQrVzxfOyl7dmFyIEo9KEg9dltCKHQsZCkmWl0pPj4+NDtpZigoZCs9MTUmSCk+Xyl0aHJvdyJ1bmV4cGVjdGVkIEVPRiI7aWYoIUgpdGhyb3ciaW52YWxpZCBsZW5ndGgvbGl0ZXJhbCI7aWYoSjwyNTYpZVt5KytdPUo7ZWxzZXtpZigyNTY9PUope3Y9bnVsbDticmVha312YXIgWD1KLTI1NDtpZihKPjI2NCl7dmFyIFE9aVskPUotMjU3XTtYPU0odCxkLCgxPDxRKS0xKStoWyRdLGQrPVF9dmFyIEs9Z1tCKHQsZCkmVl0sdHQ9Sz4+PjQ7aWYoIUspdGhyb3ciaW52YWxpZCBkaXN0YW5jZSI7ZCs9MTUmSztHPXBbdHRdO2lmKHR0PjMpe1E9YVt0dF07Rys9Qih0LGQpJigxPDxRKS0xLGQrPVF9aWYoZD5fKXRocm93InVuZXhwZWN0ZWQgRU9GIjtzJiZjKHkrMTMxMDcyKTtmb3IodmFyIGV0PXkrWDt5PGV0O3krPTQpZVt5XT1lW3ktR10sZVt5KzFdPWVbeSsxLUddLGVbeSsyXT1lW3krMi1HXSxlW3krM109ZVt5KzMtR107eT1ldH19bi5sPXYsbi5wPWQsbi5iPXksdiYmKGw9MSxuLm09dyxuLmQ9ZyxuLm49bSl9d2hpbGUoIWwpO3JldHVybiB5PT1lLmxlbmd0aD9lOlQoZSwwLHkpfSxqPWZ1bmN0aW9uKHQsZSxyKXtyPDw9NyZlO3ZhciBuPWUvOD4+MDt0W25dfD1yLHRbbisxXXw9cj4+Pjh9LFA9ZnVuY3Rpb24odCxlLHIpe3I8PD03JmU7dmFyIG49ZS84Pj4wO3Rbbl18PXIsdFtuKzFdfD1yPj4+OCx0W24rMl18PXI+Pj4xNn0sST1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbz1bXSxpPTA7aTx0Lmxlbmd0aDsrK2kpdFtpXSYmby5wdXNoKHtzOmksZjp0W2ldfSk7dmFyIGE9by5sZW5ndGgsdT1vLnNsaWNlKCk7aWYoIWEpcmV0dXJuW25ldyByKDApLDBdO2lmKDE9PWEpe3ZhciBzPW5ldyByKG9bMF0ucysxKTtyZXR1cm4gc1tvWzBdLnNdPTEsW3MsMV19by5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LmYtZS5mfSkpLG8ucHVzaCh7czotMSxmOjI1MDAxfSk7dmFyIGY9b1swXSxoPW9bMV0sYz0wLGw9MSxwPTI7Zm9yKG9bMF09e3M6LTEsZjpmLmYraC5mLGw6ZixyOmh9O2whPWEtMTspZj1vW29bY10uZjxvW3BdLmY/YysrOnArK10saD1vW2MhPWwmJm9bY10uZjxvW3BdLmY/YysrOnArK10sb1tsKytdPXtzOi0xLGY6Zi5mK2guZixsOmYscjpofTt2YXIgZD11WzBdLnM7Zm9yKGk9MTtpPGE7KytpKXVbaV0ucz5kJiYoZD11W2ldLnMpO3ZhciB5PW5ldyBuKGQrMSksdj1EKG9bbC0xXSx5LDApO2lmKHY+ZSl7aT0wO3ZhciBnPTAsYj12LWUsdz0xPDxiO2Zvcih1LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHlbZS5zXS15W3Quc118fHQuZi1lLmZ9KSk7aTxhOysraSl7dmFyIG09dVtpXS5zO2lmKCEoeVttXT5lKSlicmVhaztnKz13LSgxPDx2LXlbbV0pLHlbbV09ZX1mb3IoZz4+Pj1iO2c+MDspe3ZhciBfPXVbaV0uczt5W19dPGU/Zy09MTw8ZS15W19dKystMTorK2l9Zm9yKDtpPj0wJiZnOy0taSl7dmFyIEE9dVtpXS5zO3lbQV09PWUmJigtLXlbQV0sKytnKX12PWV9cmV0dXJuW25ldyByKHkpLHZdfSxEPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4tMT09dC5zP01hdGgubWF4KEQodC5sLGUscisxKSxEKHQucixlLHIrMSkpOmVbdC5zXT1yfSxDPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDtlJiYhdFstLWVdOyk7Zm9yKHZhciByPW5ldyBuKCsrZSksbz0wLGk9dFswXSxhPTEsdT1mdW5jdGlvbih0KXtyW28rK109dH0scz0xO3M8PWU7KytzKWlmKHRbc109PWkmJnMhPWUpKythO2Vsc2V7aWYoIWkmJmE+Mil7Zm9yKDthPjEzODthLT0xMzgpdSgzMjc1NCk7YT4yJiYodShhPjEwP2EtMTE8PDV8Mjg2OTA6YS0zPDw1fDEyMzA1KSxhPTApfWVsc2UgaWYoYT4zKXtmb3IodShpKSwtLWE7YT42O2EtPTYpdSg4MzA0KTthPjImJih1KGEtMzw8NXw4MjA4KSxhPTApfWZvcig7YS0tOyl1KGkpO2E9MSxpPXRbc119cmV0dXJuW3Iuc3ViYXJyYXkoMCxvKSxlXX0saz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLG49MDtuPGUubGVuZ3RoOysrbilyKz10W25dKmVbbl07cmV0dXJuIHJ9LCQ9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXIubGVuZ3RoLG89VShlKzIpO3Rbb109MjU1Jm4sdFtvKzFdPW4+Pj44LHRbbysyXT0yNTVedFtvXSx0W28rM109MjU1XnRbbysxXTtmb3IodmFyIGk9MDtpPG47KytpKXRbbytpKzRdPXJbaV07cmV0dXJuIDgqKG8rNCtuKX0sUj1mdW5jdGlvbih0LGUscixvLHMsZixoLGMsbCxwLGQpe2ooZSxkKyssciksKytzWzI1Nl07Zm9yKHZhciB5PUkocywxNSksdj15WzBdLGc9eVsxXSxBPUkoZiwxNSksTz1BWzBdLFM9QVsxXSxNPUModiksQj1NWzBdLFU9TVsxXSxUPUMoTykseD1UWzBdLEQ9VFsxXSxSPW5ldyBuKDE5KSxMPTA7TDxCLmxlbmd0aDsrK0wpUlszMSZCW0xdXSsrO2ZvcihMPTA7TDx4Lmxlbmd0aDsrK0wpUlszMSZ4W0xdXSsrO2Zvcih2YXIgej1JKFIsNyksRj16WzBdLE49elsxXSxIPTE5O0g+NCYmIUZbdVtILTFdXTstLUgpO3ZhciBZLHEsRyxaLFY9cCs1PDwzLFc9ayhzLHcpK2soZixtKStoLEo9ayhzLHYpK2soZixPKStoKzE0KzMqSCtrKFIsRikrKDIqUlsxNl0rMypSWzE3XSs3KlJbMThdKTtpZihWPD1XJiZWPD1KKXJldHVybiAkKGUsZCx0LnN1YmFycmF5KGwsbCtwKSk7aWYoaihlLGQsMSsoSjxXKSksZCs9MixKPFcpe1k9Yih2LGcsMCkscT12LEc9YihPLFMsMCksWj1PO3ZhciBYPWIoRixOLDApO2ooZSxkLFUtMjU3KSxqKGUsZCs1LEQtMSksaihlLGQrMTAsSC00KSxkKz0xNDtmb3IoTD0wO0w8SDsrK0wpaihlLGQrMypMLEZbdVtMXV0pO2QrPTMqSDtmb3IodmFyIFE9W0IseF0sSz0wO0s8MjsrK0spe3ZhciB0dD1RW0tdO2ZvcihMPTA7TDx0dC5sZW5ndGg7KytMKXt2YXIgZXQ9MzEmdHRbTF07aihlLGQsWFtldF0pLGQrPUZbZXRdLGV0PjE1JiYoaihlLGQsdHRbTF0+Pj41JjEyNyksZCs9dHRbTF0+Pj4xMil9fX1lbHNlIFk9XyxxPXcsRz1FLFo9bTtmb3IoTD0wO0w8YzsrK0wpaWYob1tMXT4yNTUpe2V0PW9bTF0+Pj4xOCYzMTtQKGUsZCxZW2V0KzI1N10pLGQrPXFbZXQrMjU3XSxldD43JiYoaihlLGQsb1tMXT4+PjIzJjMxKSxkKz1pW2V0XSk7dmFyIHJ0PTMxJm9bTF07UChlLGQsR1tydF0pLGQrPVpbcnRdLHJ0PjMmJihQKGUsZCxvW0xdPj4+NSY4MTkxKSxkKz1hW3J0XSl9ZWxzZSBQKGUsZCxZW29bTF1dKSxkKz1xW29bTF1dO3JldHVybiBQKGUsZCxZWzI1Nl0pLGQrcVsyNTZdfSxMPW5ldyBvKFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLHo9bmV3IHIoMCksRj1mdW5jdGlvbih0LGUsdSxzLGYsaCl7dmFyIGw9dC5sZW5ndGgscD1uZXcgcihzK2wrNSooMStNYXRoLmNlaWwobC83ZTMpKStmKSx5PXAuc3ViYXJyYXkocyxwLmxlbmd0aC1mKSx2PTA7aWYoIWV8fGw8OClmb3IodmFyIGc9MDtnPD1sO2crPTY1NTM1KXt2YXIgYj1nKzY1NTM1O2I8bD92PSQoeSx2LHQuc3ViYXJyYXkoZyxiKSk6KHlbZ109aCx2PSQoeSx2LHQuc3ViYXJyYXkoZyxsKSkpfWVsc2V7Zm9yKHZhciB3PUxbZS0xXSxtPXc+Pj4xMyxfPTgxOTEmdyxBPSgxPDx1KS0xLEU9bmV3IG4oMzI3NjgpLE89bmV3IG4oQSsxKSxTPU1hdGguY2VpbCh1LzMpLE09MipTLEI9ZnVuY3Rpb24oZSl7cmV0dXJuKHRbZV1edFtlKzFdPDxTXnRbZSsyXTw8TSkmQX0seD1uZXcgbygyNWUzKSxqPW5ldyBuKDI4OCksUD1uZXcgbigzMiksST0wLEQ9MCxDPShnPTAsMCksaz0wLEY9MDtnPGw7KytnKXt2YXIgTj1CKGcpLEg9MzI3NjcmZyxZPU9bTl07aWYoRVtIXT1ZLE9bTl09SCxrPD1nKXt2YXIgcT1sLWc7aWYoKEk+N2UzfHxDPjI0NTc2KSYmcT40MjMpe3Y9Uih0LHksMCx4LGosUCxELEMsRixnLUYsdiksQz1JPUQ9MCxGPWc7Zm9yKHZhciBHPTA7RzwyODY7KytHKWpbR109MDtmb3IoRz0wO0c8MzA7KytHKVBbR109MH12YXIgWj0yLFY9MCxXPV8sSj1ILVkmMzI3Njc7aWYocT4yJiZOPT1CKGctSikpZm9yKHZhciBYPU1hdGgubWluKG0scSktMSxRPU1hdGgubWluKDMyNzY3LGcpLEs9TWF0aC5taW4oMjU4LHEpO0o8PVEmJi0tVyYmSCE9WTspe2lmKHRbZytaXT09dFtnK1otSl0pe2Zvcih2YXIgdHQ9MDt0dDxLJiZ0W2crdHRdPT10W2crdHQtSl07Kyt0dCk7aWYodHQ+Wil7aWYoWj10dCxWPUosdHQ+WClicmVhazt2YXIgZXQ9TWF0aC5taW4oSix0dC0yKSxydD0wO2ZvcihHPTA7RzxldDsrK0cpe3ZhciBudD1nLUorRyszMjc2OCYzMjc2NyxvdD1udC1FW250XSszMjc2OCYzMjc2NztvdD5ydCYmKHJ0PW90LFk9bnQpfX19Sis9KEg9WSktKFk9RVtIXSkrMzI3NjgmMzI3Njd9aWYoVil7eFtDKytdPTI2ODQzNTQ1NnxjW1pdPDwxOHxkW1ZdO3ZhciBpdD0zMSZjW1pdLGF0PTMxJmRbVl07RCs9aVtpdF0rYVthdF0sKytqWzI1NytpdF0sKytQW2F0XSxrPWcrWiwrK0l9ZWxzZSB4W0MrK109dFtnXSwrK2pbdFtnXV19fXY9Uih0LHksaCx4LGosUCxELEMsRixnLUYsdiksIWgmJjcmdiYmKHY9JCh5LHYrMSx6KSl9cmV0dXJuIFQocCwwLHMrVSh2KStmKX0sTj1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgbygyNTYpLGU9MDtlPDI1NjsrK2Upe2Zvcih2YXIgcj1lLG49OTstLW47KXI9KDEmciYmMzk4ODI5MjM4NClecj4+PjE7dFtlXT1yfXJldHVybiB0fSgpLEg9ZnVuY3Rpb24oKXt2YXIgdD00Mjk0OTY3Mjk1O3JldHVybntwOmZ1bmN0aW9uKGUpe2Zvcih2YXIgcj10LG49MDtuPGUubGVuZ3RoOysrbilyPU5bMjU1JnJeZVtuXV1ecj4+Pjg7dD1yfSxkOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTVedH19fSxZPWZ1bmN0aW9uKCl7dmFyIHQ9MSxlPTA7cmV0dXJue3A6ZnVuY3Rpb24ocil7Zm9yKHZhciBuPXQsbz1lLGk9ci5sZW5ndGgsYT0wO2EhPWk7KXtmb3IodmFyIHU9TWF0aC5taW4oYSs1NTUyLGkpO2E8dTsrK2Epbys9bis9clthXTtuJT02NTUyMSxvJT02NTUyMX10PW4sZT1vfSxkOmZ1bmN0aW9uKCl7cmV0dXJuKHQ+Pj44PDwxNnwoMjU1JmUpPDw4fGU+Pj44KSsyKigoMjU1JnQpPDwyMyl9fX0scT1mdW5jdGlvbih0LGUscixuLG8pe3JldHVybiBGKHQsbnVsbD09ZS5sZXZlbD82OmUubGV2ZWwsbnVsbD09ZS5tZW0/TWF0aC5jZWlsKDEuNSpNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKHQubGVuZ3RoKSkpKToxMitlLm1lbSxyLG4sIW8pfSxHPWZ1bmN0aW9uKHQsZSl7dmFyIHI9e307Zm9yKHZhciBuIGluIHQpcltuXT10W25dO2Zvcih2YXIgbiBpbiBlKXJbbl09ZVtuXTtyZXR1cm4gcn0sWj1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuPXQoKSxvPXQudG9TdHJpbmcoKSxpPW8uc2xpY2Uoby5pbmRleE9mKCJbIikrMSxvLmxhc3RJbmRleE9mKCJdIikpLnJlcGxhY2UoLyAvZywiIikuc3BsaXQoIiwiKSxhPTA7YTxuLmxlbmd0aDsrK2Epe3ZhciB1PW5bYV0scz1pW2FdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB1KXtlKz0iOyIrcysiPSI7dmFyIGY9dS50b1N0cmluZygpO2lmKHUucHJvdG90eXBlKWlmKC0xIT1mLmluZGV4T2YoIltuYXRpdmUgY29kZV0iKSl7dmFyIGg9Zi5pbmRleE9mKCIgIiw4KSsxO2UrPWYuc2xpY2UoaCxmLmluZGV4T2YoIigiLGgpKX1lbHNlIGZvcih2YXIgYyBpbiBlKz1mLHUucHJvdG90eXBlKWUrPSI7IitzKyIucHJvdG90eXBlLiIrYysiPSIrdS5wcm90b3R5cGVbY10udG9TdHJpbmcoKTtlbHNlIGUrPWZ9ZWxzZSByW3NdPXV9cmV0dXJuW2Uscl19LFY9W10sVz1mdW5jdGlvbih0LGUsaSxhKXt2YXIgdTtpZighVltpXSl7Zm9yKHZhciBzPSIiLGY9e30saD10Lmxlbmd0aC0xLGM9MDtjPGg7KytjKXM9KHU9Wih0W2NdLHMsZikpWzBdLGY9dVsxXTtWW2ldPVoodFtoXSxzLGYpfXZhciBsPUcoe30sVltpXVsxXSk7cmV0dXJuIGZ0LmRlZmF1bHQoVltpXVswXSsiO29ubWVzc2FnZT1mdW5jdGlvbihlKXtmb3IodmFyIGsgaW4gZS5kYXRhKXNlbGZba109ZS5kYXRhW2tdO29ubWVzc2FnZT0iK2UudG9TdHJpbmcoKSsifSIsaSxsLGZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgaSBpbiB0KSh0W2ldaW5zdGFuY2VvZiByfHx0W2ldaW5zdGFuY2VvZiBufHx0W2ldaW5zdGFuY2VvZiBvKSYmZS5wdXNoKCh0W2ldPW5ldyB0W2ldLmNvbnN0cnVjdG9yKHRbaV0pKS5idWZmZXIpO3JldHVybiBlfShsKSxhKX0sSj1mdW5jdGlvbigpe3JldHVybltyLG4sbyxpLGEsdSxoLHAsQSxPLHksYixTLE0sQixVLFQseCxNdCxydCxudF19LFg9ZnVuY3Rpb24oKXtyZXR1cm5bcixuLG8saSxhLHUsYyxkLF8sdyxFLG0seSxMLHosYixqLFAsSSxELEMsaywkLFIsVSxULEYscSxBdCxydF19LFE9ZnVuY3Rpb24oKXtyZXR1cm5bbHQseXQsY3QsSCxOXX0sSz1mdW5jdGlvbigpe3JldHVybltwdCxkdF19LHR0PWZ1bmN0aW9uKCl7cmV0dXJuW3Z0LGN0LFldfSxldD1mdW5jdGlvbigpe3JldHVybltndF19LHJ0PWZ1bmN0aW9uKHQpe3JldHVybiBwb3N0TWVzc2FnZSh0LFt0LmJ1ZmZlcl0pfSxudD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5zaXplJiZuZXcgcih0LnNpemUpfSxvdD1mdW5jdGlvbih0LGUsbixvLGksYSl7dmFyIHU9VyhuLG8saSwoZnVuY3Rpb24odCxlKXt1LnRlcm1pbmF0ZSgpLGEodCxlKX0pKTtyZXR1cm4gZS5jb25zdW1lfHwodD1uZXcgcih0KSksdS5wb3N0TWVzc2FnZShbdCxlXSxbdC5idWZmZXJdKSxmdW5jdGlvbigpe3UudGVybWluYXRlKCl9fSxpdD1mdW5jdGlvbih0KXtyZXR1cm4gdC5vbmRhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcG9zdE1lc3NhZ2UoW3QsZV0sW3QuYnVmZmVyXSl9LGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2goZS5kYXRhWzBdLGUuZGF0YVsxXSl9fSxhdD1mdW5jdGlvbih0LGUscixuLG8pe3ZhciBpLGE9Vyh0LG4sbywoZnVuY3Rpb24odCxyKXt0PyhhLnRlcm1pbmF0ZSgpLGUub25kYXRhLmNhbGwoZSx0KSk6KHJbMV0mJmEudGVybWluYXRlKCksZS5vbmRhdGEuY2FsbChlLHQsclswXSxyWzFdKSl9KSk7YS5wb3N0TWVzc2FnZShyKSxlLnB1c2g9ZnVuY3Rpb24odCxyKXtpZihpKXRocm93InN0cmVhbSBmaW5pc2hlZCI7aWYoIWUub25kYXRhKXRocm93Im5vIHN0cmVhbSBoYW5kbGVyIjthLnBvc3RNZXNzYWdlKFt0LGk9cl0sW3QuYnVmZmVyXSl9LGUudGVybWluYXRlPWZ1bmN0aW9uKCl7YS50ZXJtaW5hdGUoKX19LHV0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV18dFtlKzFdPDw4fSxzdD1mdW5jdGlvbih0LGUpe3JldHVybih0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsyKih0W2UrM108PDIzKX0saHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gc3QodCxlKXw0Mjk0OTY3Mjk2KnN0KHQsZSl9LGN0PWZ1bmN0aW9uKHQsZSxyKXtmb3IoO3I7KytlKXRbZV09cixyPj4+PTh9LGx0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5maWxlbmFtZTtpZih0WzBdPTMxLHRbMV09MTM5LHRbMl09OCx0WzhdPWUubGV2ZWw8Mj80Ojk9PWUubGV2ZWw/MjowLHRbOV09MywwIT1lLm10aW1lJiZjdCh0LDQsTWF0aC5mbG9vcihuZXcgRGF0ZShlLm10aW1lfHxEYXRlLm5vdygpKS8xZTMpKSxyKXt0WzNdPTg7Zm9yKHZhciBuPTA7bjw9ci5sZW5ndGg7KytuKXRbbisxMF09ci5jaGFyQ29kZUF0KG4pfX0scHQ9ZnVuY3Rpb24odCl7aWYoMzEhPXRbMF18fDEzOSE9dFsxXXx8OCE9dFsyXSl0aHJvdyJpbnZhbGlkIGd6aXAgZGF0YSI7dmFyIGU9dFszXSxyPTEwOzQmZSYmKHIrPXRbMTBdfDIrKHRbMTFdPDw4KSk7Zm9yKHZhciBuPShlPj4zJjEpKyhlPj40JjEpO24+MDtuLT0hdFtyKytdKTtyZXR1cm4gcisoMiZlKX0sZHQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7cmV0dXJuKHRbZS00XXx0W2UtM108PDh8dFtlLTJdPDwxNikrMioodFtlLTFdPDwyMyl9LHl0PWZ1bmN0aW9uKHQpe3JldHVybiAxMCsodC5maWxlbmFtZSYmdC5maWxlbmFtZS5sZW5ndGgrMXx8MCl9LHZ0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5sZXZlbCxuPTA9PXI/MDpyPDY/MTo5PT1yPzM6Mjt0WzBdPTEyMCx0WzFdPW48PDZ8KG4/MzItMipuOjEpfSxndD1mdW5jdGlvbih0KXtpZig4IT0oMTUmdFswXSl8fHRbMF0+Pj40Pjd8fCh0WzBdPDw4fHRbMV0pJTMxKXRocm93ImludmFsaWQgemxpYiBkYXRhIjtpZigzMiZ0WzFdKXRocm93ImludmFsaWQgemxpYiBkYXRhOiBwcmVzZXQgZGljdGlvbmFyaWVzIG5vdCBzdXBwb3J0ZWQifTtmdW5jdGlvbiBidCh0LGUpe3JldHVybiBlfHwiZnVuY3Rpb24iIT10eXBlb2YgdHx8KGU9dCx0PXt9KSx0aGlzLm9uZGF0YT1lLHR9dmFyIHd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2V8fCJmdW5jdGlvbiIhPXR5cGVvZiB0fHwoZT10LHQ9e30pLHRoaXMub25kYXRhPWUsdGhpcy5vPXR8fHt9fXJldHVybiB0LnByb3RvdHlwZS5wPWZ1bmN0aW9uKHQsZSl7dGhpcy5vbmRhdGEocSh0LHRoaXMubywwLDAsIWUpLGUpfSx0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5kKXRocm93InN0cmVhbSBmaW5pc2hlZCI7aWYoIXRoaXMub25kYXRhKXRocm93Im5vIHN0cmVhbSBoYW5kbGVyIjt0aGlzLmQ9ZSx0aGlzLnAodCxlfHwhMSl9LHR9KCk7ZS5EZWZsYXRlPXd0O3ZhciBtdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe2F0KFtYLGZ1bmN0aW9uKCl7cmV0dXJuW2l0LHd0XX1dLHRoaXMsYnQuY2FsbCh0aGlzLHQsZSksKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB3dCh0LmRhdGEpO29ubWVzc2FnZT1pdChlKX0pLDYpfX0oKTtmdW5jdGlvbiBfdCh0LGUscil7aWYocnx8KHI9ZSxlPXt9KSwiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyJubyBjYWxsYmFjayI7cmV0dXJuIG90KHQsZSxbWF0sKGZ1bmN0aW9uKHQpe3JldHVybiBydChBdCh0LmRhdGFbMF0sdC5kYXRhWzFdKSl9KSwwLHIpfWZ1bmN0aW9uIEF0KHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxxKHQsZSwwLDApfWUuQXN5bmNEZWZsYXRlPW10LGUuZGVmbGF0ZT1fdCxlLmRlZmxhdGVTeW5jPUF0O3ZhciBFdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5zPXt9LHRoaXMucD1uZXcgcigwKSx0aGlzLm9uZGF0YT10fXJldHVybiB0LnByb3RvdHlwZS5lPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZCl0aHJvdyJzdHJlYW0gZmluaXNoZWQiO2lmKCF0aGlzLm9uZGF0YSl0aHJvdyJubyBzdHJlYW0gaGFuZGxlciI7dmFyIGU9dGhpcy5wLmxlbmd0aCxuPW5ldyByKGUrdC5sZW5ndGgpO24uc2V0KHRoaXMucCksbi5zZXQodCxlKSx0aGlzLnA9bn0sdC5wcm90b3R5cGUuYz1mdW5jdGlvbih0KXt0aGlzLmQ9dGhpcy5zLmk9dHx8ITE7dmFyIGU9dGhpcy5zLmIscj14KHRoaXMucCx0aGlzLm8sdGhpcy5zKTt0aGlzLm9uZGF0YShUKHIsZSx0aGlzLnMuYiksdGhpcy5kKSx0aGlzLm89VChyLHRoaXMucy5iLTMyNzY4KSx0aGlzLnMuYj10aGlzLm8ubGVuZ3RoLHRoaXMucD1UKHRoaXMucCx0aGlzLnMucC84Pj4wKSx0aGlzLnMucCY9N30sdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe3RoaXMuZSh0KSx0aGlzLmMoZSl9LHR9KCk7ZS5JbmZsYXRlPUV0O3ZhciBPdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt0aGlzLm9uZGF0YT10LGF0KFtKLGZ1bmN0aW9uKCl7cmV0dXJuW2l0LEV0XX1dLHRoaXMsMCwoZnVuY3Rpb24oKXt2YXIgdD1uZXcgRXQ7b25tZXNzYWdlPWl0KHQpfSksNyl9fSgpO2Z1bmN0aW9uIFN0KHQsZSxyKXtpZihyfHwocj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93Im5vIGNhbGxiYWNrIjtyZXR1cm4gb3QodCxlLFtKXSwoZnVuY3Rpb24odCl7cmV0dXJuIHJ0KE10KHQuZGF0YVswXSxudCh0LmRhdGFbMV0pKSl9KSwxLHIpfWZ1bmN0aW9uIE10KHQsZSl7cmV0dXJuIHgodCxlKX1lLkFzeW5jSW5mbGF0ZT1PdCxlLmluZmxhdGU9U3QsZS5pbmZsYXRlU3luYz1NdDt2YXIgQnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5jPUgoKSx0aGlzLmw9MCx0aGlzLnY9MSx3dC5jYWxsKHRoaXMsdCxlKX1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe3d0LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5wPWZ1bmN0aW9uKHQsZSl7dGhpcy5jLnAodCksdGhpcy5sKz10Lmxlbmd0aDt2YXIgcj1xKHQsdGhpcy5vLHRoaXMudiYmeXQodGhpcy5vKSxlJiY4LCFlKTt0aGlzLnYmJihsdChyLHRoaXMubyksdGhpcy52PTApLGUmJihjdChyLHIubGVuZ3RoLTgsdGhpcy5jLmQoKSksY3QocixyLmxlbmd0aC00LHRoaXMubCkpLHRoaXMub25kYXRhKHIsZSl9LHR9KCk7ZS5HemlwPUJ0LGUuQ29tcHJlc3M9QnQ7dmFyIFV0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7YXQoW1gsUSxmdW5jdGlvbigpe3JldHVybltpdCx3dCxCdF19XSx0aGlzLGJ0LmNhbGwodGhpcyx0LGUpLChmdW5jdGlvbih0KXt2YXIgZT1uZXcgQnQodC5kYXRhKTtvbm1lc3NhZ2U9aXQoZSl9KSw4KX19KCk7ZnVuY3Rpb24gVHQodCxlLHIpe2lmKHJ8fChyPWUsZT17fSksImZ1bmN0aW9uIiE9dHlwZW9mIHIpdGhyb3cibm8gY2FsbGJhY2siO3JldHVybiBvdCh0LGUsW1gsUSxmdW5jdGlvbigpe3JldHVyblt4dF19XSwoZnVuY3Rpb24odCl7cmV0dXJuIHJ0KHh0KHQuZGF0YVswXSx0LmRhdGFbMV0pKX0pLDIscil9ZnVuY3Rpb24geHQodCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIHI9SCgpLG49dC5sZW5ndGg7ci5wKHQpO3ZhciBvPXEodCxlLHl0KGUpLDgpLGk9by5sZW5ndGg7cmV0dXJuIGx0KG8sZSksY3QobyxpLTgsci5kKCkpLGN0KG8saS00LG4pLG99ZS5Bc3luY0d6aXA9VXQsZS5Bc3luY0NvbXByZXNzPVV0LGUuZ3ppcD1UdCxlLmNvbXByZXNzPVR0LGUuZ3ppcFN5bmM9eHQsZS5jb21wcmVzc1N5bmM9eHQ7dmFyIGp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnY9MSxFdC5jYWxsKHRoaXMsdCl9cmV0dXJuIHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXtpZihFdC5wcm90b3R5cGUuZS5jYWxsKHRoaXMsdCksdGhpcy52KXt2YXIgcj1wdCh0aGlzLnApO2lmKHI+PXRoaXMucC5sZW5ndGgmJiFlKXJldHVybjt0aGlzLnA9dGhpcy5wLnN1YmFycmF5KHIpLHRoaXMudj0wfWlmKGUpe2lmKHRoaXMucC5sZW5ndGg8OCl0aHJvdyJpbnZhbGlkIGd6aXAgc3RyZWFtIjt0aGlzLnA9dGhpcy5wLnN1YmFycmF5KDAsLTgpfUV0LnByb3RvdHlwZS5jLmNhbGwodGhpcyxlKX0sdH0oKTtlLkd1bnppcD1qdDt2YXIgUHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dGhpcy5vbmRhdGE9dCxhdChbSixLLGZ1bmN0aW9uKCl7cmV0dXJuW2l0LEV0LGp0XX1dLHRoaXMsMCwoZnVuY3Rpb24oKXt2YXIgdD1uZXcganQ7b25tZXNzYWdlPWl0KHQpfSksOSl9fSgpO2Z1bmN0aW9uIEl0KHQsZSxyKXtpZihyfHwocj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93Im5vIGNhbGxiYWNrIjtyZXR1cm4gb3QodCxlLFtKLEssZnVuY3Rpb24oKXtyZXR1cm5bRHRdfV0sKGZ1bmN0aW9uKHQpe3JldHVybiBydChEdCh0LmRhdGFbMF0pKX0pLDMscil9ZnVuY3Rpb24gRHQodCxlKXtyZXR1cm4geCh0LnN1YmFycmF5KHB0KHQpLC04KSxlfHxuZXcgcihkdCh0KSkpfWUuQXN5bmNHdW56aXA9UHQsZS5ndW56aXA9SXQsZS5ndW56aXBTeW5jPUR0O3ZhciBDdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmM9WSgpLHRoaXMudj0xLHd0LmNhbGwodGhpcyx0LGUpfXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7d3QucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHQsZSl9LHQucHJvdG90eXBlLnA9ZnVuY3Rpb24odCxlKXt0aGlzLmMucCh0KTt2YXIgcj1xKHQsdGhpcy5vLHRoaXMudiYmMixlJiY0LCFlKTt0aGlzLnYmJih2dChyLHRoaXMubyksdGhpcy52PTApLGUmJmN0KHIsci5sZW5ndGgtNCx0aGlzLmMuZCgpKSx0aGlzLm9uZGF0YShyLGUpfSx0fSgpO2UuWmxpYj1DdDt2YXIga3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXthdChbWCx0dCxmdW5jdGlvbigpe3JldHVybltpdCx3dCxDdF19XSx0aGlzLGJ0LmNhbGwodGhpcyx0LGUpLChmdW5jdGlvbih0KXt2YXIgZT1uZXcgQ3QodC5kYXRhKTtvbm1lc3NhZ2U9aXQoZSl9KSwxMCl9fSgpO2Z1bmN0aW9uICR0KHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciByPVkoKTtyLnAodCk7dmFyIG49cSh0LGUsMiw0KTtyZXR1cm4gdnQobixlKSxjdChuLG4ubGVuZ3RoLTQsci5kKCkpLG59ZS5Bc3luY1psaWI9a3QsZS56bGliPWZ1bmN0aW9uKHQsZSxyKXtpZihyfHwocj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93Im5vIGNhbGxiYWNrIjtyZXR1cm4gb3QodCxlLFtYLHR0LGZ1bmN0aW9uKCl7cmV0dXJuWyR0XX1dLChmdW5jdGlvbih0KXtyZXR1cm4gcnQoJHQodC5kYXRhWzBdLHQuZGF0YVsxXSkpfSksNCxyKX0sZS56bGliU3luYz0kdDt2YXIgUnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudj0xLEV0LmNhbGwodGhpcyx0KX1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2lmKEV0LnByb3RvdHlwZS5lLmNhbGwodGhpcyx0KSx0aGlzLnYpe2lmKHRoaXMucC5sZW5ndGg8MiYmIWUpcmV0dXJuO3RoaXMucD10aGlzLnAuc3ViYXJyYXkoMiksdGhpcy52PTB9aWYoZSl7aWYodGhpcy5wLmxlbmd0aDw0KXRocm93ImludmFsaWQgemxpYiBzdHJlYW0iO3RoaXMucD10aGlzLnAuc3ViYXJyYXkoMCwtNCl9RXQucHJvdG90eXBlLmMuY2FsbCh0aGlzLGUpfSx0fSgpO2UuVW56bGliPVJ0O3ZhciBMdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt0aGlzLm9uZGF0YT10LGF0KFtKLGV0LGZ1bmN0aW9uKCl7cmV0dXJuW2l0LEV0LFJ0XX1dLHRoaXMsMCwoZnVuY3Rpb24oKXt2YXIgdD1uZXcgUnQ7b25tZXNzYWdlPWl0KHQpfSksMTEpfX0oKTtmdW5jdGlvbiB6dCh0LGUscil7aWYocnx8KHI9ZSxlPXt9KSwiZnVuY3Rpb24iIT10eXBlb2Ygcil0aHJvdyJubyBjYWxsYmFjayI7cmV0dXJuIG90KHQsZSxbSixldCxmdW5jdGlvbigpe3JldHVybltGdF19XSwoZnVuY3Rpb24odCl7cmV0dXJuIHJ0KEZ0KHQuZGF0YVswXSxudCh0LmRhdGFbMV0pKSl9KSw1LHIpfWZ1bmN0aW9uIEZ0KHQsZSl7cmV0dXJuIHgoKGd0KHQpLHQuc3ViYXJyYXkoMiwtNCkpLGUpfWUuQXN5bmNVbnpsaWI9THQsZS51bnpsaWI9enQsZS51bnpsaWJTeW5jPUZ0O3ZhciBOdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5HPWp0LHRoaXMuST1FdCx0aGlzLlo9UnQsdGhpcy5vbmRhdGE9dH1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLm9uZGF0YSl0aHJvdyJubyBzdHJlYW0gaGFuZGxlciI7aWYodGhpcy5zKXRoaXMucy5wdXNoKHQsZSk7ZWxzZXtpZih0aGlzLnAmJnRoaXMucC5sZW5ndGgpe3ZhciBuPW5ldyByKHRoaXMucC5sZW5ndGgrdC5sZW5ndGgpO24uc2V0KHRoaXMucCksbi5zZXQodCx0aGlzLnAubGVuZ3RoKX1lbHNlIHRoaXMucD10O2lmKHRoaXMucC5sZW5ndGg+Mil7dmFyIG89dGhpcyxpPWZ1bmN0aW9uKCl7by5vbmRhdGEuYXBwbHkobyxhcmd1bWVudHMpfTt0aGlzLnM9MzE9PXRoaXMucFswXSYmMTM5PT10aGlzLnBbMV0mJjg9PXRoaXMucFsyXT9uZXcgdGhpcy5HKGkpOjghPSgxNSZ0aGlzLnBbMF0pfHx0aGlzLnBbMF0+PjQ+N3x8KHRoaXMucFswXTw8OHx0aGlzLnBbMV0pJTMxP25ldyB0aGlzLkkoaSk6bmV3IHRoaXMuWihpKSx0aGlzLnMucHVzaCh0aGlzLnAsZSksdGhpcy5wPW51bGx9fX0sdH0oKTtlLkRlY29tcHJlc3M9TnQ7dmFyIEh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLkc9UHQsdGhpcy5JPU90LHRoaXMuWj1MdCx0aGlzLm9uZGF0YT10fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7TnQucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHQsZSl9LHR9KCk7ZS5Bc3luY0RlY29tcHJlc3M9SHQsZS5kZWNvbXByZXNzPWZ1bmN0aW9uKHQsZSxyKXtpZihyfHwocj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiByKXRocm93Im5vIGNhbGxiYWNrIjtyZXR1cm4gMzE9PXRbMF0mJjEzOT09dFsxXSYmOD09dFsyXT9JdCh0LGUscik6OCE9KDE1JnRbMF0pfHx0WzBdPj40Pjd8fCh0WzBdPDw4fHRbMV0pJTMxP1N0KHQsZSxyKTp6dCh0LGUscil9LGUuZGVjb21wcmVzc1N5bmM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMzE9PXRbMF0mJjEzOT09dFsxXSYmOD09dFsyXT9EdCh0LGUpOjghPSgxNSZ0WzBdKXx8dFswXT4+ND43fHwodFswXTw8OHx0WzFdKSUzMT9NdCh0LGUpOkZ0KHQsZSl9O3ZhciBZdD1mdW5jdGlvbih0LGUsbixvKXtmb3IodmFyIGkgaW4gdCl7dmFyIGE9dFtpXSx1PWUraTthIGluc3RhbmNlb2Ygcj9uW3VdPVthLG9dOkFycmF5LmlzQXJyYXkoYSk/blt1XT1bYVswXSxHKG8sYVsxXSldOll0KGEsdSsiLyIsbixvKX19LHF0PSJ1bmRlZmluZWQiIT10eXBlb2YgVGV4dEVuY29kZXImJm5ldyBUZXh0RW5jb2RlcixHdD0idW5kZWZpbmVkIiE9dHlwZW9mIFRleHREZWNvZGVyJiZuZXcgVGV4dERlY29kZXIsWnQ9MDt0cnl7R3QuZGVjb2RlKHose3N0cmVhbTohMH0pLFp0PTF9Y2F0Y2godCl7fXZhciBWdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9IiIscj0wOzspe3ZhciBuPXRbcisrXSxvPShuPjEyNykrKG4+MjIzKSsobj4yMzkpO2lmKHIrbz50Lmxlbmd0aClyZXR1cm5bZSx0LnNsaWNlKHItMSldO28/Mz09bz8obj0oKDE1Jm4pPDwxOHwoNjMmdFtyKytdKTw8MTJ8KDYzJnRbcisrXSk8PDZ8NjMmdFtyKytdKS02NTUzNixlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fG4+PjEwLDU2MzIwfDEwMjMmbikpOmUrPTEmbz9TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZuKTw8Nnw2MyZ0W3IrK10pOlN0cmluZy5mcm9tQ2hhckNvZGUoKDE1Jm4pPDwxMnwoNjMmdFtyKytdKTw8Nnw2MyZ0W3IrK10pOmUrPVN0cmluZy5mcm9tQ2hhckNvZGUobil9fSxXdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5vbmRhdGE9dCxadD90aGlzLnQ9bmV3IFRleHREZWNvZGVyOnRoaXMucD16fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMub25kYXRhKXRocm93Im5vIGNhbGxiYWNrIjtpZihlfHwoZT0hMSksdGhpcy50KXJldHVybiB0aGlzLm9uZGF0YSh0aGlzLnQuZGVjb2RlKHQse3N0cmVhbTohZX0pLGUpO3ZhciBuPW5ldyByKHRoaXMucC5sZW5ndGgrdC5sZW5ndGgpO24uc2V0KHRoaXMucCksbi5zZXQodCx0aGlzLnAubGVuZ3RoKTt2YXIgbz1WdChuKSxpPW9bMF0sYT1vWzFdO2lmKGUmJmEubGVuZ3RoKXRocm93ImludmFsaWQgdXRmLTggZGF0YSI7dGhpcy5wPWEsdGhpcy5vbmRhdGEoaSxlKX0sdH0oKTtlLkRlY29kZVVURjg9V3Q7dmFyIEp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm9uZGF0YT10fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMub25kYXRhKXRocm93Im5vIGNhbGxiYWNrIjt0aGlzLm9uZGF0YShYdCh0KSxlfHwhMSl9LHR9KCk7ZnVuY3Rpb24gWHQodCxlKXtpZihlKXtmb3IodmFyIG49bmV3IHIodC5sZW5ndGgpLG89MDtvPHQubGVuZ3RoOysrbyluW29dPXQuY2hhckNvZGVBdChvKTtyZXR1cm4gbn1pZihxdClyZXR1cm4gcXQuZW5jb2RlKHQpO3ZhciBpPXQubGVuZ3RoLGE9bmV3IHIodC5sZW5ndGgrKHQubGVuZ3RoPj4xKSksdT0wLHM9ZnVuY3Rpb24odCl7YVt1KytdPXR9O2ZvcihvPTA7bzxpOysrbyl7aWYodSs1PmEubGVuZ3RoKXt2YXIgZj1uZXcgcih1KzgrKGktbzw8MSkpO2Yuc2V0KGEpLGE9Zn12YXIgaD10LmNoYXJDb2RlQXQobyk7aDwxMjh8fGU/cyhoKTpoPDIwNDg/KHMoMTkyfGg+Pj42KSxzKDEyOHw2MyZoKSk6aD41NTI5NSYmaDw1NzM0ND8ocygyNDB8KGg9NjU1MzYrKDEwNDc1NTImaCl8MTAyMyZ0LmNoYXJDb2RlQXQoKytvKSk+Pj4xOCkscygxMjh8aD4+PjEyJjYzKSxzKDEyOHxoPj4+NiY2MykscygxMjh8NjMmaCkpOihzKDIyNHxoPj4+MTIpLHMoMTI4fGg+Pj42JjYzKSxzKDEyOHw2MyZoKSl9cmV0dXJuIFQoYSwwLHUpfWZ1bmN0aW9uIFF0KHQsZSl7aWYoZSl7Zm9yKHZhciByPSIiLG49MDtuPHQubGVuZ3RoO24rPTE2Mzg0KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx0LnN1YmFycmF5KG4sbisxNjM4NCkpO3JldHVybiByfWlmKEd0KXJldHVybiBHdC5kZWNvZGUodCk7dmFyIG89VnQodCksaT1vWzBdO2lmKG9bMV0ubGVuZ3RoKXRocm93ImludmFsaWQgdXRmLTggZGF0YSI7cmV0dXJuIGl9ZS5FbmNvZGVVVEY4PUp0LGUuc3RyVG9VOD1YdCxlLnN0ckZyb21VOD1RdDt2YXIgS3Q9ZnVuY3Rpb24odCl7cmV0dXJuIDE9PXQ/Mzp0PDY/Mjo5PT10PzE6MH0sdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZSszMCt1dCh0LGUrMjYpK3V0KHQsZSsyOCl9LGVlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj11dCh0LGUrMjgpLG89UXQodC5zdWJhcnJheShlKzQ2LGUrNDYrbiksISgyMDQ4JnV0KHQsZSs4KSkpLGk9ZSs0NituLGE9c3QodCxlKzIwKSx1PXImJjQyOTQ5NjcyOTU9PWE/cmUodCxpKTpbYSxzdCh0LGUrMjQpLHN0KHQsZSs0MildLHM9dVswXSxmPXVbMV0saD11WzJdO3JldHVyblt1dCh0LGUrMTApLHMsZixvLGkrdXQodCxlKzMwKSt1dCh0LGUrMzIpLGhdfSxyZT1mdW5jdGlvbih0LGUpe2Zvcig7MSE9dXQodCxlKTtlKz00K3V0KHQsZSsyKSk7cmV0dXJuW2h0KHQsZSsxMiksaHQodCxlKzQpLGh0KHQsZSsyMCldfSxuZT1mdW5jdGlvbih0LGUscixuLG8saSxhKXt2YXIgdT1uLmxlbmd0aDtjdCh0LGUsbnVsbCE9YT8zMzYzOTI0ODo2NzMyNDc1MiksZSs9NCxudWxsIT1hJiYodFtlKytdPTIwLHRbZSsrXT1yLm9zKSx0W2VdPTIwLGUrPTIsdFtlKytdPXIuZmxhZzw8MXwobnVsbD09aSYmOCksdFtlKytdPW8mJjgsdFtlKytdPTI1NSZyLmNvbXByZXNzaW9uLHRbZSsrXT1yLmNvbXByZXNzaW9uPj44O3ZhciBzPW5ldyBEYXRlKG51bGw9PXIubXRpbWU/RGF0ZS5ub3coKTpyLm10aW1lKSxmPXMuZ2V0RnVsbFllYXIoKS0xOTgwO2lmKGY8MHx8Zj4xMTkpdGhyb3ciZGF0ZSBub3QgaW4gcmFuZ2UgMTk4MC0yMDk5IjtyZXR1cm4gY3QodCxlLDIqKGY8PDI0KXxzLmdldE1vbnRoKCkrMTw8MjF8cy5nZXREYXRlKCk8PDE2fHMuZ2V0SG91cnMoKTw8MTF8cy5nZXRNaW51dGVzKCk8PDV8cy5nZXRTZWNvbmRzKCk+Pj4xKSxlKz00LG51bGwhPWkmJihjdCh0LGUsci5jcmMpLGN0KHQsZSs0LGkpLGN0KHQsZSs4LHIuc2l6ZSkpLGN0KHQsZSsxMix1KSxlKz0xNixudWxsIT1hJiYoY3QodCxlKzYsci5hdHRycyksY3QodCxlKzEwLGEpLGUrPTE0KSx0LnNldChuLGUpLGUrdX0sb2U9ZnVuY3Rpb24odCxlLHIsbixvKXtjdCh0LGUsMTAxMDEwMjU2KSxjdCh0LGUrOCxyKSxjdCh0LGUrMTAsciksY3QodCxlKzEyLG4pLGN0KHQsZSsxNixvKX0saWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuZmlsZW5hbWU9dCx0aGlzLmM9SCgpLHRoaXMuc2l6ZT0wLHRoaXMuY29tcHJlc3Npb249MH1yZXR1cm4gdC5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbih0LGUpe3RoaXMub25kYXRhKG51bGwsdCxlKX0sdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLm9uZGF0YSl0aHJvdyJubyBjYWxsYmFjayAtIGFkZCB0byBaSVAgYXJjaGl2ZSBiZWZvcmUgcHVzaGluZyI7dGhpcy5jLnAodCksdGhpcy5zaXplKz10Lmxlbmd0aCxlJiYodGhpcy5jcmM9dGhpcy5jLmQoKSksdGhpcy5wcm9jZXNzKHQsZXx8ITEpfSx0fSgpO2UuWmlwUGFzc1Rocm91Z2g9aWU7dmFyIGFlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pLGllLmNhbGwodGhpcyx0KSx0aGlzLmQ9bmV3IHd0KGUsKGZ1bmN0aW9uKHQsZSl7ci5vbmRhdGEobnVsbCx0LGUpfSkpLHRoaXMuY29tcHJlc3Npb249OCx0aGlzLmZsYWc9S3QoZS5sZXZlbCl9cmV0dXJuIHQucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24odCxlKXt0cnl7dGhpcy5kLnB1c2godCxlKX1jYXRjaCh0KXt0aGlzLm9uZGF0YSh0LG51bGwsZSl9fSx0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7aWUucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHQsZSl9LHR9KCk7ZS5aaXBEZWZsYXRlPWFlO3ZhciB1ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgcj10aGlzO3ZvaWQgMD09PWUmJihlPXt9KSxpZS5jYWxsKHRoaXMsdCksdGhpcy5kPW5ldyBtdChlLChmdW5jdGlvbih0LGUsbil7ci5vbmRhdGEodCxlLG4pfSkpLHRoaXMuY29tcHJlc3Npb249OCx0aGlzLmZsYWc9S3QoZS5sZXZlbCksdGhpcy50ZXJtaW5hdGU9dGhpcy5kLnRlcm1pbmF0ZX1yZXR1cm4gdC5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbih0LGUpe3RoaXMuZC5wdXNoKHQsZSl9LHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXtpZS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsdCxlKX0sdH0oKTtlLkFzeW5jWmlwRGVmbGF0ZT11ZTt2YXIgc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub25kYXRhPXQsdGhpcy51PVtdLHRoaXMuZD0xfXJldHVybiB0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZigyJnRoaXMuZCl0aHJvdyJzdHJlYW0gZmluaXNoZWQiO3ZhciBuPVh0KHQuZmlsZW5hbWUpLG89bi5sZW5ndGgsaT1vIT10LmZpbGVuYW1lLmxlbmd0aCxhPW8rMzA7aWYobz42NTUzNSl0aHJvdyJmaWxlbmFtZSB0b28gbG9uZyI7dmFyIHU9bmV3IHIoYSk7bmUodSwwLHQsbixpKTt2YXIgcz1bdV0sZj1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtlLm9uZGF0YShudWxsLG4sITEpfXM9W119LGg9dGhpcy5kO3RoaXMuZD0wO3ZhciBjPXRoaXMudS5sZW5ndGgsbD1HKHQse2Y6bix1OmksdDpmdW5jdGlvbigpe3QudGVybWluYXRlJiZ0LnRlcm1pbmF0ZSgpfSxyOmZ1bmN0aW9uKCl7aWYoZigpLGgpe3ZhciB0PWUudVtjKzFdO3Q/dC5yKCk6ZS5kPTF9aD0xfX0pLHA9MDt0Lm9uZGF0YT1mdW5jdGlvbihuLG8saSl7bj8oZS5vbmRhdGEobixvLGkpLGUudGVybWluYXRlKCkpOihwKz1vLmxlbmd0aCxzLnB1c2gobyksaT8ocy5wdXNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHIoMTYpO3JldHVybiBjdChuLDAsMTM0Njk1NzYwKSxjdChuLDQsdC5jcmMpLGN0KG4sOCxlKSxjdChuLDEyLHQuc2l6ZSksbn0odCxwKSksbC5jPXAsbC5iPWErcCsxNixsLmNyYz10LmNyYyxsLnNpemU9dC5zaXplLGgmJmwucigpLGg9MSk6aCYmZigpKX0sdGhpcy51LnB1c2gobCl9LHQucHJvdG90eXBlLmVuZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMiZ0aGlzLmQpe2lmKDEmdGhpcy5kKXRocm93InN0cmVhbSBmaW5pc2hpbmciO3Rocm93InN0cmVhbSBmaW5pc2hlZCJ9dGhpcy5kP3RoaXMuZSgpOnRoaXMudS5wdXNoKHtyOmZ1bmN0aW9uKCl7MSZ0LmQmJih0LnUuc3BsaWNlKC0xLDEpLHQuZSgpKX0sdDpmdW5jdGlvbigpe319KSx0aGlzLmQ9M30sdC5wcm90b3R5cGUuZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxuPTAsbz0wLGk9dGhpcy51O288aS5sZW5ndGg7bysrKXtuKz00NisoZj1pW29dKS5mLmxlbmd0aH1mb3IodmFyIGE9bmV3IHIobisyMiksdT0wLHM9dGhpcy51O3U8cy5sZW5ndGg7dSsrKXt2YXIgZj1zW3VdO25lKGEsdCxmLGYuZixmLnUsZi5jLGUpLHQrPTQ2K2YuZi5sZW5ndGgsZSs9Zi5ifW9lKGEsdCx0aGlzLnUubGVuZ3RoLG4sZSksdGhpcy5vbmRhdGEobnVsbCxhLCEwKSx0aGlzLmQ9Mn0sdC5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLnU7dDxlLmxlbmd0aDt0Kyspe2VbdF0udCgpfXRoaXMuZD0yfSx0fSgpO2UuWmlwPXNlLGUuemlwPWZ1bmN0aW9uKHQsZSxuKXtpZihufHwobj1lLGU9e30pLCJmdW5jdGlvbiIhPXR5cGVvZiBuKXRocm93Im5vIGNhbGxiYWNrIjt2YXIgbz17fTtZdCh0LCIiLG8sZSk7dmFyIGk9T2JqZWN0LmtleXMobyksYT1pLmxlbmd0aCx1PTAscz0wLGY9YSxoPW5ldyBBcnJheShhKSxjPVtdLGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PGMubGVuZ3RoOysrdCljW3RdKCl9LHA9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgcihzKzIyKSxlPXUsbz1zLXU7cz0wO2Zvcih2YXIgaT0wO2k8ZjsrK2kpe3ZhciBhPWhbaV07dHJ5e3ZhciBjPWEuYy5sZW5ndGg7bmUodCxzLGEsYS5mLGEudSxjKTt2YXIgbD1zKzMwK2EuZi5sZW5ndGg7dC5zZXQoYS5jLGwpLG5lKHQsdSxhLGEuZixhLnUsYyxzKSx1Kz00NithLmYubGVuZ3RoLHM9bCtjfWNhdGNoKHQpe3JldHVybiBuKHQsbnVsbCl9fW9lKHQsdSxoLmxlbmd0aCxvLGUpLG4obnVsbCx0KX07YXx8cCgpO2Zvcih2YXIgZD1mdW5jdGlvbih0KXt2YXIgZT1pW3RdLHI9b1tlXSxmPXJbMF0sZD1yWzFdLHk9SCgpLHY9Zi5sZW5ndGg7eS5wKGYpO3ZhciBnPVh0KGUpLGI9Zy5sZW5ndGgsdz0wPT1kLmxldmVsPzA6OCxtPWZ1bmN0aW9uKHIsbyl7aWYocilsKCksbihyLG51bGwpO2Vsc2V7dmFyIGk9by5sZW5ndGg7aFt0XT1HKGQse3NpemU6dixjcmM6eS5kKCksYzpvLGY6Zyx1OmIhPWUubGVuZ3RoLGNvbXByZXNzaW9uOnd9KSx1Kz0zMCtiK2kscys9NzYrMipiK2ksLS1hfHxwKCl9fTtpZihiPjY1NTM1JiZtKCJmaWxlbmFtZSB0b28gbG9uZyIsbnVsbCksdylpZih2PDE2ZTQpdHJ5e20obnVsbCxBdChmLGQpKX1jYXRjaCh0KXttKHQsbnVsbCl9ZWxzZSBjLnB1c2goX3QoZixkLG0pKTtlbHNlIG0obnVsbCxmKX0seT0wO3k8ZjsrK3kpZCh5KTtyZXR1cm4gbH0sZS56aXBTeW5jPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXt9LG89W107WXQodCwiIixuLGUpO3ZhciBpPTAsYT0wO2Zvcih2YXIgdSBpbiBuKXt2YXIgcz1uW3VdLGY9c1swXSxoPXNbMV0sYz0wPT1oLmxldmVsPzA6OCxsPShtPVh0KHUpKS5sZW5ndGg7aWYobD42NTUzNSl0aHJvdyJmaWxlbmFtZSB0b28gbG9uZyI7dmFyIHA9Yz9BdChmLGgpOmYsZD1wLmxlbmd0aCx5PUgoKTt5LnAoZiksby5wdXNoKEcoaCx7c2l6ZTpmLmxlbmd0aCxjcmM6eS5kKCksYzpwLGY6bSx1OmwhPXUubGVuZ3RoLG86aSxjb21wcmVzc2lvbjpjfSkpLGkrPTMwK2wrZCxhKz03NisyKmwrZH1mb3IodmFyIHY9bmV3IHIoYSsyMiksZz1pLGI9YS1pLHc9MDt3PG8ubGVuZ3RoOysrdyl7dmFyIG09b1t3XTtuZSh2LG0ubyxtLG0uZixtLnUsbS5jLmxlbmd0aCksdi5zZXQobS5jLG0ubyszMCttLmYubGVuZ3RoKSxuZSh2LGksbSxtLmYsbS51LG0uYy5sZW5ndGgsbS5vKSxpKz00NittLmYubGVuZ3RofXJldHVybiBvZSh2LGksby5sZW5ndGgsYixnKSx2fTt2YXIgZmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7dGhpcy5vbmRhdGEobnVsbCx0LGUpfSx0LmNvbXByZXNzaW9uPTAsdH0oKTtlLlVuemlwUGFzc1Rocm91Z2g9ZmU7dmFyIGhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXM7dGhpcy5pPW5ldyBFdCgoZnVuY3Rpb24oZSxyKXt0Lm9uZGF0YShudWxsLGUscil9KSl9cmV0dXJuIHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt0cnl7dGhpcy5pLnB1c2godCxlKX1jYXRjaChyKXt0aGlzLm9uZGF0YShyLHQsZSl9fSx0LmNvbXByZXNzaW9uPTgsdH0oKTtlLlVuemlwSW5mbGF0ZT1oZTt2YXIgY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpczt0aGlzLmk9bmV3IE90KChmdW5jdGlvbihlLHIsbil7dC5vbmRhdGEoZSxyLG4pfSkpLHRoaXMudGVybWluYXRlPXRoaXMuaS50ZXJtaW5hdGV9cmV0dXJuIHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt0aGlzLmkucHVzaChUKHQsMCksZSl9LHQuY29tcHJlc3Npb249OCx0fSgpO2UuQXN5bmNVbnppcEluZmxhdGU9Y2U7dmFyIGxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm9uZmlsZT10LHRoaXMuaz1bXSx0aGlzLm89ezA6ZmV9LHRoaXMucD16fXJldHVybiB0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxvPS0xPT10aGlzLmMmJnRoaXMuZDtpZih0aGlzLmMmJiFvKXt2YXIgaT1NYXRoLm1pbih0aGlzLmMsdC5sZW5ndGgpLGE9dC5zdWJhcnJheSgwLGkpO3RoaXMuYy09aSx0aGlzLmQ/dGhpcy5kLnB1c2goYSwhdGhpcy5jKTp0aGlzLmtbMF0ucHVzaChbYSwhdGhpcy5jXSksdD10LnN1YmFycmF5KGkpfWlmKG98fCF0aGlzLmMpe3ZhciB1PTAscz0wLGY9dm9pZCAwLGg9dm9pZCAwLGM9dC5sZW5ndGgsbD10aGlzLnAubGVuZ3RoLHA9YytsO2lmKGMpbD8oKGg9bmV3IFVpbnQ4QXJyYXkocCkpLnNldCh0aGlzLnApLGguc2V0KHQsdGhpcy5wLmxlbmd0aCkpOmg9dDtlbHNle2lmKCFsKXJldHVybjtoPXRoaXMucH10aGlzLnA9ejtmb3IodmFyIGQ9ZnVuY3Rpb24oKXtpZig2NzMyNDc1Mj09c3QoaCxzKSl7dT0xLG8mJm8ucHVzaCh6LCEwKSx5LmQ9bnVsbCx5LmM9MDt2YXIgdD11dChoLHMrNiksZT11dChoLHMrOCksaT0yMDQ4JnQsYT04JnQsYz11dChoLHMrMjYpLGw9dXQoaCxzKzI4KTtpZihwPnMrMzArYytsKXt2YXIgZD1bXTt5LmsudW5zaGlmdChkKSx1PTIsZj1zO3ZhciB2PXN0KGgscysxOCksZz1RdChoLnN1YmFycmF5KHMrMzAscys9MzArYyksIWkpO2lmKGEmJih2PS0xKSw0Mjk0OTY3Mjk1PT12JiYodj1yZShoLHMpWzBdKSwheS5vW2VdKXJldHVybiB5Lm9uZmlsZSgidW5rbm93biBjb21wcmVzc2lvbiB0eXBlICIrZSxnLG51bGwpLCJicmVhayI7eS5jPXY7dmFyIGI9e3N0YXJ0OmZ1bmN0aW9uKCl7aWYoIWIub25kYXRhKXRocm93Im5vIGNhbGxiYWNrIjtpZih2KXt2YXIgdD1uZXcgbi5vW2VdO3Qub25kYXRhPWZ1bmN0aW9uKHQsZSxyKXtiLm9uZGF0YSh0LGUscil9O2Zvcih2YXIgbz0wLGk9ZDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXSx1PWFbMF0scz1hWzFdO3QucHVzaCh1LHMpfW4ua1swXT09ZCYmKG4uZD10KX1lbHNlIGIub25kYXRhKG51bGwsbmV3IHIoMCksITApfSx0ZXJtaW5hdGU6ZnVuY3Rpb24oKXtuLmtbMF09PWQmJm4uZC50ZXJtaW5hdGUmJm4uZC50ZXJtaW5hdGUoKX19O3kub25maWxlKG51bGwsZyxiKSxzKz1sfXJldHVybiJicmVhayJ9fSx5PXRoaXM7czxwOysrcyl7aWYoImJyZWFrIj09PWQoKSlicmVha31pZihvJiZvLnB1c2goMj09dT9oLnN1YmFycmF5KDAsZi0xMi0oMTM0Njk1NzYwPT1zdChoLGYtMTIpJiY0KSk6aC5zdWJhcnJheSgwLHMpLCEhdSksMiZ1KXJldHVybiB0aGlzLnB1c2goaC5zdWJhcnJheShzKSxlKTtpZigxJnUmJih0aGlzLnA9aCksZSYmKHV8fHRoaXMuYykpdGhyb3ciaW52YWxpZCB6aXAgZmlsZSJ9fSx0LnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbih0KXt0aGlzLm9bdC5jb21wcmVzc2lvbl09dH0sdH0oKTtlLlVuemlwPWxlLGUudW56aXA9ZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyJubyBjYWxsYmFjayI7Zm9yKHZhciBuPVtdLG89ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoOysrdCluW3RdKCl9LGk9e30sYT10Lmxlbmd0aC0yMjsxMDEwMTAyNTYhPXN0KHQsYSk7LS1hKWlmKCFhfHx0Lmxlbmd0aC1hPjY1NTU4KXJldHVybiB2b2lkIGUoImludmFsaWQgemlwIGZpbGUiLG51bGwpO3ZhciB1PXV0KHQsYSs4KTt1fHxlKG51bGwse30pO3ZhciBzPXUsZj1zdCh0LGErMTYpLGg9NDI5NDk2NzI5NT09ZjtpZihoKXtpZihhPXN0KHQsYS0xMiksMTAxMDc1NzkyIT1zdCh0LGEpKXJldHVybiB2b2lkIGUoImludmFsaWQgemlwIGZpbGUiLG51bGwpO3M9dT1zdCh0LGErMzIpLGY9c3QodCxhKzQ4KX1mb3IodmFyIGM9ZnVuY3Rpb24oYSl7dmFyIHM9ZWUodCxmLGgpLGM9c1swXSxsPXNbMV0scD1zWzJdLGQ9c1szXSx5PXNbNF0sdj1zWzVdLGc9dGUodCx2KTtmPXk7dmFyIGI9ZnVuY3Rpb24odCxyKXt0PyhvKCksZSh0LG51bGwpKTooaVtkXT1yLC0tdXx8ZShudWxsLGkpKX07aWYoYylpZig4PT1jKXt2YXIgdz10LnN1YmFycmF5KGcsZytsKTtpZihsPDMyZTQpdHJ5e2IobnVsbCxNdCh3LG5ldyByKHApKSl9Y2F0Y2godCl7Yih0LG51bGwpfWVsc2Ugbi5wdXNoKFN0KHcse3NpemU6cH0sYikpfWVsc2UgYigidW5rbm93biBjb21wcmVzc2lvbiB0eXBlICIrYyxudWxsKTtlbHNlIGIobnVsbCxUKHQsZyxnK2wpKX0sbD0wO2w8czsrK2wpYygpO3JldHVybiBvfSxlLnVuemlwU3luYz1mdW5jdGlvbih0KXtmb3IodmFyIGU9e30sbj10Lmxlbmd0aC0yMjsxMDEwMTAyNTYhPXN0KHQsbik7LS1uKWlmKCFufHx0Lmxlbmd0aC1uPjY1NTU4KXRocm93ImludmFsaWQgemlwIGZpbGUiO3ZhciBvPXV0KHQsbis4KTtpZighbylyZXR1cm57fTt2YXIgaT1zdCh0LG4rMTYpLGE9NDI5NDk2NzI5NT09aTtpZihhKXtpZihuPXN0KHQsbi0xMiksMTAxMDc1NzkyIT1zdCh0LG4pKXRocm93ImludmFsaWQgemlwIGZpbGUiO289c3QodCxuKzMyKSxpPXN0KHQsbis0OCl9Zm9yKHZhciB1PTA7dTxvOysrdSl7dmFyIHM9ZWUodCxpLGEpLGY9c1swXSxoPXNbMV0sYz1zWzJdLGw9c1szXSxwPXNbNF0sZD1zWzVdLHk9dGUodCxkKTtpZihpPXAsZil7aWYoOCE9Zil0aHJvdyJ1bmtub3duIGNvbXByZXNzaW9uIHR5cGUgIitmO2VbbF09TXQodC5zdWJhcnJheSh5LHkraCksbmV3IHIoYykpfWVsc2UgZVtsXT1UKHQseSx5K2gpfXJldHVybiBlfX0pKTtzZWxmLm9ubWVzc2FnZT1mdW5jdGlvbih0KXt2YXIgZSxuLG8saSxhPXQuZGF0YSx1PWEuZW52LHM9KGEucmVwb3J0TGltaXRTaXplLGEuZnVsbERhdGEpLGY9YS5yZWFkVGltZSxoPXMuY29udGVudCxjPXIuX19yZXN0KHMsWyJjb250ZW50Il0pLGw9KG49MCxvPTEwNDg1NzYsaT1bXSwoZT1oKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsYSx1KXt2YXIgcz1pdChhKTtyZXR1cm4gcz5vPyh0LnB1c2guYXBwbHkodCxzdChhLG8vcykpLHQpOihuKz1zLGkucHVzaChhKSwobj49b3x8dT09PWUubGVuZ3RoLTEpJiYobj0wLHQucHVzaChyLl9fc3ByZWFkQXJyYXlzKGkpKSxpLmxlbmd0aD0wKSx0KX0pLFtdKSk7bC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9IiIscj10LmJ5dGVMZW5ndGgsbj0wO248cjtuKyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W25dKTtyZXR1cm4gYnRvYShlKX0oaHQuemxpYlN5bmMoaHQuc3RyVG9VOChKU09OLnN0cmluZ2lmeShyLl9fYXNzaWduKHIuX19hc3NpZ24oe30sYykse2NvbnRlbnQ6dH0pKSkpKTsoZnVuY3Rpb24odCxlKXt2YXIgcj14W3RdfHx4LnRlc3Qsbj1yLnVybCxvPXIudG9waWMsaT1yLnRva2VuLGE9TWF0aC5yb3VuZChEYXRlLm5vdygpLzFlMyk7cmV0dXJuICQobisiLyIrbysiLyIraSsiP3R5cGU9MSZjdGltZT0iK2Ese2JvZHk6ZSxtZXRob2Q6IlBPU1QifSl9KSh1LCciJytlKyciJykudGhlbigoZnVuY3Rpb24oKXtzZWxmLnBvc3RNZXNzYWdlKHtyZWFkVGltZTpmLHRpbWVzdGFtcHM6W3RbMF0udGltZXN0YW1wLHRbdC5sZW5ndGgtMV0udGltZXN0YW1wXX0sdm9pZCAwKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9KSksbC5sZW5ndGg9MH19KCk7Cgo=",null,false),new Worker(i,t)}}()),In=new Sn,xn=function(){function t(t,e){this.networkType=function(){if(window.navigator){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t){var e=t.effectiveType,n=t.type;return e||n||"unknown"}}return"unknown"}(),this.browser=function(){var t=navigator.userAgent.toLowerCase()||"",e=function(e){return e.test(t)},n=function(e){return t.match(e).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")},i="unknow";e(/windows|win32|win64|wow32|wow64/g)?i="windows":e(/macintosh|macintel/g)?i="macos":e(/x11/g)?i="linux":e(/android|adr/g)?i="android":e(/ios|iphone|ipad|ipod|iwatch/g)&&(i="ios");var r="unknow";"windows"===i?e(/windows nt 5.0|windows 2000/g)?r="2000":e(/windows nt 5.1|windows xp/g)?r="xp":e(/windows nt 5.2|windows 2003/g)?r="2003":e(/windows nt 6.0|windows vista/g)?r="vista":e(/windows nt 6.1|windows 7/g)?r="7":e(/windows nt 6.2|windows 8/g)?r="8":e(/windows nt 6.3|windows 8.1/g)?r="8.1":e(/windows nt 10.0|windows 10/g)&&(r="10"):"macos"===i?r=n(/os x [\d._]+/g):"android"===i?r=n(/android [\d._]+/g):"ios"===i&&(r=n(/os [\d._]+/g));var o="unknow";"windows"===i||"macos"===i||"linux"===i?o="desktop":("android"===i||"ios"===i||e(/mobile/g))&&(o="mobile");var a="unknow",l="unknow";return e(/applewebkit/g)?(a="webkit",e(/edge/g)?l="edge":e(/opr/g)?l="opera":e(/chrome/g)?l="chrome":e(/safari/g)&&(l="safari")):e(/gecko/g)&&e(/firefox/g)?(a="gecko",l="firefox"):e(/presto/g)?(a="presto",l="opera"):e(/trident|compatible|msie/g)&&(a="trident",l="iexplore"),Object.assign({engine:a,platform:o,supporter:l,system:i,systemVs:r})}(),this.search=void 0,this.isReport=!1,ge((function(){console.log(">>>> start report")})),this.config=t,this.store=e,this.init()}return t.prototype.init=function(){return v.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,o,a=this;return v.__generator(this,(function(l){switch(l.label){case 0:return t=this.config,e=t.uid,n=t.interval,i=t.projectId,r=t.ubid,e?[4,Ye(e,i,r)]:[3,2];case 1:if(!(o=l.sent()))return[2];this.getUpdateSearch(o),In.onmessage=function(t){var n=t.data,i=n.readTime,r=n.timestamps;a.store.updateEventFetchedByReadTime(e,i,r)},this.config.updateIntervalId=setInterval((function(){(function(t,e,n){var i=Ve({project_id:e,uid:t,ubid:n});return Ce("/report/config?"+i).then((function(t){return t.result}))})(e,i,r).then((function(t){var e=t.id,n=a.search.id;Ne(e)&&Ne(n)&&n===e||a.getUpdateSearch(t)}))}),3e5),this.config.intervalId=setTimeout((function(){return v.__awaiter(a,void 0,void 0,(function(){var t;return v.__generator(this,(function(e){switch(e.label){case 0:return t=this.config,[4,this.filter()];case 1:return t.intervalId=e.sent(),[2]}}))}))}),n),l.label=2;case 2:return[2]}}))}))},t.prototype.getUpdateSearch=function(t){var e;2===(null===(e=null==t?void 0:t.date_range)||void 0===e?void 0:e.length)&&(t.date_range[0]=t.date_range[0]-1e3*this.config.checkoutEveryNth,this.offlineAllTimes=v.__spreadArrays(t.date_range)),this.search=t},t.prototype.getEventsReadTimeNotFetchFromNow=function(){return v.__awaiter(this,void 0,void 0,(function(){var t;return v.__generator(this,(function(e){switch(e.label){case 0:return[4,this.store.getEventsReadTimeNotFetchFromNow({limit:20,uid:this.config.uid})];case 1:return[2,void 0===(t=e.sent().data)?[]:t]}}))}))},t.prototype.filter=function(t){return v.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s,c,u,d,p,m,h,b,y,f,Z,G=this;return v.__generator(this,(function(X){switch(X.label){case 0:return e=this.search,n=e.report,i=e.date_range,r=e.id,o=e.task_type,l=(a=this).config,s=l.reportNum,c=l.uid,u=l.projectId,d=l.interval,p=l.ubid,m=a.store,n?Array.isArray(i)&&i.length?[4,m.getEventsByTimestamps({timestamps:[i[0],i[1]],limit:s,taskId:r,uid:c})]:[3,8]:[3,10];case 1:return h=X.sent(),f=h.data,Z=h.readTime,f&&f.length?[3,6]:m.isEventsFetchedAroundThisTime(r,c,this.offlineAllTimes)?(t&&t(),r?[4,He(r+"",u)]:[3,3]):[3,5];case 2:X.sent(),X.label=3;case 3:return[4,Ye(c,u,p)];case 4:b=X.sent(),this.getUpdateSearch(b),X.label=5;case 5:return[3,7];case 6:this.search.date_range[0]=f[f.length-1].timestamp,this.send({data:f,readTime:Z,taskType:o}),X.label=7;case 7:return[3,10];case 8:return[4,m.getEventsByIndex({only:c,limit:s})];case 9:y=X.sent(),f=y.data,Z=y.readTime,f&&f.length&&this.send({data:f,readTime:Z,taskType:o}),X.label=10;case 10:return[2,setTimeout((function(){return v.__awaiter(G,void 0,void 0,(function(){var t;return v.__generator(this,(function(e){switch(e.label){case 0:return t=this.config,[4,this.filter()];case 1:return t.intervalId=e.sent(),[2]}}))}))}),d)]}}))}))},t.prototype.startIntervalBySearch=function(t,e){return v.__awaiter(this,void 0,void 0,(function(){var n,i=this;return v.__generator(this,(function(r){return t.date_range[0]=t.date_range[0]-1e3*this.config.checkoutEveryNth,this.activeAllTimes=t.date_range,n=setTimeout((function(){return v.__awaiter(i,void 0,void 0,(function(){var n,i;return v.__generator(this,(function(r){switch(r.label){case 0:return n=v.__assign(v.__assign({},t),{report:!0}),[4,this.activeFilter(n,e)];case 1:return i=r.sent(),Array.isArray(this.config.activeIntervalIdQueue)?this.config.activeIntervalIdQueue.push(i):this.config.activeIntervalIdQueue=[i],[2]}}))}))}),this.config.interval),Array.isArray(this.config.activeIntervalIdQueue)?this.config.activeIntervalIdQueue.push(n):this.config.activeIntervalIdQueue=[n],[2]}))}))},t.prototype.activeFilter=function(t,e){return v.__awaiter(this,void 0,void 0,(function(){var n,i,r,o,a,l,s,c,u,d,p,m,h,b,y=this;return v.__generator(this,(function(f){switch(f.label){case 0:return n=t.report,i=t.date_range,r=t.id,o=t.task_type,l=(a=this).config,s=l.reportNum,c=l.uid,u=l.interval,d=l.projectId,p=a.store,n?Array.isArray(i)&&i.length?[4,p.getEventsByTimestamps({timestamps:[i[0],i[1]],limit:s,taskId:r,uid:c})]:[3,5]:[3,6];case 1:return m=f.sent(),h=m.data,b=m.readTime,h&&h.length?[3,4]:p.isEventsFetchedAroundThisTime(r,c,this.activeAllTimes)?(e&&e(),r?[4,He(r+"",d)]:[3,3]):[3,3];case 2:f.sent(),f.label=3;case 3:return[2];case 4:t.date_range[0]=h[h.length-1].timestamp,this.send({data:h,readTime:b,taskType:o}),f.label=5;case 5:return[2,setTimeout((function(){return v.__awaiter(y,void 0,void 0,(function(){var n;return v.__generator(this,(function(i){switch(i.label){case 0:return[4,this.activeFilter(t,e)];case 1:return n=i.sent(),Array.isArray(this.config.activeIntervalIdQueue)?this.config.activeIntervalIdQueue.push(n):this.config.activeIntervalIdQueue=[n],[2]}}))}))}),u)];case 6:return[2]}}))}))},t.prototype.send=function(t){var e=t.data,n=t.readTime,i=t.taskType,r=this.config,o=r.env,a=r.reportLimitSize,l={env:o,fullData:this.addExtraInfo(e),readTime:n,reportLimitSize:a};i&&(l.fullData.taskType=i),In.postMessage(l)},t.prototype.addExtraInfo=function(t){return Object.assign({url:location.href,projectId:this.config.projectId,env:this.config.env,uid:this.config.uid+"",ubid:this.config.ubid+"",apkVersion:this.config.apkVersion,platForm:{networkType:this.networkType,browser:this.browser.supporter,system:this.browser.system},content:t})},t.prototype.clearInterval=function(){var t;this.config.updateIntervalId&&clearTimeout(this.config.updateIntervalId),this.config.updateIntervalId&&clearTimeout(this.config.intervalId),(null===(t=this.config.activeIntervalIdQueue)||void 0===t?void 0:t.length)&&this.config.activeIntervalIdQueue.forEach((function(t){t&&clearTimeout(t)}))},t}(),Ln=r((function(t,e){(function(){var n,r="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,s=128,c=1/0,u=9007199254740991,d=NaN,p=4294967295,m=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],h="[object Arguments]",b="[object Array]",y="[object Boolean]",f="[object Date]",Z="[object Error]",G="[object Function]",X="[object GeneratorFunction]",v="[object Map]",g="[object Number]",K="[object Object]",S="[object Promise]",I="[object RegExp]",x="[object Set]",L="[object String]",W="[object Symbol]",V="[object WeakMap]",w="[object ArrayBuffer]",T="[object DataView]",C="[object Float32Array]",M="[object Float64Array]",Y="[object Int8Array]",R="[object Int16Array]",H="[object Int32Array]",k="[object Uint8Array]",P="[object Uint8ClampedArray]",N="[object Uint16Array]",J="[object Uint32Array]",j=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,E=RegExp(D.source),B=RegExp(F.source),Q=/<%-([\s\S]+?)%>/g,O=/<%([\s\S]+?)%>/g,_=/<%=([\s\S]+?)%>/g,A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tt=/[\\^$.*+?()[\]{}|]/g,et=RegExp(tt.source),nt=/^\s+/,it=/\s/,rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,st=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,pt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,ht=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zt=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",vt="a-z\\xdf-\\xf6\\xf8-\\xff",gt="A-Z\\xc0-\\xd6\\xd8-\\xde",Kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",St="["+Kt+"]",It="["+Xt+"]",xt="\\d+",Lt="["+vt+"]",Wt="[^\\ud800-\\udfff"+Kt+xt+"\\u2700-\\u27bf"+vt+gt+"]",Vt="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",Tt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="["+gt+"]",Yt="(?:"+Lt+"|"+Wt+")",Rt="(?:"+Mt+"|"+Wt+")",Ht="(?:['â€™](?:d|ll|m|re|s|t|ve))?",kt="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",Pt="(?:"+It+"|"+Vt+")?",Nt="[\\ufe0e\\ufe0f]?",Jt=Nt+Pt+"(?:\\u200d(?:"+[wt,Tt,Ct].join("|")+")"+Nt+Pt+")*",jt="(?:"+["[\\u2700-\\u27bf]",Tt,Ct].join("|")+")"+Jt,zt="(?:"+[wt+It+"?",It,Tt,Ct,"[\\ud800-\\udfff]"].join("|")+")",Ut=RegExp("['â€™]","g"),Dt=RegExp(It,"g"),Ft=RegExp(Vt+"(?="+Vt+")|"+zt+Jt,"g"),Et=RegExp([Mt+"?"+Lt+"+"+Ht+"(?="+[St,Mt,"$"].join("|")+")",Rt+"+"+kt+"(?="+[St,Mt+Yt,"$"].join("|")+")",Mt+"?"+Yt+"+"+Ht,Mt+"+"+kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xt,jt].join("|"),"g"),Bt=RegExp("[\\u200d\\ud800-\\udfff"+Xt+"\\ufe0e\\ufe0f]"),Qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_t=-1,At={};At[C]=At[M]=At[Y]=At[R]=At[H]=At[k]=At[P]=At[N]=At[J]=!0,At[h]=At[b]=At[w]=At[y]=At[T]=At[f]=At[Z]=At[G]=At[v]=At[g]=At[K]=At[I]=At[x]=At[L]=At[V]=!1;var qt={};qt[h]=qt[b]=qt[w]=qt[T]=qt[y]=qt[f]=qt[C]=qt[M]=qt[Y]=qt[R]=qt[H]=qt[v]=qt[g]=qt[K]=qt[I]=qt[x]=qt[L]=qt[W]=qt[k]=qt[P]=qt[N]=qt[J]=!0,qt[Z]=qt[G]=qt[V]=!1;var $t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},te=parseFloat,ee=parseInt,ne="object"==typeof i&&i&&i.Object===Object&&i,ie="object"==typeof self&&self&&self.Object===Object&&self,re=ne||ie||Function("return this")(),oe=e&&!e.nodeType&&e,ae=oe&&t&&!t.nodeType&&t,le=ae&&ae.exports===oe,se=le&&ne.process,ce=function(){try{return ae&&ae.require&&ae.require("util").types||se&&se.binding&&se.binding("util")}catch(t){}}(),ue=ce&&ce.isArrayBuffer,de=ce&&ce.isDate,pe=ce&&ce.isMap,me=ce&&ce.isRegExp,he=ce&&ce.isSet,be=ce&&ce.isTypedArray;function ye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function fe(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Ze(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Ge(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function ve(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function ge(t,e){return!(null==t||!t.length)&&Ce(t,e,0)>-1}function Ke(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Se(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Ie(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function xe(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Le(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function We(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Ve=He("length");function we(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Te(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Ce(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Te(t,Ye,n)}function Me(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Ye(t){return t!=t}function Re(t,e){var n=null==t?0:t.length;return n?Ne(t,e)/n:d}function He(t){return function(e){return null==e?n:e[t]}}function ke(t){return function(e){return null==t?n:t[e]}}function Pe(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Ne(t,e){for(var i,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==n&&(i=i===n?a:i+a)}return i}function Je(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function je(t){return t?t.slice(0,on(t)+1).replace(nt,""):t}function ze(t){return function(e){return t(e)}}function Ue(t,e){return Se(e,(function(e){return t[e]}))}function De(t,e){return t.has(e)}function Fe(t,e){for(var n=-1,i=t.length;++n<i&&Ce(e,t[n],0)>-1;);return n}function Ee(t,e){for(var n=t.length;n--&&Ce(e,t[n],0)>-1;);return n}function Be(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Qe=ke({Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"}),Oe=ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function _e(t){return"\\"+$t[t]}function Ae(t){return Bt.test(t)}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function $e(t,e){return function(n){return t(e(n))}}function tn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var l=t[n];l!==e&&l!==a||(t[n]=a,o[r++]=n)}return o}function en(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function nn(t){return Ae(t)?function(t){for(var e=Ft.lastIndex=0;Ft.test(t);)++e;return e}(t):Ve(t)}function rn(t){return Ae(t)?function(t){return t.match(Ft)||[]}(t):function(t){return t.split("")}(t)}function on(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var an=ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ln=function t(e){var i,it=(e=null==e?re:ln.defaults(re.Object(),e,ln.pick(re,Ot))).Array,Xt=e.Date,vt=e.Error,gt=e.Function,Kt=e.Math,St=e.Object,It=e.RegExp,xt=e.String,Lt=e.TypeError,Wt=it.prototype,Vt=gt.prototype,wt=St.prototype,Tt=e["__core-js_shared__"],Ct=Vt.toString,Mt=wt.hasOwnProperty,Yt=0,Rt=(i=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Ht=wt.toString,kt=Ct.call(St),Pt=re._,Nt=It("^"+Ct.call(Mt).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=le?e.Buffer:n,jt=e.Symbol,zt=e.Uint8Array,Ft=Jt?Jt.allocUnsafe:n,Bt=$e(St.getPrototypeOf,St),$t=St.create,ne=wt.propertyIsEnumerable,ie=Wt.splice,oe=jt?jt.isConcatSpreadable:n,ae=jt?jt.iterator:n,se=jt?jt.toStringTag:n,ce=function(){try{var t=so(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ve=e.clearTimeout!==re.clearTimeout&&e.clearTimeout,ke=Xt&&Xt.now!==re.Date.now&&Xt.now,sn=e.setTimeout!==re.setTimeout&&e.setTimeout,cn=Kt.ceil,un=Kt.floor,dn=St.getOwnPropertySymbols,pn=Jt?Jt.isBuffer:n,mn=e.isFinite,hn=Wt.join,bn=$e(St.keys,St),yn=Kt.max,fn=Kt.min,Zn=Xt.now,Gn=e.parseInt,Xn=Kt.random,vn=Wt.reverse,gn=so(e,"DataView"),Kn=so(e,"Map"),Sn=so(e,"Promise"),In=so(e,"Set"),xn=so(e,"WeakMap"),Ln=so(St,"create"),Wn=xn&&new xn,Vn={},wn=Ho(gn),Tn=Ho(Kn),Cn=Ho(Sn),Mn=Ho(In),Yn=Ho(xn),Rn=jt?jt.prototype:n,Hn=Rn?Rn.valueOf:n,kn=Rn?Rn.toString:n;function Pn(t){if($a(t)&&!za(t)&&!(t instanceof zn)){if(t instanceof jn)return t;if(Mt.call(t,"__wrapped__"))return ko(t)}return new jn(t)}var Nn=function(){function t(){}return function(e){if(!qa(e))return{};if($t)return $t(e);t.prototype=e;var i=new t;return t.prototype=n,i}}();function Jn(){}function jn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function En(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Fn;++e<n;)this.add(t[e])}function Bn(t){var e=this.__data__=new Dn(t);this.size=e.size}function Qn(t,e){var n=za(t),i=!n&&ja(t),r=!n&&!i&&Ea(t),o=!n&&!i&&!r&&ll(t),a=n||i||r||o,l=a?Je(t.length,xt):[],s=l.length;for(var c in t)!e&&!Mt.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yo(c,s))||l.push(c);return l}function On(t){var e=t.length;return e?t[Fi(0,e-1)]:n}function _n(t,e){return Mo(xr(t),oi(e,0,t.length))}function An(t){return Mo(xr(t))}function qn(t,e,i){(i!==n&&!Pa(t[e],i)||i===n&&!(e in t))&&ii(t,e,i)}function $n(t,e,i){var r=t[e];Mt.call(t,e)&&Pa(r,i)&&(i!==n||e in t)||ii(t,e,i)}function ti(t,e){for(var n=t.length;n--;)if(Pa(t[n][0],e))return n;return-1}function ei(t,e,n,i){return ui(t,(function(t,r,o){e(i,t,n(t),o)})),i}function ni(t,e){return t&&Lr(e,Vl(e),t)}function ii(t,e,n){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ri(t,e){for(var i=-1,r=e.length,o=it(r),a=null==t;++i<r;)o[i]=a?n:Sl(t,e[i]);return o}function oi(t,e,i){return t==t&&(i!==n&&(t=t<=i?t:i),e!==n&&(t=t>=e?t:e)),t}function ai(t,e,i,r,o,a){var l,s=1&e,c=2&e,u=4&e;if(i&&(l=o?i(t,r,o,a):i(t)),l!==n)return l;if(!qa(t))return t;var d=za(t);if(d){if(l=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Mt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!s)return xr(t,l)}else{var p=po(t),m=p==G||p==X;if(Ea(t))return Xr(t,s);if(p==K||p==h||m&&!o){if(l=c||m?{}:ho(t),!s)return c?function(t,e){return Lr(t,uo(t),e)}(t,function(t,e){return t&&Lr(e,wl(e),t)}(l,t)):function(t,e){return Lr(t,co(t),e)}(t,ni(l,t))}else{if(!qt[p])return o?t:{};l=function(t,e,n){var i,r=t.constructor;switch(e){case w:return vr(t);case y:case f:return new r(+t);case T:return function(t,e){var n=e?vr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case M:case Y:case R:case H:case k:case P:case N:case J:return gr(t,n);case v:return new r;case g:case L:return new r(t);case I:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case x:return new r;case W:return i=t,Hn?St(Hn.call(i)):{}}}(t,p,s)}}a||(a=new Bn);var b=a.get(t);if(b)return b;a.set(t,l),rl(t)?t.forEach((function(n){l.add(ai(n,e,i,n,t,a))})):tl(t)&&t.forEach((function(n,r){l.set(r,ai(n,e,i,r,t,a))}));var Z=d?n:(u?c?eo:to:c?wl:Vl)(t);return Ze(Z||t,(function(n,r){Z&&(n=t[r=n]),$n(l,r,ai(n,e,i,r,t,a))})),l}function li(t,e,i){var r=i.length;if(null==t)return!r;for(t=St(t);r--;){var o=i[r],a=e[o],l=t[o];if(l===n&&!(o in t)||!a(l))return!1}return!0}function si(t,e,i){if("function"!=typeof t)throw new Lt(r);return Vo((function(){t.apply(n,i)}),e)}function ci(t,e,n,i){var r=-1,o=ge,a=!0,l=t.length,s=[],c=e.length;if(!l)return s;n&&(e=Se(e,ze(n))),i?(o=Ke,a=!1):e.length>=200&&(o=De,a=!1,e=new En(e));t:for(;++r<l;){var u=t[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,a&&d==d){for(var p=c;p--;)if(e[p]===d)continue t;s.push(u)}else o(e,d,i)||s.push(u)}return s}Pn.templateSettings={escape:Q,evaluate:O,interpolate:_,variable:"",imports:{_:Pn}},Pn.prototype=Jn.prototype,Pn.prototype.constructor=Pn,jn.prototype=Nn(Jn.prototype),jn.prototype.constructor=jn,zn.prototype=Nn(Jn.prototype),zn.prototype.constructor=zn,Un.prototype.clear=function(){this.__data__=Ln?Ln(null):{},this.size=0},Un.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Un.prototype.get=function(t){var e=this.__data__;if(Ln){var i=e[t];return i===o?n:i}return Mt.call(e,t)?e[t]:n},Un.prototype.has=function(t){var e=this.__data__;return Ln?e[t]!==n:Mt.call(e,t)},Un.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Ln&&e===n?o:e,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(t){var e=this.__data__,n=ti(e,t);return!(n<0||(n==e.length-1?e.pop():ie.call(e,n,1),--this.size,0))},Dn.prototype.get=function(t){var e=this.__data__,i=ti(e,t);return i<0?n:e[i][1]},Dn.prototype.has=function(t){return ti(this.__data__,t)>-1},Dn.prototype.set=function(t,e){var n=this.__data__,i=ti(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Fn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(Kn||Dn),string:new Un}},Fn.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Fn.prototype.get=function(t){return ao(this,t).get(t)},Fn.prototype.has=function(t){return ao(this,t).has(t)},Fn.prototype.set=function(t,e){var n=ao(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},En.prototype.add=En.prototype.push=function(t){return this.__data__.set(t,o),this},En.prototype.has=function(t){return this.__data__.has(t)},Bn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Bn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Bn.prototype.get=function(t){return this.__data__.get(t)},Bn.prototype.has=function(t){return this.__data__.has(t)},Bn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Dn){var i=n.__data__;if(!Kn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fn(i)}return n.set(t,e),this.size=n.size,this};var ui=wr(Zi),di=wr(Gi,!0);function pi(t,e){var n=!0;return ui(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function mi(t,e,i){for(var r=-1,o=t.length;++r<o;){var a=t[r],l=e(a);if(null!=l&&(s===n?l==l&&!al(l):i(l,s)))var s=l,c=a}return c}function hi(t,e){var n=[];return ui(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function bi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=bo),r||(r=[]);++o<a;){var l=t[o];e>0&&n(l)?e>1?bi(l,e-1,n,i,r):Ie(r,l):i||(r[r.length]=l)}return r}var yi=Tr(),fi=Tr(!0);function Zi(t,e){return t&&yi(t,e,Vl)}function Gi(t,e){return t&&fi(t,e,Vl)}function Xi(t,e){return ve(e,(function(e){return Oa(t[e])}))}function vi(t,e){for(var i=0,r=(e=yr(e,t)).length;null!=t&&i<r;)t=t[Ro(e[i++])];return i&&i==r?t:n}function gi(t,e,n){var i=e(t);return za(t)?i:Ie(i,n(t))}function Ki(t){return null==t?t===n?"[object Undefined]":"[object Null]":se&&se in St(t)?function(t){var e=Mt.call(t,se),i=t[se];try{t[se]=n;var r=!0}catch(t){}var o=Ht.call(t);return r&&(e?t[se]=i:delete t[se]),o}(t):function(t){return Ht.call(t)}(t)}function Si(t,e){return t>e}function Ii(t,e){return null!=t&&Mt.call(t,e)}function xi(t,e){return null!=t&&e in St(t)}function Li(t,e,i){for(var r=i?Ke:ge,o=t[0].length,a=t.length,l=a,s=it(a),c=1/0,u=[];l--;){var d=t[l];l&&e&&(d=Se(d,ze(e))),c=fn(d.length,c),s[l]=!i&&(e||o>=120&&d.length>=120)?new En(l&&d):n}d=t[0];var p=-1,m=s[0];t:for(;++p<o&&u.length<c;){var h=d[p],b=e?e(h):h;if(h=i||0!==h?h:0,!(m?De(m,b):r(u,b,i))){for(l=a;--l;){var y=s[l];if(!(y?De(y,b):r(t[l],b,i)))continue t}m&&m.push(b),u.push(h)}}return u}function Wi(t,e,i){var r=null==(t=Io(t,e=yr(e,t)))?t:t[Ro(Qo(e))];return null==r?n:ye(r,t,i)}function Vi(t){return $a(t)&&Ki(t)==h}function wi(t,e,i,r,o){return t===e||(null==t||null==e||!$a(t)&&!$a(e)?t!=t&&e!=e:function(t,e,i,r,o,a){var l=za(t),s=za(e),c=l?b:po(t),u=s?b:po(e),d=(c=c==h?K:c)==K,p=(u=u==h?K:u)==K,m=c==u;if(m&&Ea(t)){if(!Ea(e))return!1;l=!0,d=!1}if(m&&!d)return a||(a=new Bn),l||ll(t)?qr(t,e,i,r,o,a):function(t,e,n,i,r,o,a){switch(n){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!o(new zt(t),new zt(e)));case y:case f:case g:return Pa(+t,+e);case Z:return t.name==e.name&&t.message==e.message;case I:case L:return t==e+"";case v:var l=qe;case x:var s=1&i;if(l||(l=en),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;i|=2,a.set(t,e);var u=qr(l(t),l(e),i,r,o,a);return a.delete(t),u;case W:if(Hn)return Hn.call(t)==Hn.call(e)}return!1}(t,e,c,i,r,o,a);if(!(1&i)){var G=d&&Mt.call(t,"__wrapped__"),X=p&&Mt.call(e,"__wrapped__");if(G||X){var S=G?t.value():t,V=X?e.value():e;return a||(a=new Bn),o(S,V,i,r,a)}}return!!m&&(a||(a=new Bn),function(t,e,i,r,o,a){var l=1&i,s=to(t),c=s.length;if(c!=to(e).length&&!l)return!1;for(var u=c;u--;){var d=s[u];if(!(l?d in e:Mt.call(e,d)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var h=!0;a.set(t,e),a.set(e,t);for(var b=l;++u<c;){var y=t[d=s[u]],f=e[d];if(r)var Z=l?r(f,y,d,e,t,a):r(y,f,d,t,e,a);if(!(Z===n?y===f||o(y,f,i,r,a):Z)){h=!1;break}b||(b="constructor"==d)}if(h&&!b){var G=t.constructor,X=e.constructor;G==X||!("constructor"in t)||!("constructor"in e)||"function"==typeof G&&G instanceof G&&"function"==typeof X&&X instanceof X||(h=!1)}return a.delete(t),a.delete(e),h}(t,e,i,r,o,a))}(t,e,i,r,wi,o))}function Ti(t,e,i,r){var o=i.length,a=o,l=!r;if(null==t)return!a;for(t=St(t);o--;){var s=i[o];if(l&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var c=(s=i[o])[0],u=t[c],d=s[1];if(l&&s[2]){if(u===n&&!(c in t))return!1}else{var p=new Bn;if(r)var m=r(u,d,c,t,e,p);if(!(m===n?wi(d,u,3,r,p):m))return!1}}return!0}function Ci(t){return!(!qa(t)||(e=t,Rt&&Rt in e))&&(Oa(t)?Nt:ht).test(Ho(t));var e}function Mi(t){return"function"==typeof t?t:null==t?es:"object"==typeof t?za(t)?Pi(t[0],t[1]):ki(t):us(t)}function Yi(t){if(!vo(t))return bn(t);var e=[];for(var n in St(t))Mt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ri(t,e){return t<e}function Hi(t,e){var n=-1,i=Da(t)?it(t.length):[];return ui(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function ki(t){var e=lo(t);return 1==e.length&&e[0][2]?Ko(e[0][0],e[0][1]):function(n){return n===t||Ti(n,t,e)}}function Pi(t,e){return Zo(t)&&go(e)?Ko(Ro(t),e):function(i){var r=Sl(i,t);return r===n&&r===e?Il(i,t):wi(e,r,3)}}function Ni(t,e,i,r,o){t!==e&&yi(e,(function(a,l){if(o||(o=new Bn),qa(a))!function(t,e,i,r,o,a,l){var s=Lo(t,i),c=Lo(e,i),u=l.get(c);if(u)qn(t,i,u);else{var d=a?a(s,c,i+"",t,e,l):n,p=d===n;if(p){var m=za(c),h=!m&&Ea(c),b=!m&&!h&&ll(c);d=c,m||h||b?za(s)?d=s:Fa(s)?d=xr(s):h?(p=!1,d=Xr(c,!0)):b?(p=!1,d=gr(c,!0)):d=[]:nl(c)||ja(c)?(d=s,ja(s)?d=bl(s):qa(s)&&!Oa(s)||(d=ho(c))):p=!1}p&&(l.set(c,d),o(d,c,r,a,l),l.delete(c)),qn(t,i,d)}}(t,e,l,i,Ni,r,o);else{var s=r?r(Lo(t,l),a,l+"",t,e,o):n;s===n&&(s=a),qn(t,l,s)}}),wl)}function Ji(t,e){var i=t.length;if(i)return yo(e+=e<0?i:0,i)?t[e]:n}function ji(t,e,n){e=e.length?Se(e,(function(t){return za(t)?function(e){return vi(e,1===t.length?t[0]:t)}:t})):[es];var i=-1;e=Se(e,ze(oo()));var r=Hi(t,(function(t,n,r){var o=Se(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(r,(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,l=n.length;++i<a;){var s=Kr(r[i],o[i]);if(s)return i>=l?s:s*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function zi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],l=vi(t,a);n(l,a)&&_i(o,yr(a,t),l)}return o}function Ui(t,e,n,i){var r=i?Me:Ce,o=-1,a=e.length,l=t;for(t===e&&(e=xr(e)),n&&(l=Se(t,ze(n)));++o<a;)for(var s=0,c=e[o],u=n?n(c):c;(s=r(l,u,s,i))>-1;)l!==t&&ie.call(l,s,1),ie.call(t,s,1);return t}function Di(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;yo(r)?ie.call(t,r,1):sr(t,r)}}return t}function Fi(t,e){return t+un(Xn()*(e-t+1))}function Ei(t,e){var n="";if(!t||e<1||e>u)return n;do{e%2&&(n+=t),(e=un(e/2))&&(t+=t)}while(e);return n}function Bi(t,e){return wo(So(t,e,es),t+"")}function Qi(t){return On(Pl(t))}function Oi(t,e){var n=Pl(t);return Mo(n,oi(e,0,n.length))}function _i(t,e,i,r){if(!qa(t))return t;for(var o=-1,a=(e=yr(e,t)).length,l=a-1,s=t;null!=s&&++o<a;){var c=Ro(e[o]),u=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=l){var d=s[c];(u=r?r(d,c,s):n)===n&&(u=qa(d)?d:yo(e[o+1])?[]:{})}$n(s,c,u),s=s[c]}return t}var Ai=Wn?function(t,e){return Wn.set(t,e),t}:es,qi=ce?function(t,e){return ce(t,"toString",{configurable:!0,enumerable:!1,value:ql(e),writable:!0})}:es;function $i(t){return Mo(Pl(t))}function tr(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=it(r);++i<r;)o[i]=t[i+e];return o}function er(t,e){var n;return ui(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function nr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!al(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return ir(t,e,es,n)}function ir(t,e,i,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var l=(e=i(e))!=e,s=null===e,c=al(e),u=e===n;o<a;){var d=un((o+a)/2),p=i(t[d]),m=p!==n,h=null===p,b=p==p,y=al(p);if(l)var f=r||b;else f=u?b&&(r||m):s?b&&m&&(r||!h):c?b&&m&&!h&&(r||!y):!h&&!y&&(r?p<=e:p<e);f?o=d+1:a=d}return fn(a,4294967294)}function rr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],l=e?e(a):a;if(!n||!Pa(l,s)){var s=l;o[r++]=0===a?0:a}}return o}function or(t){return"number"==typeof t?t:al(t)?d:+t}function ar(t){if("string"==typeof t)return t;if(za(t))return Se(t,ar)+"";if(al(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function lr(t,e,n){var i=-1,r=ge,o=t.length,a=!0,l=[],s=l;if(n)a=!1,r=Ke;else if(o>=200){var c=e?null:Er(t);if(c)return en(c);a=!1,r=De,s=new En}else s=e?[]:l;t:for(;++i<o;){var u=t[i],d=e?e(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var p=s.length;p--;)if(s[p]===d)continue t;e&&s.push(d),l.push(u)}else r(s,d,n)||(s!==l&&s.push(d),l.push(u))}return l}function sr(t,e){return null==(t=Io(t,e=yr(e,t)))||delete t[Ro(Qo(e))]}function cr(t,e,n,i){return _i(t,e,n(vi(t,e)),i)}function ur(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?tr(t,i?0:o,i?o+1:r):tr(t,i?o+1:0,i?r:o)}function dr(t,e){var n=t;return n instanceof zn&&(n=n.value()),xe(e,(function(t,e){return e.func.apply(e.thisArg,Ie([t],e.args))}),n)}function pr(t,e,n){var i=t.length;if(i<2)return i?lr(t[0]):[];for(var r=-1,o=it(i);++r<i;)for(var a=t[r],l=-1;++l<i;)l!=r&&(o[r]=ci(o[r]||a,t[l],e,n));return lr(bi(o,1),e,n)}function mr(t,e,i){for(var r=-1,o=t.length,a=e.length,l={};++r<o;){var s=r<a?e[r]:n;i(l,t[r],s)}return l}function hr(t){return Fa(t)?t:[]}function br(t){return"function"==typeof t?t:es}function yr(t,e){return za(t)?t:Zo(t,e)?[t]:Yo(yl(t))}var fr=Bi;function Zr(t,e,i){var r=t.length;return i=i===n?r:i,!e&&i>=r?t:tr(t,e,i)}var Gr=Ve||function(t){return re.clearTimeout(t)};function Xr(t,e){if(e)return t.slice();var n=t.length,i=Ft?Ft(n):new t.constructor(n);return t.copy(i),i}function vr(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e}function gr(t,e){var n=e?vr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Kr(t,e){if(t!==e){var i=t!==n,r=null===t,o=t==t,a=al(t),l=e!==n,s=null===e,c=e==e,u=al(e);if(!s&&!u&&!a&&t>e||a&&l&&c&&!s&&!u||r&&l&&c||!i&&c||!o)return 1;if(!r&&!a&&!u&&t<e||u&&i&&o&&!r&&!a||s&&i&&o||!l&&o||!c)return-1}return 0}function Sr(t,e,n,i){for(var r=-1,o=t.length,a=n.length,l=-1,s=e.length,c=yn(o-a,0),u=it(s+c),d=!i;++l<s;)u[l]=e[l];for(;++r<a;)(d||r<o)&&(u[n[r]]=t[r]);for(;c--;)u[l++]=t[r++];return u}function Ir(t,e,n,i){for(var r=-1,o=t.length,a=-1,l=n.length,s=-1,c=e.length,u=yn(o-l,0),d=it(u+c),p=!i;++r<u;)d[r]=t[r];for(var m=r;++s<c;)d[m+s]=e[s];for(;++a<l;)(p||r<o)&&(d[m+n[a]]=t[r++]);return d}function xr(t,e){var n=-1,i=t.length;for(e||(e=it(i));++n<i;)e[n]=t[n];return e}function Lr(t,e,i,r){var o=!i;i||(i={});for(var a=-1,l=e.length;++a<l;){var s=e[a],c=r?r(i[s],t[s],s,i,t):n;c===n&&(c=t[s]),o?ii(i,s,c):$n(i,s,c)}return i}function Wr(t,e){return function(n,i){var r=za(n)?fe:ei,o=e?e():{};return r(n,t,oo(i,2),o)}}function Vr(t){return Bi((function(e,i){var r=-1,o=i.length,a=o>1?i[o-1]:n,l=o>2?i[2]:n;for(a=t.length>3&&"function"==typeof a?(o--,a):n,l&&fo(i[0],i[1],l)&&(a=o<3?n:a,o=1),e=St(e);++r<o;){var s=i[r];s&&t(e,s,r,a)}return e}))}function wr(t,e){return function(n,i){if(null==n)return n;if(!Da(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=St(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Tr(t){return function(e,n,i){for(var r=-1,o=St(e),a=i(e),l=a.length;l--;){var s=a[t?l:++r];if(!1===n(o[s],s,o))break}return e}}function Cr(t){return function(e){var i=Ae(e=yl(e))?rn(e):n,r=i?i[0]:e.charAt(0),o=i?Zr(i,1).join(""):e.slice(1);return r[t]()+o}}function Mr(t){return function(e){return xe(Ol(jl(e).replace(Ut,"")),t,"")}}function Yr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Nn(t.prototype),i=t.apply(n,e);return qa(i)?i:n}}function Rr(t){return function(e,i,r){var o=St(e);if(!Da(e)){var a=oo(i,3);e=Vl(e),i=function(t){return a(o[t],t,o)}}var l=t(e,i,r);return l>-1?o[a?e[l]:l]:n}}function Hr(t){return $r((function(e){var i=e.length,o=i,a=jn.prototype.thru;for(t&&e.reverse();o--;){var l=e[o];if("function"!=typeof l)throw new Lt(r);if(a&&!s&&"wrapper"==io(l))var s=new jn([],!0)}for(o=s?o:i;++o<i;){var c=io(l=e[o]),u="wrapper"==c?no(l):n;s=u&&Go(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[io(u[0])].apply(s,u[3]):1==l.length&&Go(l)?s[c]():s.thru(l)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&za(n))return s.plant(n).value();for(var r=0,o=i?e[r].apply(this,t):n;++r<i;)o=e[r].call(this,o);return o}}))}function kr(t,e,i,r,o,a,l,c,u,d){var p=e&s,m=1&e,h=2&e,b=24&e,y=512&e,f=h?n:Yr(t);return function n(){for(var s=arguments.length,Z=it(s),G=s;G--;)Z[G]=arguments[G];if(b)var X=ro(n),v=Be(Z,X);if(r&&(Z=Sr(Z,r,o,b)),a&&(Z=Ir(Z,a,l,b)),s-=v,b&&s<d){var g=tn(Z,X);return Dr(t,e,kr,n.placeholder,i,Z,g,c,u,d-s)}var K=m?i:this,S=h?K[t]:t;return s=Z.length,c?Z=xo(Z,c):y&&s>1&&Z.reverse(),p&&u<s&&(Z.length=u),this&&this!==re&&this instanceof n&&(S=f||Yr(S)),S.apply(K,Z)}}function Pr(t,e){return function(n,i){return function(t,e,n,i){return Zi(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Nr(t,e){return function(i,r){var o;if(i===n&&r===n)return e;if(i!==n&&(o=i),r!==n){if(o===n)return r;"string"==typeof i||"string"==typeof r?(i=ar(i),r=ar(r)):(i=or(i),r=or(r)),o=t(i,r)}return o}}function Jr(t){return $r((function(e){return e=Se(e,ze(oo())),Bi((function(n){var i=this;return t(e,(function(t){return ye(t,i,n)}))}))}))}function jr(t,e){var i=(e=e===n?" ":ar(e)).length;if(i<2)return i?Ei(e,t):e;var r=Ei(e,cn(t/nn(e)));return Ae(e)?Zr(rn(r),0,t).join(""):r.slice(0,t)}function zr(t){return function(e,i,r){return r&&"number"!=typeof r&&fo(e,i,r)&&(i=r=n),e=dl(e),i===n?(i=e,e=0):i=dl(i),function(t,e,n,i){for(var r=-1,o=yn(cn((e-t)/(n||1)),0),a=it(o);o--;)a[i?o:++r]=t,t+=n;return a}(e,i,r=r===n?e<i?1:-1:dl(r),t)}}function Ur(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=hl(e),n=hl(n)),t(e,n)}}function Dr(t,e,i,r,o,a,s,c,u,d){var p=8&e;e|=p?l:64,4&(e&=~(p?64:l))||(e&=-4);var m=[t,e,o,p?a:n,p?s:n,p?n:a,p?n:s,c,u,d],h=i.apply(n,m);return Go(t)&&Wo(h,m),h.placeholder=r,To(h,t,e)}function Fr(t){var e=Kt[t];return function(t,n){if(t=hl(t),(n=null==n?0:fn(pl(n),292))&&mn(t)){var i=(yl(t)+"e").split("e");return+((i=(yl(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Er=In&&1/en(new In([,-0]))[1]==c?function(t){return new In(t)}:as;function Br(t){return function(e){var n=po(e);return n==v?qe(e):n==x?function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}(e):function(t,e){return Se(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qr(t,e,i,o,c,u,d,p){var m=2&e;if(!m&&"function"!=typeof t)throw new Lt(r);var h=o?o.length:0;if(h||(e&=-97,o=c=n),d=d===n?d:yn(pl(d),0),p=p===n?p:pl(p),h-=c?c.length:0,64&e){var b=o,y=c;o=c=n}var f=m?n:no(t),Z=[t,e,i,o,c,b,y,u,d,p];if(f&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,l=i==s&&8==n||i==s&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!l)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var c=e[3];if(c){var u=t[3];t[3]=u?Sr(u,c,e[4]):c,t[4]=u?tn(t[3],a):e[4]}(c=e[5])&&(u=t[5],t[5]=u?Ir(u,c,e[6]):c,t[6]=u?tn(t[5],a):e[6]),(c=e[7])&&(t[7]=c),i&s&&(t[8]=null==t[8]?e[8]:fn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(Z,f),t=Z[0],e=Z[1],i=Z[2],o=Z[3],c=Z[4],!(p=Z[9]=Z[9]===n?m?0:t.length:yn(Z[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)G=8==e||16==e?function(t,e,i){var r=Yr(t);return function o(){for(var a=arguments.length,l=it(a),s=a,c=ro(o);s--;)l[s]=arguments[s];var u=a<3&&l[0]!==c&&l[a-1]!==c?[]:tn(l,c);return(a-=u.length)<i?Dr(t,e,kr,o.placeholder,n,l,u,n,n,i-a):ye(this&&this!==re&&this instanceof o?r:t,this,l)}}(t,e,p):e!=l&&33!=e||c.length?kr.apply(n,Z):function(t,e,n,i){var r=1&e,o=Yr(t);return function e(){for(var a=-1,l=arguments.length,s=-1,c=i.length,u=it(c+l),d=this&&this!==re&&this instanceof e?o:t;++s<c;)u[s]=i[s];for(;l--;)u[s++]=arguments[++a];return ye(d,r?n:this,u)}}(t,e,i,o);else var G=function(t,e,n){var i=1&e,r=Yr(t);return function e(){return(this&&this!==re&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,i);return To((f?Ai:Wo)(G,Z),t,e)}function Or(t,e,i,r){return t===n||Pa(t,wt[i])&&!Mt.call(r,i)?e:t}function _r(t,e,i,r,o,a){return qa(t)&&qa(e)&&(a.set(e,t),Ni(t,e,n,_r,a),a.delete(e)),t}function Ar(t){return nl(t)?n:t}function qr(t,e,i,r,o,a){var l=1&i,s=t.length,c=e.length;if(s!=c&&!(l&&c>s))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var p=-1,m=!0,h=2&i?new En:n;for(a.set(t,e),a.set(e,t);++p<s;){var b=t[p],y=e[p];if(r)var f=l?r(y,b,p,e,t,a):r(b,y,p,t,e,a);if(f!==n){if(f)continue;m=!1;break}if(h){if(!We(e,(function(t,e){if(!De(h,e)&&(b===t||o(b,t,i,r,a)))return h.push(e)}))){m=!1;break}}else if(b!==y&&!o(b,y,i,r,a)){m=!1;break}}return a.delete(t),a.delete(e),m}function $r(t){return wo(So(t,n,Uo),t+"")}function to(t){return gi(t,Vl,co)}function eo(t){return gi(t,wl,uo)}var no=Wn?function(t){return Wn.get(t)}:as;function io(t){for(var e=t.name+"",n=Vn[e],i=Mt.call(Vn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function ro(t){return(Mt.call(Pn,"placeholder")?Pn:t).placeholder}function oo(){var t=Pn.iteratee||ns;return t=t===ns?Mi:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function lo(t){for(var e=Vl(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,go(r)]}return e}function so(t,e){var i=function(t,e){return null==t?n:t[e]}(t,e);return Ci(i)?i:n}var co=dn?function(t){return null==t?[]:(t=St(t),ve(dn(t),(function(e){return ne.call(t,e)})))}:ms,uo=dn?function(t){for(var e=[];t;)Ie(e,co(t)),t=Bt(t);return e}:ms,po=Ki;function mo(t,e,n){for(var i=-1,r=(e=yr(e,t)).length,o=!1;++i<r;){var a=Ro(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Aa(r)&&yo(a,r)&&(za(t)||ja(t))}function ho(t){return"function"!=typeof t.constructor||vo(t)?{}:Nn(Bt(t))}function bo(t){return za(t)||ja(t)||!!(oe&&t&&t[oe])}function yo(t,e){var n=typeof t;return!!(e=null==e?u:e)&&("number"==n||"symbol"!=n&&yt.test(t))&&t>-1&&t%1==0&&t<e}function fo(t,e,n){if(!qa(n))return!1;var i=typeof e;return!!("number"==i?Da(n)&&yo(e,n.length):"string"==i&&e in n)&&Pa(n[e],t)}function Zo(t,e){if(za(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!al(t))||q.test(t)||!A.test(t)||null!=e&&t in St(e)}function Go(t){var e=io(t),n=Pn[e];if("function"!=typeof n||!(e in zn.prototype))return!1;if(t===n)return!0;var i=no(n);return!!i&&t===i[0]}(gn&&po(new gn(new ArrayBuffer(1)))!=T||Kn&&po(new Kn)!=v||Sn&&po(Sn.resolve())!=S||In&&po(new In)!=x||xn&&po(new xn)!=V)&&(po=function(t){var e=Ki(t),i=e==K?t.constructor:n,r=i?Ho(i):"";if(r)switch(r){case wn:return T;case Tn:return v;case Cn:return S;case Mn:return x;case Yn:return V}return e});var Xo=Tt?Oa:hs;function vo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function go(t){return t==t&&!qa(t)}function Ko(t,e){return function(i){return null!=i&&i[t]===e&&(e!==n||t in St(i))}}function So(t,e,i){return e=yn(e===n?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=yn(n.length-e,0),a=it(o);++r<o;)a[r]=n[e+r];r=-1;for(var l=it(e+1);++r<e;)l[r]=n[r];return l[e]=i(a),ye(t,this,l)}}function Io(t,e){return e.length<2?t:vi(t,tr(e,0,-1))}function xo(t,e){for(var i=t.length,r=fn(e.length,i),o=xr(t);r--;){var a=e[r];t[r]=yo(a,i)?o[a]:n}return t}function Lo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Wo=Co(Ai),Vo=sn||function(t,e){return re.setTimeout(t,e)},wo=Co(qi);function To(t,e,n){var i=e+"";return wo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(rt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ze(m,(function(n){var i="_."+n[0];e&n[1]&&!ge(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(at):[]}(i),n)))}function Co(t){var e=0,i=0;return function(){var r=Zn(),o=16-(r-i);if(i=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function Mo(t,e){var i=-1,r=t.length,o=r-1;for(e=e===n?r:e;++i<e;){var a=Fi(i,o),l=t[a];t[a]=t[i],t[i]=l}return t.length=e,t}var Yo=function(t){var e=Ca((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace($,(function(t,n,i,r){e.push(i?r.replace(ct,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}();function Ro(t){if("string"==typeof t||al(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ho(t){if(null!=t){try{return Ct.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ko(t){if(t instanceof zn)return t.clone();var e=new jn(t.__wrapped__,t.__chain__);return e.__actions__=xr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Po=Bi((function(t,e){return Fa(t)?ci(t,bi(e,1,Fa,!0)):[]})),No=Bi((function(t,e){var i=Qo(e);return Fa(i)&&(i=n),Fa(t)?ci(t,bi(e,1,Fa,!0),oo(i,2)):[]})),Jo=Bi((function(t,e){var i=Qo(e);return Fa(i)&&(i=n),Fa(t)?ci(t,bi(e,1,Fa,!0),n,i):[]}));function jo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:pl(n);return r<0&&(r=yn(i+r,0)),Te(t,oo(e,3),r)}function zo(t,e,i){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return i!==n&&(o=pl(i),o=i<0?yn(r+o,0):fn(o,r-1)),Te(t,oo(e,3),o,!0)}function Uo(t){return null!=t&&t.length?bi(t,1):[]}function Do(t){return t&&t.length?t[0]:n}var Fo=Bi((function(t){var e=Se(t,hr);return e.length&&e[0]===t[0]?Li(e):[]})),Eo=Bi((function(t){var e=Qo(t),i=Se(t,hr);return e===Qo(i)?e=n:i.pop(),i.length&&i[0]===t[0]?Li(i,oo(e,2)):[]})),Bo=Bi((function(t){var e=Qo(t),i=Se(t,hr);return(e="function"==typeof e?e:n)&&i.pop(),i.length&&i[0]===t[0]?Li(i,n,e):[]}));function Qo(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Oo=Bi(_o);function _o(t,e){return t&&t.length&&e&&e.length?Ui(t,e):t}var Ao=$r((function(t,e){var n=null==t?0:t.length,i=ri(t,e);return Di(t,Se(e,(function(t){return yo(t,n)?+t:t})).sort(Kr)),i}));function qo(t){return null==t?t:vn.call(t)}var $o=Bi((function(t){return lr(bi(t,1,Fa,!0))})),ta=Bi((function(t){var e=Qo(t);return Fa(e)&&(e=n),lr(bi(t,1,Fa,!0),oo(e,2))})),ea=Bi((function(t){var e=Qo(t);return e="function"==typeof e?e:n,lr(bi(t,1,Fa,!0),n,e)}));function na(t){if(!t||!t.length)return[];var e=0;return t=ve(t,(function(t){if(Fa(t))return e=yn(t.length,e),!0})),Je(e,(function(e){return Se(t,He(e))}))}function ia(t,e){if(!t||!t.length)return[];var i=na(t);return null==e?i:Se(i,(function(t){return ye(e,n,t)}))}var ra=Bi((function(t,e){return Fa(t)?ci(t,e):[]})),oa=Bi((function(t){return pr(ve(t,Fa))})),aa=Bi((function(t){var e=Qo(t);return Fa(e)&&(e=n),pr(ve(t,Fa),oo(e,2))})),la=Bi((function(t){var e=Qo(t);return e="function"==typeof e?e:n,pr(ve(t,Fa),n,e)})),sa=Bi(na),ca=Bi((function(t){var e=t.length,i=e>1?t[e-1]:n;return i="function"==typeof i?(t.pop(),i):n,ia(t,i)}));function ua(t){var e=Pn(t);return e.__chain__=!0,e}function da(t,e){return e(t)}var pa=$r((function(t){var e=t.length,i=e?t[0]:0,r=this.__wrapped__,o=function(e){return ri(e,t)};return!(e>1||this.__actions__.length)&&r instanceof zn&&yo(i)?((r=r.slice(i,+i+(e?1:0))).__actions__.push({func:da,args:[o],thisArg:n}),new jn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(n),t}))):this.thru(o)})),ma=Wr((function(t,e,n){Mt.call(t,n)?++t[n]:ii(t,n,1)})),ha=Rr(jo),ba=Rr(zo);function ya(t,e){return(za(t)?Ze:ui)(t,oo(e,3))}function fa(t,e){return(za(t)?Ge:di)(t,oo(e,3))}var Za=Wr((function(t,e,n){Mt.call(t,n)?t[n].push(e):ii(t,n,[e])})),Ga=Bi((function(t,e,n){var i=-1,r="function"==typeof e,o=Da(t)?it(t.length):[];return ui(t,(function(t){o[++i]=r?ye(e,t,n):Wi(t,e,n)})),o})),Xa=Wr((function(t,e,n){ii(t,n,e)}));function va(t,e){return(za(t)?Se:Hi)(t,oo(e,3))}var ga=Wr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Ka=Bi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&fo(t,e[0],e[1])?e=[]:n>2&&fo(e[0],e[1],e[2])&&(e=[e[0]]),ji(t,bi(e,1),[])})),Sa=ke||function(){return re.Date.now()};function Ia(t,e,i){return e=i?n:e,e=t&&null==e?t.length:e,Qr(t,s,n,n,n,n,e)}function xa(t,e){var i;if("function"!=typeof e)throw new Lt(r);return t=pl(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var La=Bi((function(t,e,n){var i=1;if(n.length){var r=tn(n,ro(La));i|=l}return Qr(t,i,e,n,r)})),Wa=Bi((function(t,e,n){var i=3;if(n.length){var r=tn(n,ro(Wa));i|=l}return Qr(e,i,t,n,r)}));function Va(t,e,i){var o,a,l,s,c,u,d=0,p=!1,m=!1,h=!0;if("function"!=typeof t)throw new Lt(r);function b(e){var i=o,r=a;return o=a=n,d=e,s=t.apply(r,i)}function y(t){return d=t,c=Vo(Z,e),p?b(t):s}function f(t){var i=t-u;return u===n||i>=e||i<0||m&&t-d>=l}function Z(){var t=Sa();if(f(t))return G(t);c=Vo(Z,function(t){var n=e-(t-u);return m?fn(n,l-(t-d)):n}(t))}function G(t){return c=n,h&&o?b(t):(o=a=n,s)}function X(){var t=Sa(),i=f(t);if(o=arguments,a=this,u=t,i){if(c===n)return y(u);if(m)return Gr(c),c=Vo(Z,e),b(u)}return c===n&&(c=Vo(Z,e)),s}return e=hl(e)||0,qa(i)&&(p=!!i.leading,l=(m="maxWait"in i)?yn(hl(i.maxWait)||0,e):l,h="trailing"in i?!!i.trailing:h),X.cancel=function(){c!==n&&Gr(c),d=0,o=u=a=c=n},X.flush=function(){return c===n?s:G(Sa())},X}var wa=Bi((function(t,e){return si(t,1,e)})),Ta=Bi((function(t,e,n){return si(t,hl(e)||0,n)}));function Ca(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Lt(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ca.Cache||Fn),n}function Ma(t){if("function"!=typeof t)throw new Lt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ca.Cache=Fn;var Ya=fr((function(t,e){var n=(e=1==e.length&&za(e[0])?Se(e[0],ze(oo())):Se(bi(e,1),ze(oo()))).length;return Bi((function(i){for(var r=-1,o=fn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return ye(t,this,i)}))})),Ra=Bi((function(t,e){var i=tn(e,ro(Ra));return Qr(t,l,n,e,i)})),Ha=Bi((function(t,e){var i=tn(e,ro(Ha));return Qr(t,64,n,e,i)})),ka=$r((function(t,e){return Qr(t,256,n,n,n,e)}));function Pa(t,e){return t===e||t!=t&&e!=e}var Na=Ur(Si),Ja=Ur((function(t,e){return t>=e})),ja=Vi(function(){return arguments}())?Vi:function(t){return $a(t)&&Mt.call(t,"callee")&&!ne.call(t,"callee")},za=it.isArray,Ua=ue?ze(ue):function(t){return $a(t)&&Ki(t)==w};function Da(t){return null!=t&&Aa(t.length)&&!Oa(t)}function Fa(t){return $a(t)&&Da(t)}var Ea=pn||hs,Ba=de?ze(de):function(t){return $a(t)&&Ki(t)==f};function Qa(t){if(!$a(t))return!1;var e=Ki(t);return e==Z||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!nl(t)}function Oa(t){if(!qa(t))return!1;var e=Ki(t);return e==G||e==X||"[object AsyncFunction]"==e||"[object Proxy]"==e}function _a(t){return"number"==typeof t&&t==pl(t)}function Aa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function qa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function $a(t){return null!=t&&"object"==typeof t}var tl=pe?ze(pe):function(t){return $a(t)&&po(t)==v};function el(t){return"number"==typeof t||$a(t)&&Ki(t)==g}function nl(t){if(!$a(t)||Ki(t)!=K)return!1;var e=Bt(t);if(null===e)return!0;var n=Mt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ct.call(n)==kt}var il=me?ze(me):function(t){return $a(t)&&Ki(t)==I},rl=he?ze(he):function(t){return $a(t)&&po(t)==x};function ol(t){return"string"==typeof t||!za(t)&&$a(t)&&Ki(t)==L}function al(t){return"symbol"==typeof t||$a(t)&&Ki(t)==W}var ll=be?ze(be):function(t){return $a(t)&&Aa(t.length)&&!!At[Ki(t)]},sl=Ur(Ri),cl=Ur((function(t,e){return t<=e}));function ul(t){if(!t)return[];if(Da(t))return ol(t)?rn(t):xr(t);if(ae&&t[ae])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ae]());var e=po(t);return(e==v?qe:e==x?en:Pl)(t)}function dl(t){return t?(t=hl(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function pl(t){var e=dl(t),n=e%1;return e==e?n?e-n:e:0}function ml(t){return t?oi(pl(t),0,p):0}function hl(t){if("number"==typeof t)return t;if(al(t))return d;if(qa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=qa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=je(t);var n=mt.test(t);return n||bt.test(t)?ee(t.slice(2),n?2:8):pt.test(t)?d:+t}function bl(t){return Lr(t,wl(t))}function yl(t){return null==t?"":ar(t)}var fl=Vr((function(t,e){if(vo(e)||Da(e))Lr(e,Vl(e),t);else for(var n in e)Mt.call(e,n)&&$n(t,n,e[n])})),Zl=Vr((function(t,e){Lr(e,wl(e),t)})),Gl=Vr((function(t,e,n,i){Lr(e,wl(e),t,i)})),Xl=Vr((function(t,e,n,i){Lr(e,Vl(e),t,i)})),vl=$r(ri),gl=Bi((function(t,e){t=St(t);var i=-1,r=e.length,o=r>2?e[2]:n;for(o&&fo(e[0],e[1],o)&&(r=1);++i<r;)for(var a=e[i],l=wl(a),s=-1,c=l.length;++s<c;){var u=l[s],d=t[u];(d===n||Pa(d,wt[u])&&!Mt.call(t,u))&&(t[u]=a[u])}return t})),Kl=Bi((function(t){return t.push(n,_r),ye(Cl,n,t)}));function Sl(t,e,i){var r=null==t?n:vi(t,e);return r===n?i:r}function Il(t,e){return null!=t&&mo(t,e,xi)}var xl=Pr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ht.call(e)),t[e]=n}),ql(es)),Ll=Pr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ht.call(e)),Mt.call(t,e)?t[e].push(n):t[e]=[n]}),oo),Wl=Bi(Wi);function Vl(t){return Da(t)?Qn(t):Yi(t)}function wl(t){return Da(t)?Qn(t,!0):function(t){if(!qa(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=vo(t),n=[];for(var i in t)("constructor"!=i||!e&&Mt.call(t,i))&&n.push(i);return n}(t)}var Tl=Vr((function(t,e,n){Ni(t,e,n)})),Cl=Vr((function(t,e,n,i){Ni(t,e,n,i)})),Ml=$r((function(t,e){var n={};if(null==t)return n;var i=!1;e=Se(e,(function(e){return e=yr(e,t),i||(i=e.length>1),e})),Lr(t,eo(t),n),i&&(n=ai(n,7,Ar));for(var r=e.length;r--;)sr(n,e[r]);return n})),Yl=$r((function(t,e){return null==t?{}:function(t,e){return zi(t,e,(function(e,n){return Il(t,n)}))}(t,e)}));function Rl(t,e){if(null==t)return{};var n=Se(eo(t),(function(t){return[t]}));return e=oo(e),zi(t,n,(function(t,n){return e(t,n[0])}))}var Hl=Br(Vl),kl=Br(wl);function Pl(t){return null==t?[]:Ue(t,Vl(t))}var Nl=Mr((function(t,e,n){return e=e.toLowerCase(),t+(n?Jl(e):e)}));function Jl(t){return Ql(yl(t).toLowerCase())}function jl(t){return(t=yl(t))&&t.replace(ft,Qe).replace(Dt,"")}var zl=Mr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ul=Mr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Dl=Cr("toLowerCase"),Fl=Mr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),El=Mr((function(t,e,n){return t+(n?" ":"")+Ql(e)})),Bl=Mr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ql=Cr("toUpperCase");function Ol(t,e,i){return t=yl(t),(e=i?n:e)===n?function(t){return Qt.test(t)}(t)?function(t){return t.match(Et)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(e)||[]}var _l=Bi((function(t,e){try{return ye(t,n,e)}catch(t){return Qa(t)?t:new vt(t)}})),Al=$r((function(t,e){return Ze(e,(function(e){e=Ro(e),ii(t,e,La(t[e],t))})),t}));function ql(t){return function(){return t}}var $l=Hr(),ts=Hr(!0);function es(t){return t}function ns(t){return Mi("function"==typeof t?t:ai(t,1))}var is=Bi((function(t,e){return function(n){return Wi(n,t,e)}})),rs=Bi((function(t,e){return function(n){return Wi(t,n,e)}}));function os(t,e,n){var i=Vl(e),r=Xi(e,i);null!=n||qa(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Xi(e,Vl(e)));var o=!(qa(n)&&"chain"in n&&!n.chain),a=Oa(t);return Ze(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=xr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Ie([this.value()],arguments))})})),t}function as(){}var ls=Jr(Se),ss=Jr(Xe),cs=Jr(We);function us(t){return Zo(t)?He(Ro(t)):function(t){return function(e){return vi(e,t)}}(t)}var ds=zr(),ps=zr(!0);function ms(){return[]}function hs(){return!1}var bs,ys=Nr((function(t,e){return t+e}),0),fs=Fr("ceil"),Zs=Nr((function(t,e){return t/e}),1),Gs=Fr("floor"),Xs=Nr((function(t,e){return t*e}),1),vs=Fr("round"),gs=Nr((function(t,e){return t-e}),0);return Pn.after=function(t,e){if("function"!=typeof e)throw new Lt(r);return t=pl(t),function(){if(--t<1)return e.apply(this,arguments)}},Pn.ary=Ia,Pn.assign=fl,Pn.assignIn=Zl,Pn.assignInWith=Gl,Pn.assignWith=Xl,Pn.at=vl,Pn.before=xa,Pn.bind=La,Pn.bindAll=Al,Pn.bindKey=Wa,Pn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return za(t)?t:[t]},Pn.chain=ua,Pn.chunk=function(t,e,i){e=(i?fo(t,e,i):e===n)?1:yn(pl(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,l=it(cn(r/e));o<r;)l[a++]=tr(t,o,o+=e);return l},Pn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Pn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=it(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ie(za(n)?xr(n):[n],bi(e,1))},Pn.cond=function(t){var e=null==t?0:t.length,n=oo();return t=e?Se(t,(function(t){if("function"!=typeof t[1])throw new Lt(r);return[n(t[0]),t[1]]})):[],Bi((function(n){for(var i=-1;++i<e;){var r=t[i];if(ye(r[0],this,n))return ye(r[1],this,n)}}))},Pn.conforms=function(t){return function(t){var e=Vl(t);return function(n){return li(n,t,e)}}(ai(t,1))},Pn.constant=ql,Pn.countBy=ma,Pn.create=function(t,e){var n=Nn(t);return null==e?n:ni(n,e)},Pn.curry=function t(e,i,r){var o=Qr(e,8,n,n,n,n,n,i=r?n:i);return o.placeholder=t.placeholder,o},Pn.curryRight=function t(e,i,r){var o=Qr(e,16,n,n,n,n,n,i=r?n:i);return o.placeholder=t.placeholder,o},Pn.debounce=Va,Pn.defaults=gl,Pn.defaultsDeep=Kl,Pn.defer=wa,Pn.delay=Ta,Pn.difference=Po,Pn.differenceBy=No,Pn.differenceWith=Jo,Pn.drop=function(t,e,i){var r=null==t?0:t.length;return r?tr(t,(e=i||e===n?1:pl(e))<0?0:e,r):[]},Pn.dropRight=function(t,e,i){var r=null==t?0:t.length;return r?tr(t,0,(e=r-(e=i||e===n?1:pl(e)))<0?0:e):[]},Pn.dropRightWhile=function(t,e){return t&&t.length?ur(t,oo(e,3),!0,!0):[]},Pn.dropWhile=function(t,e){return t&&t.length?ur(t,oo(e,3),!0):[]},Pn.fill=function(t,e,i,r){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&fo(t,e,i)&&(i=0,r=o),function(t,e,i,r){var o=t.length;for((i=pl(i))<0&&(i=-i>o?0:o+i),(r=r===n||r>o?o:pl(r))<0&&(r+=o),r=i>r?0:ml(r);i<r;)t[i++]=e;return t}(t,e,i,r)):[]},Pn.filter=function(t,e){return(za(t)?ve:hi)(t,oo(e,3))},Pn.flatMap=function(t,e){return bi(va(t,e),1)},Pn.flatMapDeep=function(t,e){return bi(va(t,e),c)},Pn.flatMapDepth=function(t,e,i){return i=i===n?1:pl(i),bi(va(t,e),i)},Pn.flatten=Uo,Pn.flattenDeep=function(t){return null!=t&&t.length?bi(t,c):[]},Pn.flattenDepth=function(t,e){return null!=t&&t.length?bi(t,e=e===n?1:pl(e)):[]},Pn.flip=function(t){return Qr(t,512)},Pn.flow=$l,Pn.flowRight=ts,Pn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Pn.functions=function(t){return null==t?[]:Xi(t,Vl(t))},Pn.functionsIn=function(t){return null==t?[]:Xi(t,wl(t))},Pn.groupBy=Za,Pn.initial=function(t){return null!=t&&t.length?tr(t,0,-1):[]},Pn.intersection=Fo,Pn.intersectionBy=Eo,Pn.intersectionWith=Bo,Pn.invert=xl,Pn.invertBy=Ll,Pn.invokeMap=Ga,Pn.iteratee=ns,Pn.keyBy=Xa,Pn.keys=Vl,Pn.keysIn=wl,Pn.map=va,Pn.mapKeys=function(t,e){var n={};return e=oo(e,3),Zi(t,(function(t,i,r){ii(n,e(t,i,r),t)})),n},Pn.mapValues=function(t,e){var n={};return e=oo(e,3),Zi(t,(function(t,i,r){ii(n,i,e(t,i,r))})),n},Pn.matches=function(t){return ki(ai(t,1))},Pn.matchesProperty=function(t,e){return Pi(t,ai(e,1))},Pn.memoize=Ca,Pn.merge=Tl,Pn.mergeWith=Cl,Pn.method=is,Pn.methodOf=rs,Pn.mixin=os,Pn.negate=Ma,Pn.nthArg=function(t){return t=pl(t),Bi((function(e){return Ji(e,t)}))},Pn.omit=Ml,Pn.omitBy=function(t,e){return Rl(t,Ma(oo(e)))},Pn.once=function(t){return xa(2,t)},Pn.orderBy=function(t,e,i,r){return null==t?[]:(za(e)||(e=null==e?[]:[e]),za(i=r?n:i)||(i=null==i?[]:[i]),ji(t,e,i))},Pn.over=ls,Pn.overArgs=Ya,Pn.overEvery=ss,Pn.overSome=cs,Pn.partial=Ra,Pn.partialRight=Ha,Pn.partition=ga,Pn.pick=Yl,Pn.pickBy=Rl,Pn.property=us,Pn.propertyOf=function(t){return function(e){return null==t?n:vi(t,e)}},Pn.pull=Oo,Pn.pullAll=_o,Pn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ui(t,e,oo(n,2)):t},Pn.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Ui(t,e,n,i):t},Pn.pullAt=Ao,Pn.range=ds,Pn.rangeRight=ps,Pn.rearg=ka,Pn.reject=function(t,e){return(za(t)?ve:hi)(t,Ma(oo(e,3)))},Pn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=oo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Di(t,r),n},Pn.rest=function(t,e){if("function"!=typeof t)throw new Lt(r);return Bi(t,e=e===n?e:pl(e))},Pn.reverse=qo,Pn.sampleSize=function(t,e,i){return e=(i?fo(t,e,i):e===n)?1:pl(e),(za(t)?_n:Oi)(t,e)},Pn.set=function(t,e,n){return null==t?t:_i(t,e,n)},Pn.setWith=function(t,e,i,r){return r="function"==typeof r?r:n,null==t?t:_i(t,e,i,r)},Pn.shuffle=function(t){return(za(t)?An:$i)(t)},Pn.slice=function(t,e,i){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&fo(t,e,i)?(e=0,i=r):(e=null==e?0:pl(e),i=i===n?r:pl(i)),tr(t,e,i)):[]},Pn.sortBy=Ka,Pn.sortedUniq=function(t){return t&&t.length?rr(t):[]},Pn.sortedUniqBy=function(t,e){return t&&t.length?rr(t,oo(e,2)):[]},Pn.split=function(t,e,i){return i&&"number"!=typeof i&&fo(t,e,i)&&(e=i=n),(i=i===n?p:i>>>0)?(t=yl(t))&&("string"==typeof e||null!=e&&!il(e))&&!(e=ar(e))&&Ae(t)?Zr(rn(t),0,i):t.split(e,i):[]},Pn.spread=function(t,e){if("function"!=typeof t)throw new Lt(r);return e=null==e?0:yn(pl(e),0),Bi((function(n){var i=n[e],r=Zr(n,0,e);return i&&Ie(r,i),ye(t,this,r)}))},Pn.tail=function(t){var e=null==t?0:t.length;return e?tr(t,1,e):[]},Pn.take=function(t,e,i){return t&&t.length?tr(t,0,(e=i||e===n?1:pl(e))<0?0:e):[]},Pn.takeRight=function(t,e,i){var r=null==t?0:t.length;return r?tr(t,(e=r-(e=i||e===n?1:pl(e)))<0?0:e,r):[]},Pn.takeRightWhile=function(t,e){return t&&t.length?ur(t,oo(e,3),!1,!0):[]},Pn.takeWhile=function(t,e){return t&&t.length?ur(t,oo(e,3)):[]},Pn.tap=function(t,e){return e(t),t},Pn.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new Lt(r);return qa(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Va(t,e,{leading:i,maxWait:e,trailing:o})},Pn.thru=da,Pn.toArray=ul,Pn.toPairs=Hl,Pn.toPairsIn=kl,Pn.toPath=function(t){return za(t)?Se(t,Ro):al(t)?[t]:xr(Yo(yl(t)))},Pn.toPlainObject=bl,Pn.transform=function(t,e,n){var i=za(t),r=i||Ea(t)||ll(t);if(e=oo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:qa(t)&&Oa(o)?Nn(Bt(t)):{}}return(r?Ze:Zi)(t,(function(t,i,r){return e(n,t,i,r)})),n},Pn.unary=function(t){return Ia(t,1)},Pn.union=$o,Pn.unionBy=ta,Pn.unionWith=ea,Pn.uniq=function(t){return t&&t.length?lr(t):[]},Pn.uniqBy=function(t,e){return t&&t.length?lr(t,oo(e,2)):[]},Pn.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?lr(t,n,e):[]},Pn.unset=function(t,e){return null==t||sr(t,e)},Pn.unzip=na,Pn.unzipWith=ia,Pn.update=function(t,e,n){return null==t?t:cr(t,e,br(n))},Pn.updateWith=function(t,e,i,r){return r="function"==typeof r?r:n,null==t?t:cr(t,e,br(i),r)},Pn.values=Pl,Pn.valuesIn=function(t){return null==t?[]:Ue(t,wl(t))},Pn.without=ra,Pn.words=Ol,Pn.wrap=function(t,e){return Ra(br(e),t)},Pn.xor=oa,Pn.xorBy=aa,Pn.xorWith=la,Pn.zip=sa,Pn.zipObject=function(t,e){return mr(t||[],e||[],$n)},Pn.zipObjectDeep=function(t,e){return mr(t||[],e||[],_i)},Pn.zipWith=ca,Pn.entries=Hl,Pn.entriesIn=kl,Pn.extend=Zl,Pn.extendWith=Gl,os(Pn,Pn),Pn.add=ys,Pn.attempt=_l,Pn.camelCase=Nl,Pn.capitalize=Jl,Pn.ceil=fs,Pn.clamp=function(t,e,i){return i===n&&(i=e,e=n),i!==n&&(i=(i=hl(i))==i?i:0),e!==n&&(e=(e=hl(e))==e?e:0),oi(hl(t),e,i)},Pn.clone=function(t){return ai(t,4)},Pn.cloneDeep=function(t){return ai(t,5)},Pn.cloneDeepWith=function(t,e){return ai(t,5,e="function"==typeof e?e:n)},Pn.cloneWith=function(t,e){return ai(t,4,e="function"==typeof e?e:n)},Pn.conformsTo=function(t,e){return null==e||li(t,e,Vl(e))},Pn.deburr=jl,Pn.defaultTo=function(t,e){return null==t||t!=t?e:t},Pn.divide=Zs,Pn.endsWith=function(t,e,i){t=yl(t),e=ar(e);var r=t.length,o=i=i===n?r:oi(pl(i),0,r);return(i-=e.length)>=0&&t.slice(i,o)==e},Pn.eq=Pa,Pn.escape=function(t){return(t=yl(t))&&B.test(t)?t.replace(F,Oe):t},Pn.escapeRegExp=function(t){return(t=yl(t))&&et.test(t)?t.replace(tt,"\\$&"):t},Pn.every=function(t,e,i){var r=za(t)?Xe:pi;return i&&fo(t,e,i)&&(e=n),r(t,oo(e,3))},Pn.find=ha,Pn.findIndex=jo,Pn.findKey=function(t,e){return we(t,oo(e,3),Zi)},Pn.findLast=ba,Pn.findLastIndex=zo,Pn.findLastKey=function(t,e){return we(t,oo(e,3),Gi)},Pn.floor=Gs,Pn.forEach=ya,Pn.forEachRight=fa,Pn.forIn=function(t,e){return null==t?t:yi(t,oo(e,3),wl)},Pn.forInRight=function(t,e){return null==t?t:fi(t,oo(e,3),wl)},Pn.forOwn=function(t,e){return t&&Zi(t,oo(e,3))},Pn.forOwnRight=function(t,e){return t&&Gi(t,oo(e,3))},Pn.get=Sl,Pn.gt=Na,Pn.gte=Ja,Pn.has=function(t,e){return null!=t&&mo(t,e,Ii)},Pn.hasIn=Il,Pn.head=Do,Pn.identity=es,Pn.includes=function(t,e,n,i){t=Da(t)?t:Pl(t),n=n&&!i?pl(n):0;var r=t.length;return n<0&&(n=yn(r+n,0)),ol(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ce(t,e,n)>-1},Pn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:pl(n);return r<0&&(r=yn(i+r,0)),Ce(t,e,r)},Pn.inRange=function(t,e,i){return e=dl(e),i===n?(i=e,e=0):i=dl(i),function(t,e,n){return t>=fn(e,n)&&t<yn(e,n)}(t=hl(t),e,i)},Pn.invoke=Wl,Pn.isArguments=ja,Pn.isArray=za,Pn.isArrayBuffer=Ua,Pn.isArrayLike=Da,Pn.isArrayLikeObject=Fa,Pn.isBoolean=function(t){return!0===t||!1===t||$a(t)&&Ki(t)==y},Pn.isBuffer=Ea,Pn.isDate=Ba,Pn.isElement=function(t){return $a(t)&&1===t.nodeType&&!nl(t)},Pn.isEmpty=function(t){if(null==t)return!0;if(Da(t)&&(za(t)||"string"==typeof t||"function"==typeof t.splice||Ea(t)||ll(t)||ja(t)))return!t.length;var e=po(t);if(e==v||e==x)return!t.size;if(vo(t))return!Yi(t).length;for(var n in t)if(Mt.call(t,n))return!1;return!0},Pn.isEqual=function(t,e){return wi(t,e)},Pn.isEqualWith=function(t,e,i){var r=(i="function"==typeof i?i:n)?i(t,e):n;return r===n?wi(t,e,n,i):!!r},Pn.isError=Qa,Pn.isFinite=function(t){return"number"==typeof t&&mn(t)},Pn.isFunction=Oa,Pn.isInteger=_a,Pn.isLength=Aa,Pn.isMap=tl,Pn.isMatch=function(t,e){return t===e||Ti(t,e,lo(e))},Pn.isMatchWith=function(t,e,i){return i="function"==typeof i?i:n,Ti(t,e,lo(e),i)},Pn.isNaN=function(t){return el(t)&&t!=+t},Pn.isNative=function(t){if(Xo(t))throw new vt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ci(t)},Pn.isNil=function(t){return null==t},Pn.isNull=function(t){return null===t},Pn.isNumber=el,Pn.isObject=qa,Pn.isObjectLike=$a,Pn.isPlainObject=nl,Pn.isRegExp=il,Pn.isSafeInteger=function(t){return _a(t)&&t>=-9007199254740991&&t<=u},Pn.isSet=rl,Pn.isString=ol,Pn.isSymbol=al,Pn.isTypedArray=ll,Pn.isUndefined=function(t){return t===n},Pn.isWeakMap=function(t){return $a(t)&&po(t)==V},Pn.isWeakSet=function(t){return $a(t)&&"[object WeakSet]"==Ki(t)},Pn.join=function(t,e){return null==t?"":hn.call(t,e)},Pn.kebabCase=zl,Pn.last=Qo,Pn.lastIndexOf=function(t,e,i){var r=null==t?0:t.length;if(!r)return-1;var o=r;return i!==n&&(o=(o=pl(i))<0?yn(r+o,0):fn(o,r-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):Te(t,Ye,o,!0)},Pn.lowerCase=Ul,Pn.lowerFirst=Dl,Pn.lt=sl,Pn.lte=cl,Pn.max=function(t){return t&&t.length?mi(t,es,Si):n},Pn.maxBy=function(t,e){return t&&t.length?mi(t,oo(e,2),Si):n},Pn.mean=function(t){return Re(t,es)},Pn.meanBy=function(t,e){return Re(t,oo(e,2))},Pn.min=function(t){return t&&t.length?mi(t,es,Ri):n},Pn.minBy=function(t,e){return t&&t.length?mi(t,oo(e,2),Ri):n},Pn.stubArray=ms,Pn.stubFalse=hs,Pn.stubObject=function(){return{}},Pn.stubString=function(){return""},Pn.stubTrue=function(){return!0},Pn.multiply=Xs,Pn.nth=function(t,e){return t&&t.length?Ji(t,pl(e)):n},Pn.noConflict=function(){return re._===this&&(re._=Pt),this},Pn.noop=as,Pn.now=Sa,Pn.pad=function(t,e,n){t=yl(t);var i=(e=pl(e))?nn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return jr(un(r),n)+t+jr(cn(r),n)},Pn.padEnd=function(t,e,n){t=yl(t);var i=(e=pl(e))?nn(t):0;return e&&i<e?t+jr(e-i,n):t},Pn.padStart=function(t,e,n){t=yl(t);var i=(e=pl(e))?nn(t):0;return e&&i<e?jr(e-i,n)+t:t},Pn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Gn(yl(t).replace(nt,""),e||0)},Pn.random=function(t,e,i){if(i&&"boolean"!=typeof i&&fo(t,e,i)&&(e=i=n),i===n&&("boolean"==typeof e?(i=e,e=n):"boolean"==typeof t&&(i=t,t=n)),t===n&&e===n?(t=0,e=1):(t=dl(t),e===n?(e=t,t=0):e=dl(e)),t>e){var r=t;t=e,e=r}if(i||t%1||e%1){var o=Xn();return fn(t+o*(e-t+te("1e-"+((o+"").length-1))),e)}return Fi(t,e)},Pn.reduce=function(t,e,n){var i=za(t)?xe:Pe,r=arguments.length<3;return i(t,oo(e,4),n,r,ui)},Pn.reduceRight=function(t,e,n){var i=za(t)?Le:Pe,r=arguments.length<3;return i(t,oo(e,4),n,r,di)},Pn.repeat=function(t,e,i){return e=(i?fo(t,e,i):e===n)?1:pl(e),Ei(yl(t),e)},Pn.replace=function(){var t=arguments,e=yl(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Pn.result=function(t,e,i){var r=-1,o=(e=yr(e,t)).length;for(o||(o=1,t=n);++r<o;){var a=null==t?n:t[Ro(e[r])];a===n&&(r=o,a=i),t=Oa(a)?a.call(t):a}return t},Pn.round=vs,Pn.runInContext=t,Pn.sample=function(t){return(za(t)?On:Qi)(t)},Pn.size=function(t){if(null==t)return 0;if(Da(t))return ol(t)?nn(t):t.length;var e=po(t);return e==v||e==x?t.size:Yi(t).length},Pn.snakeCase=Fl,Pn.some=function(t,e,i){var r=za(t)?We:er;return i&&fo(t,e,i)&&(e=n),r(t,oo(e,3))},Pn.sortedIndex=function(t,e){return nr(t,e)},Pn.sortedIndexBy=function(t,e,n){return ir(t,e,oo(n,2))},Pn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=nr(t,e);if(i<n&&Pa(t[i],e))return i}return-1},Pn.sortedLastIndex=function(t,e){return nr(t,e,!0)},Pn.sortedLastIndexBy=function(t,e,n){return ir(t,e,oo(n,2),!0)},Pn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=nr(t,e,!0)-1;if(Pa(t[n],e))return n}return-1},Pn.startCase=El,Pn.startsWith=function(t,e,n){return t=yl(t),n=null==n?0:oi(pl(n),0,t.length),e=ar(e),t.slice(n,n+e.length)==e},Pn.subtract=gs,Pn.sum=function(t){return t&&t.length?Ne(t,es):0},Pn.sumBy=function(t,e){return t&&t.length?Ne(t,oo(e,2)):0},Pn.template=function(t,e,i){var r=Pn.templateSettings;i&&fo(t,e,i)&&(e=n),t=yl(t),e=Gl({},e,r,Or);var o,a,l=Gl({},e.imports,r.imports,Or),s=Vl(l),c=Ue(l,s),u=0,d=e.interpolate||Zt,p="__p += '",m=It((e.escape||Zt).source+"|"+d.source+"|"+(d===_?ut:Zt).source+"|"+(e.evaluate||Zt).source+"|$","g"),h="//# sourceURL="+(Mt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_t+"]")+"\n";t.replace(m,(function(e,n,i,r,l,s){return i||(i=r),p+=t.slice(u,s).replace(Gt,_e),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),l&&(a=!0,p+="';\n"+l+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=s+e.length,e})),p+="';\n";var b=Mt.call(e,"variable")&&e.variable;if(b){if(st.test(b))throw new vt("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(j,""):p).replace(z,"$1").replace(U,"$1;"),p="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=_l((function(){return gt(s,h+"return "+p).apply(n,c)}));if(y.source=p,Qa(y))throw y;return y},Pn.times=function(t,e){if((t=pl(t))<1||t>u)return[];var n=p,i=fn(t,p);e=oo(e),t-=p;for(var r=Je(i,e);++n<t;)e(n);return r},Pn.toFinite=dl,Pn.toInteger=pl,Pn.toLength=ml,Pn.toLower=function(t){return yl(t).toLowerCase()},Pn.toNumber=hl,Pn.toSafeInteger=function(t){return t?oi(pl(t),-9007199254740991,u):0===t?t:0},Pn.toString=yl,Pn.toUpper=function(t){return yl(t).toUpperCase()},Pn.trim=function(t,e,i){if((t=yl(t))&&(i||e===n))return je(t);if(!t||!(e=ar(e)))return t;var r=rn(t),o=rn(e);return Zr(r,Fe(r,o),Ee(r,o)+1).join("")},Pn.trimEnd=function(t,e,i){if((t=yl(t))&&(i||e===n))return t.slice(0,on(t)+1);if(!t||!(e=ar(e)))return t;var r=rn(t);return Zr(r,0,Ee(r,rn(e))+1).join("")},Pn.trimStart=function(t,e,i){if((t=yl(t))&&(i||e===n))return t.replace(nt,"");if(!t||!(e=ar(e)))return t;var r=rn(t);return Zr(r,Fe(r,rn(e))).join("")},Pn.truncate=function(t,e){var i=30,r="...";if(qa(e)){var o="separator"in e?e.separator:o;i="length"in e?pl(e.length):i,r="omission"in e?ar(e.omission):r}var a=(t=yl(t)).length;if(Ae(t)){var l=rn(t);a=l.length}if(i>=a)return t;var s=i-nn(r);if(s<1)return r;var c=l?Zr(l,0,s).join(""):t.slice(0,s);if(o===n)return c+r;if(l&&(s+=c.length-s),il(o)){if(t.slice(s).search(o)){var u,d=c;for(o.global||(o=It(o.source,yl(dt.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var p=u.index;c=c.slice(0,p===n?s:p)}}else if(t.indexOf(ar(o),s)!=s){var m=c.lastIndexOf(o);m>-1&&(c=c.slice(0,m))}return c+r},Pn.unescape=function(t){return(t=yl(t))&&E.test(t)?t.replace(D,an):t},Pn.uniqueId=function(t){var e=++Yt;return yl(t)+e},Pn.upperCase=Bl,Pn.upperFirst=Ql,Pn.each=ya,Pn.eachRight=fa,Pn.first=Do,os(Pn,(bs={},Zi(Pn,(function(t,e){Mt.call(Pn.prototype,e)||(bs[e]=t)})),bs),{chain:!1}),Pn.VERSION="4.17.21",Ze(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Pn[t].placeholder=Pn})),Ze(["drop","take"],(function(t,e){zn.prototype[t]=function(i){i=i===n?1:yn(pl(i),0);var r=this.__filtered__&&!e?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=fn(i,r.__takeCount__):r.__views__.push({size:fn(i,p),type:t+(r.__dir__<0?"Right":"")}),r},zn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ze(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Ze(["head","last"],(function(t,e){var n="take"+(e?"Right":"");zn.prototype[t]=function(){return this[n](1).value()[0]}})),Ze(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");zn.prototype[t]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(es)},zn.prototype.find=function(t){return this.filter(t).head()},zn.prototype.findLast=function(t){return this.reverse().find(t)},zn.prototype.invokeMap=Bi((function(t,e){return"function"==typeof t?new zn(this):this.map((function(n){return Wi(n,t,e)}))})),zn.prototype.reject=function(t){return this.filter(Ma(oo(t)))},zn.prototype.slice=function(t,e){t=pl(t);var i=this;return i.__filtered__&&(t>0||e<0)?new zn(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==n&&(i=(e=pl(e))<0?i.dropRight(-e):i.take(e-t)),i)},zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zn.prototype.toArray=function(){return this.take(p)},Zi(zn.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Pn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(Pn.prototype[e]=function(){var e=this.__wrapped__,l=r?[1]:arguments,s=e instanceof zn,c=l[0],u=s||za(e),d=function(t){var e=o.apply(Pn,Ie([t],l));return r&&p?e[0]:e};u&&i&&"function"==typeof c&&1!=c.length&&(s=u=!1);var p=this.__chain__,m=!!this.__actions__.length,h=a&&!p,b=s&&!m;if(!a&&u){e=b?e:new zn(this);var y=t.apply(e,l);return y.__actions__.push({func:da,args:[d],thisArg:n}),new jn(y,p)}return h&&b?t.apply(this,l):(y=this.thru(d),h?r?y.value()[0]:y.value():y)})})),Ze(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Wt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Pn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(za(r)?r:[],t)}return this[n]((function(n){return e.apply(za(n)?n:[],t)}))}})),Zi(zn.prototype,(function(t,e){var n=Pn[e];if(n){var i=n.name+"";Mt.call(Vn,i)||(Vn[i]=[]),Vn[i].push({name:e,func:n})}})),Vn[kr(n,2).name]=[{name:"wrapper",func:n}],zn.prototype.clone=function(){var t=new zn(this.__wrapped__);return t.__actions__=xr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=xr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=xr(this.__views__),t},zn.prototype.reverse=function(){if(this.__filtered__){var t=new zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=za(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=fn(e,t+a);break;case"takeRight":t=yn(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,l=o.end,s=l-a,c=i?l:a-1,u=this.__iteratees__,d=u.length,p=0,m=fn(s,this.__takeCount__);if(!n||!i&&r==s&&m==s)return dr(t,this.__actions__);var h=[];t:for(;s--&&p<m;){for(var b=-1,y=t[c+=e];++b<d;){var f=u[b],Z=f.iteratee,G=f.type,X=Z(y);if(2==G)y=X;else if(!X){if(1==G)continue t;break t}}h[p++]=y}return h},Pn.prototype.at=pa,Pn.prototype.chain=function(){return ua(this)},Pn.prototype.commit=function(){return new jn(this.value(),this.__chain__)},Pn.prototype.next=function(){this.__values__===n&&(this.__values__=ul(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},Pn.prototype.plant=function(t){for(var e,i=this;i instanceof Jn;){var r=ko(i);r.__index__=0,r.__values__=n,e?o.__wrapped__=r:e=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,e},Pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zn){var e=t;return this.__actions__.length&&(e=new zn(this)),(e=e.reverse()).__actions__.push({func:da,args:[qo],thisArg:n}),new jn(e,this.__chain__)}return this.thru(qo)},Pn.prototype.toJSON=Pn.prototype.valueOf=Pn.prototype.value=function(){return dr(this.__wrapped__,this.__actions__)},Pn.prototype.first=Pn.prototype.head,ae&&(Pn.prototype[ae]=function(){return this}),Pn}();ae?((ae.exports=ln)._=ln,oe._=ln):re._=ln}).call(i)}));!function(t){t[t.AJAX=0]="AJAX",t[t.CONSOLE=1]="CONSOLE"}(Kn||(Kn={}));var Wn="1.0.3",Vn=function(){function t(t){this.initiativeTaskQueue=[],this.dbRetention=6048e5,this.isInit=!1,this.insertLog=Ln.throttle((function(t){var e={args:t,level:"userUpload"};g.record.addCustomEvent(h.CONSOLE,e)}),1e3);var e=t.projectId,n=t.uid,i=t.indexDBErrorCallback,r=t.dbRetention,o=t.initCallback;if(e)if(n)if(!i||Je(i))if(!o||Je(o)){if(window[e+"_fullstory_instance"])return window[e+"_fullstory_instance"];r&&(this.dbRetention=r),window[e+"_fullstory_instance"]=this,this.init(t)}else console.error("initCallback is not a function.");else console.error("indexDBErrorCallback is not a function.");else console.error("uid is required.");else console.error("project id is required.")}return t.prototype.init=function(t){return v.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,o,a,l,s,c;return v.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),e=t.projectId,n=t.env,i=t.uid,r=t.initCallback,o=void 0===r?function(){}:r,function(t){var e=t.env,n=void 0===e?"":e,i=t.uid,r=void 0===i?"":i,o=t.projectId;(bt=new ht({app_name:yt[n]||yt.test,secret_key:ft[n]||ft.test,environment:Zt[n]||Zt.test,region:"sg",logger:"live"!==n,app_version:t.app_version,sample:1})).addEntryTag("projectId",o),bt.addEntryTag("uid",r)}({uid:i,env:n,projectId:e,app_version:Wn}),a=function(){if(window.localStorage){var t=window.localStorage.getItem("LOCAL_DEVICE_ID");return t||(t=Pe(),window.localStorage.setItem("LOCAL_DEVICE_ID",t)),t}return Pe()}(),function(t){we||(we=t)}(n),[4,Me(e)];case 1:return l=u.sent(),this.config=function(t,e,n){var i=e.find((function(t){return"0"===t.project_config_id&&!t.project_config_name})),r=e.find((function(e){return e.project_config_name.toLowerCase()===t.browserType}))||i,o=!0,a=!0;t.supports&&Array.isArray(t.supports)?(o=((null==t?void 0:t.supports)||[]).includes(Kn.AJAX),a=((null==t?void 0:t.supports)||[]).includes(Kn.CONSOLE)):(o=((null==r?void 0:r.supports)||[]).includes(Kn.AJAX),a=((null==r?void 0:r.supports)||[]).includes(Kn.CONSOLE));var l=v.__assign(v.__assign(v.__assign(v.__assign({},i),function(t){return{supports:t.supports,interval:t.interval,reportNum:t.report_num,checkoutEveryNth:t.checkout_every_nth,blockSelector:t.block_selector,filterRules:t.filter_rules,reportLimitSize:t.upload_package_size,report_ttl:t.report_ttl}}(r)),t),{reportAjax:o,reportConsole:a,ubid:n,env:t.env,uid:t.uid+"",_emit:!0});return l.supports&&delete l.supports,l}(t,l,a),this.config.apkVersion=Wn,s=this,[4,new Kt(60*Number(this.config.report_ttl)*60*1e3*24||this.dbRetention,e).get(this.config)];case 2:if(s.store=u.sent(),!this.store)throw new Error("indexdb is not support");return this.config.reportAjax&&this.use(Gn),this.destroyHandler=this.use(je).destroy,this.config.destroy=this.destroyHandler,this.visibilitychangeHandler=this.getVisibilitychangeHandler().bind(this),this.pageVisibilityControl(),[4,this.revertEventStatus()];case 3:return u.sent(),this.sender||(this.sender=new xn(this.config,this.store)),this.launchInitiativeTaskQueue(),o&&o(this),this.isInit=!0,[3,5];case 4:return c=u.sent(),console.error(c),[3,5];case 5:return[2]}}))}))},t.prototype.use=function(t){var e=new t(this.config,this.store);return e.install(),e},t.prototype.revertEventStatus=function(){return v.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,o,a;return v.__generator(this,(function(l){switch(l.label){case 0:return e=(t=this).store,n=t.config,i=n.uid,r=n.ubid,o=n.projectId,[4,e.revertEventsByDefault(i)];case 1:return l.sent(),[4,Re(i,r,o)];case 2:return(a=l.sent())?[4,e.revertEventsUpperTimestamp(a,i)]:[3,4];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))},t.prototype.createInitiativeReport=function(t,e){var n=this;if(this.config&&this.sender){var i=this.config,r=i.uid,o=i.projectId,a=i.ubid,l=t.startTime,s=t.endTime,c=t.taskName;if(!l||!s)throw new Error("time range not null");if(s-l>6e5||l>s)throw new Error("time range Error");this.sender&&function(t,e,n,i,r,o){return o=o||t+"-"+Te().format("YYYYMMDDhhmmss"),Ce("/initiative_task/create",{method:"POST",body:{task_name:o,start_time:n,end_time:i,uid:t,project_id:e,ubid:r}}).then((function(t){return t.result}))}(r,o,l,s,a,c).then((function(t){var i=t.is_success,r=t.task_type,o=t.initiative_task_id;i&&n.sender.startIntervalBySearch({id:o,date_range:[l,s],task_type:r},e)}))}else this.initiativeTaskQueue.push({options:t,completeCallback:e})},t.prototype.destroy=function(){var t=this;if(!this.isInit)throw new Error("SDK not ready");if(!window[this.config.projectId+"_fullstory_instance"])throw new Error("sdk has been destroyed");this.stopRecording(),this.stopReport(),window[this.config.projectId+"_fullstory_instance"]=void 0,null==bt||bt.unregister(),bt=null,Object.keys(this).forEach((function(e){return delete t[e]}))},t.prototype.stopReport=function(){if(!this.sender)throw new Error("SDK not ready");this.sender.clearInterval(),this.sender=null},t.prototype.startReport=function(){if(this.sender)throw new Error("sender is already start");if(!this.config||!this.store)throw new Error("config is not already");this.sender=new xn(this.config,this.store)},t.prototype.stopRecording=function(){if(!this.isInit)throw new Error("SDK not ready");this.destroyHandler&&(this.config._emit=!1,document.removeEventListener("visibilitychange",this.visibilitychangeHandler),this.destroyHandler(),this.destroyHandler=null)},t.prototype.startRecording=function(){if(!this.isInit)throw new Error("SDK not ready");if(this.destroyHandler)throw new Error("SDK is already recording");this.config._emit=!0,this.config.destroy=this.use(je).destroy,this.pageVisibilityControl()},t.prototype.pageVisibilityControl=function(){document.addEventListener("visibilitychange",this.visibilitychangeHandler)},t.prototype.getVisibilitychangeHandler=function(){var t=this;return function(){"hidden"===document.visibilityState&&t.destroyHandler(),"visible"===document.visibilityState&&(t.destroyHandler=t.use(je).destroy)}},t.prototype.launchInitiativeTaskQueue=function(){if(Array.isArray(this.initiativeTaskQueue)&&this.initiativeTaskQueue.length)for(;this.initiativeTaskQueue.length;){var t=this.initiativeTaskQueue.shift(),e=t.options,n=t.completeCallback;this.createInitiativeReport(e,n)}},t}()}}]);