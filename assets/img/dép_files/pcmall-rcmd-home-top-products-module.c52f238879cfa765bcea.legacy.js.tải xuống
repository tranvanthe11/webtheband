(self.mfeModules=self.mfeModules||[]).push(["",["Platform","React","ShopeeDefaultHeader","ShopeeDefaultFooter","Redux","PlatformApi","ReactRouter","ReactRedux","WithInjectReducer","FeatureToggles","Account","ReactHelmet","ReactDom","NebulaCore"],function(e,t,n,r,c,a,o,s,i,u,l,m,d,f){return function(){(self.wpJsonpPcmallRcmd=self.wpJsonpPcmallRcmd||[]).push([[4973],{86870:function(e,t,n){"use strict";var r=n(63804),c=n(37267),a=n(7749),o=n(14733),s=n(54703);function i(e){var t=(0,c.S)({version:a.k.Standalone}),n=t.accountPaymentProgress,i=t.fetchAccountPaymentInfo;return(0,o.u)((function(){n!==s.Z.OK&&n!==s.Z.REQ&&i()}),[]),r.createElement(r.Fragment,null,e.children)}t.Z=function(e){var t=e.displayName||e.name||"Component",n=function(t){return r.createElement(i,null,r.createElement(e,t))};return n.displayName="withAccountPaymentInfo("+t+")",n}},73450:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(63804),c=n(155),a=n(86704),o=n(58601),s=function(e){return r.createElement(o.i4,null,r.createElement(c.Z,{onTrack:a.Tracking.onTrack},e.children))};function i(e){var t=e.displayName||e.name||"Component",n=function(t){return r.createElement(s,null,r.createElement(e,t))};return n.displayName="withProvider("+t+")",n}},57649:function(e,t,n){"use strict";n.microfeA(e,(function(){return Promise.all([n.microfeM(2),n.microfeM(1),n.microfeM(0),n.microfeM(3)]).then((function(){e.exports=t,n.d(t,{Z:function(){return Y}});var r=n(63804),c=n(36358),a=n(1644),o=n(66944),s=n(1024),i=n(65108),u=n(86704),l=n(73524),m=n(99508),d=u.I18n.t,f=function(e){var t=e.children,n=e.clusterId;return r.createElement(a.ZP,{targetType:"HomeTopProducts"},r.createElement(i.Z.Consumer,null,(function(e){var a=e.customHeader;return r.createElement(c.S,{headerText:r.createElement("span",{className:"_0PSwKP"},d("label_top_products")),headerButton:{text:d("rcmd_label_see_all"),linkTo:l.Ls.getUrl({catId:n})},simpleVersion:!0,classNames:"lNqSit",customHeader:(0,m.Z)(a,[s.u.TOP_PRODUCTS])},r.createElement(o.ZP,{showArrowOnHover:!0,showArrowHint:!0,numItemsPerRow:6,padding:"0px",items:t}))})))},p=n(1962),v=n.n(p),E=n(12553),h=n(20746),g="s4sxRU",y="yp2tny",N="V3STwW",x="nDMd5e",I="_0m0EXH",T="eBSjyh",_=function(e){var t=e.className;return r.createElement("div",{className:v()(g,t)},r.createElement("div",{className:y},r.createElement(E.Z,{rank:null,className:T}),r.createElement(h.p,{src:"",className:x,wrapperClassName:N,useImgTag:!0})),r.createElement("div",{className:I}," "))},Z="_2EYI41",P=new Array(6).fill(void 0),w=function(){return r.createElement(f,null,P.map((function(e,t){return r.createElement(_,{key:t,className:Z})})))},R=n(56775),k=n(6498),S=n(95495),b=n(79235),C=n(75518),H=(0,n(47237).Kd)(),M="TW"===H?1e4:1e3,D=u.I18n.t,O=function(e){var t,n=(0,k.Z)("HomeTopProductsItem",e),c=(0,S.Z)("HomeTopProductsItem",e),a=e.clusterKey,o=e.name,s=e.monthlySales,i=e.className,u=l.Ls.getUrl({catId:a}),m=e.images||[],d=e.imageIndex&&m.length>0?e.imageIndex%m.length:0;return r.createElement(R.Link,{to:u,className:v()(g,i),innerRef:n,onClick:c},r.createElement("div",{className:y},r.createElement(E.Z,{rank:null,className:T}),r.createElement(h.p,{src:(0,b.Jn)(m[d]),className:x,wrapperClassName:N,imageServerWidthOperator:180,useImgTag:!0}),!!s&&r.createElement("div",{className:"ir2WDv"},D("label_monthly_sales",{count:(t=s,(0,C.compactCurrency)(H,t,{symbol:"",precision:0})+(t>=M?"+":""))}))),r.createElement("div",{className:I},o))},A=n(96972),K=n(36270),L=n(14590),j=n(54703),F=n(22889),U=n(4463),W=n.n(U),J=n(73450),V=n(86870),q=n(84857);u.Tracking.injectTracking(W());var B=[j.Z.INIT,j.Z.REQ],Q=L.y.isSupported(),X="@shopee/rcmd-top-product-image-index";var Y=(0,q.compose)(J.Z,V.Z,u.I18n.withI18nCollections([119,120]))((function(e){var t=e.targetType,n=(0,A.q)(F.D4),c=n.progress,o=n.clusters;r.useEffect((function(){!function(){if(!Q)return 0;var e,t=L.y.get(X);e=void 0===t?0:Number(t)+1,Q&&L.y.set(X,e)}()}),[]);var s=r.useMemo((function(){var e=(0,K.Uw)(o);return e.length<6?null:e}),[o]);if(B.includes(c))return r.createElement(w,null);if(!s)return r.createElement("div",null);var i=(0,m.Z)(s,["0","knodeid"])||void 0,u=function(){if(!Q)return 0;var e=L.y.get(X);return e?Number(e):0}();return r.createElement(a.ZP,{targetType:t},r.createElement(f,{clusterId:i},s.map((function(e,t){return r.createElement(a.ZP,{key:e.knodeid||t,targetData:{index:t,knodeid:e.knodeid,info:e.info,key:e.key}},r.createElement(O,{clusterKey:e.knodeid||"",name:e.name||"",monthlySales:e.count||0,images:e.images,imageIndex:u,className:Z}))}))))}))}))}))},4463:function(e,t,n){e.exports=n.p+"46d43353e1eb628d6e5e.tr.js"},17:function(e){"use strict";e.exports=l},16161:function(t){"use strict";t.exports=e},86704:function(e){"use strict";e.exports=a},63804:function(e){"use strict";e.exports=t},67274:function(e){"use strict";e.exports=d},95325:function(e){"use strict";e.exports=s},56775:function(e){"use strict";e.exports=o},84857:function(e){"use strict";e.exports=c},57762:function(e){"use strict";e.exports=i},45519:function(e,t,n){"use strict";e.exports=n.microfeI(0)},38173:function(e,t,n){"use strict";e.exports=n.microfeI(1)},98072:function(e,t,n){"use strict";e.exports=n.microfeI(2)},75518:function(e,t,n){"use strict";e.exports=n.microfeI(3)}},function(t){"use strict";var n;n=t.x,t.x=function(){Promise.resolve(t(57649)).then((function(t){e.setModule("pcmall-rcmd-home-top-products-module",t.Z,{type:"slot",buildInformation:{updated:"2023-04-26T06:31:50.713Z",tag:"pc-rcmd-v1.3.1",branch:"heads/pc-rcmd-v1.3.1",lastCommit:"Merge branch 'nic/chore/bump-render-server-version' into 'master'",lastCommitHash:"22c495aa02a86c1570f9c2c857118f8141fa0b20"},registerSentryDsn:!0,projectAndModuleName:"pcmall-rcmd"}),n()}))}},[[57649,3666,746,2642,3776,1002,8375,4005,9484,6972]]])}},2]),function(){if(window&&window.__DECKER_HOOK__){var e=window.__DECKER_HOOK__,t=function(){e.sendToDevtools("MFE_LOAD_SLOT",{slotName:"pcmall-rcmd-home-top-products-module",updated:"2023-04-26T06:31:50.770Z",tag:"pc-rcmd-v1.3.1",branch:"heads/pc-rcmd-v1.3.1",lastCommit:"Merge branch 'nic/chore/bump-render-server-version' into 'master'",lastCommitHash:"22c495aa02a86c1570f9c2c857118f8141fa0b20"})};e.on("MFE_RETRIEVE_SLOTS",t),t()}}();
//# sourceMappingURL=https://sourcemap.webfe.shopee.io/pcmall-rcmd/_/pcmall-rcmd-home-top-products-module.c52f238879cfa765bcea.legacy.js.map