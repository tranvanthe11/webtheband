(self.wpJsonpPcmallPcpagevoucherdetail=self.wpJsonpPcmallPcpagevoucherdetail||[]).push([[484],{2704:function(e,t,r){"use strict";r.d(t,{n$:function(){return i},oW:function(){return c},T_:function(){return u},_B:function(){return l}});var n=r(71437),o=r(26589),a=r(54705);function i(e){var t=e.split("?"),r=t[0],n=t[1],o=new URLSearchParams(n),a=+(o.get("height")||NaN)||14;return{hash:r,height:14,width:(+(o.get("width")||NaN)||60)/a*14}}function c(){return(0,n.isFeatureEnabled)(a.RRm,!0)}function u(){return c()?o.yw:o.NE}function l(e){return null==e?void 0:btoa(e)}r(29757)},51122:function(e,t,r){"use strict";r.d(t,{Xm:function(){return f},aA:function(){return p},R8:function(){return d},Ml:function(){return E},x:function(){return g},l7:function(){return y}});var n=r(86704),o=r(57944),a=r(33914);function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new N(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=y(i,r);if(c){if(c===_)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===_)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var _={};function h(){}function f(){}function p(){}var d={};u(d,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==t&&r.call(m,o)&&(d=m);var E=p.prototype=h.prototype=Object.create(d);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(o,a,i,c){var u=s(e[o],e,a);if("throw"!==u.type){var l=u.arg,_=l.value;return _&&"object"==typeof _&&r.call(_,"__await")?t.resolve(_.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(_).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,_;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,_):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,u(E,"constructor",p),u(p,"constructor",f),f.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},O(g.prototype),u(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(E),u(E,c,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),_}},e}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,c,"next",e)}function c(e){u(a,n,o,i,c,"throw",e)}i(void 0)}))}}var s=(0,r(26461).R)((0,a.Kd)(),(0,a.of)()),_=o.formatTime.bind(null,o.timeLocales[s]),h=o.formatDuration.bind(null,o.durationLocales[s]),f=function(e){return _(1e3*e,"TW"===(0,a.Kd)()?"yyyy.MM.dd":"dd.MM.yyyy")},p=function(e){return _(1e3*e,"TW"===(0,a.Kd)()?"yyyy.MM.dd":"dd.MM.yyyy")};function d(e,t,r){return v.apply(this,arguments)}function v(){return(v=l(i().mark((function e(t,r,o){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.I18n.fetchTranslationCollection(r);case 2:if(a=null!=o&&o.roundUpDay?E({timestampInSecond:t,opt:c({},o),unitLowerBounds:{day:1+1/86400,hour:1+1/3600},timeBetweenMin:1,totalUnits:1,endUnit:"minute"}):m(t,o),!o||!o.noLeft){e.next=7;break}return e.abrupt("return",a||n.I18n.t("label_1_minute"));case 7:return e.abrupt("return",a?n.I18n.t("label_time_left",{time:a}):n.I18n.t("label_1_minute_left"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e,t){void 0===t&&(t={});var r=new Date(1e3*e),n=new Date;return(0,o.timeBetween)("minute",r)>1?h(r,n,{unitLowerBounds:{day:1},totalUnits:1,roundLast:function(e){return"day"===e&&t.roundUpDay?"ceil":"floor"}}):null},E=function(e){var t=e.timestampInSecond,r=e.opt,a=void 0===r?{}:r,i=e.unitLowerBounds,c=e.timeBetweenMin,u=void 0===c?1:c,l=e.totalUnits,s=e.endUnit,_=new Date(1e3*t),f=new Date;return(0,o.timeBetween)("minute",_)>u?h(_,f,{unitLowerBounds:i,endUnit:s,totalUnits:l,roundLast:function(e){return"day"===e&&a.roundUpDay||"minute"===e&&a.roundUpMinute?"ceil":"floor"}}):n.I18n.t("label_1_minute")},O=function(e){return c({month:"short",day:"short"},["MX","ES","FR","CO","CL"].some((function(t){return e.useLocale.toLocaleUpperCase().includes(t)}))?{dateLiteral:"/",month:"2-digit",day:"2-digit"}:{"zh-TW":{dateLiteral:".",month:"numeric",day:"numeric"},"vn-VN":{dateLiteral:".",month:"2-digit",day:"2-digit"},"pt-BR":{dateLiteral:".",month:"2-digit",day:"2-digit"}}[e.useLocale])},g=function(e){return _(1e3*e,O)},y=function(e){var t="dd MMM yyyy hh:mm";return"TW"===(0,a.Kd)()&&(t="en"===(0,a.of)()?"yyyy MMM dd hh:mm":"yyyyyMMMMdddd hh:mm"),_(1e3*e,t)}},39662:function(e,t,r){"use strict";r.d(t,{D:function(){return E}});var n=r(98935),o=r(59110),a=r(76985);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}var c=(0,n.qY)(__LOCALE__).getUrl,u=r(26589),l=r(41064),s=r(59439),_=r(92945),h=r(33914),f=r(26355),p=r(53948),d=r(2704),v=(0,h.Kd)(),m=(0,h.dU)(),E=function(e,t,r){if(void 0===t&&(t={}),!("voucher_market_type"in e&&(0,s.Z2)(e)||"voucher_external_market_type"in e&&(0,s.Nq)(e))){if("use_link"in e&&"string"==typeof e.use_link&&e.use_link.length)return e.use_link;var h=(0,s.pG)(e,{fromMyVoucherPage:t.fromMyVoucherPage});if(h)return h;if("homepage"===r&&e.reward_type===l.$P.FREE_SHIPPING_VOUCHER)return"/";if("voucher_market_type"in e&&e.voucher_market_type===l.Tc.DIGITAL_PURCHASE)return(0,p.N$)({locale:v,env:m,digitalProductContext:{fromSourceDP:t.dpFromSource||4}});if(t.useVLP){var E=e.voucher_code,O=e.signature,g=e.promotionid||e.promotion_id;return u.pc.getUrl({voucherCode:t.enableEncodeUrl?void 0:E,evcode:t.enableEncodeUrl?(0,d._B)(E):void 0,promotionId:g,signature:O||"",source:t.source,preSource:t.preSource})}var y,R,C=(0,f.Xp)(e),N=function(e,t,r){return void 0===r&&(r=!1),function(e,t){return void 0===e&&(e={}),void 0===t&&(t=!1),t?(0,n.a5)(__LOCALE__).getLocation(i({},e,{officialMall:void 0})):a.yC.getLocation(e)}({promotionId:e,hideRemainingPrice:t},r)}(e.promotionid||0,t.fromMyVoucherPage,!(!e||!("platform_type"in e))&&e.platform_type===l.e7.MALL_ONLY);switch(C){case _.hv.ALL_PRODUCTS_IN_SELECTED_SHOP:return void 0===R&&(R={}),(y=e.shop_id)?o.Ri.getUrl(i({shopId:y},R)):"";case _.hv.PRODUCTS_CROSS_SHOPEE_MALL:return c();case _.hv.PRODUCTS_CROSS_SHOPEE_PLATFORM:return"/";case _.hv.SELECTED_PRODUCTS_OR_CATEGORIES_IN_SELECTED_SHOP:case _.hv.SELECTED_PRODUCTS_OR_CATEGORIES_CROSS_SHOPEE_MALL:case _.hv.SELECTED_PRODUCTS_OR_CATEGORIES_CROSS_SHOPEE_PLATFORM:return""+(N.pathname||"")+(N.search||"");default:return""}}}},59439:function(e,t,r){"use strict";r.d(t,{EZ:function(){return n},ZD:function(){return he},Ow:function(){return ae},pG:function(){return $},wP:function(){return ie},qr:function(){return ue},Xz:function(){return J},iX:function(){return ce},QD:function(){return re},Ph:function(){return ne},wH:function(){return _e},XI:function(){return se},Nq:function(){return h},cj:function(){return M},Le:function(){return u},iK:function(){return v},wi:function(){return c},Z2:function(){return _},og:function(){return f},AE:function(){return l},uD:function(){return E},np:function(){return D},sl:function(){return k},sg:function(){return F},xF:function(){return P},bN:function(){return A},lT:function(){return s},Yu:function(){return x},y2:function(){return V},LB:function(){return le}});var n={};r.r(n),r.d(n,{isAirpayVoucher:function(){return h},isAvailableFreeShippingVoucher:function(){return d},isBeforeClaimStartTime:function(){return M},isCashLoanVoucher:function(){return R},isCoinCashbackVoucher:function(){return u},isDigitalPurchaseVoucher:function(){return v},isDiscountVoucher:function(){return i},isFreeShippingVoucher:function(){return c},isNormalVoucher:function(){return O},isOfflineVoucher:function(){return _},isPublicVoucher:function(){return m},isPublisherOfflinePaymentVoucher:function(){return f},isShoppingMallOPV:function(){return l},isSingleShopVoucher:function(){return E},isThirdPartyNowVoucher:function(){return g},isUpcomingVoucher:function(){return D},isUserWalletPartnerVoucher:function(){return y},isVoucherClaimEndTimeOver:function(){return U},isVoucherClaimInvalidError:function(){return F},isVoucherComing:function(){return P},isVoucherEndingSoon:function(){return I},isVoucherEndingSoonWithTime:function(){return A},isVoucherExpired:function(){return s},isVoucherInapplicable:function(){return x},isVoucherInvalid:function(){return V},isVoucherNew:function(){return w},isVoucherNotClaimable:function(){return H},isVoucherStartingSoon:function(){return b},isVoucherUsedUp:function(){return p},isVoucherValid:function(){return C}});var o=r(41064),a=r(51122);function i(e){return e.reward_type===o.$P.NORMAL_VOUCHER}function c(e){return e.reward_type===o.$P.FREE_SHIPPING_VOUCHER}function u(e){return e.reward_type===o.$P.COIN_CASHBACK_VOUCHER}function l(e){return!!e&&e.ui_display_type===o.ob.SHOPPING_MALL_OPV}function s(e){return"boolean"==typeof e.has_expired?e.has_expired:"number"==typeof e.end?e.end<Date.now()/1e3:!!e.end_time&&e.end_time<Date.now()/1e3}function _(e){return e.voucher_market_type===o.Tc.OFFLINE_PAYMENT}function h(e){return e&&e.voucher_external_market_type===o.sd.AIRPAY_OPV}function f(e){return(_(e)||h(e))&&e.ui_display_type===o.ob.PUBLISHER_OPV}function p(e){return"number"==typeof e.left_count&&Number.isInteger(e.left_count)&&e.left_count<=0}function d(e){return!e.fsv_error_message&&e.is_applicable}function v(e){return e&&e.voucher_market_type===o.Tc.DIGITAL_PURCHASE}function m(e){return e.use_type===o.yD.PUBLIC}function E(e){return Boolean(e.shop_id||!1)}function O(e){return e.reward_type===o.$P.NORMAL_VOUCHER}function g(e){return 3===e.third_party_type||!1}function y(e){return e.voucher_external_market_type===o.sd.PARTNER}function R(e){return(null==e?void 0:e.voucher_market_type)===o.Tc.CASHLOAN_BUYER||(null==e?void 0:e.voucher_market_type)===o.Tc.CASHLOAN_SELLER||(null==e?void 0:e.voucher_market_type)===o.Tc.SHOPEEPAY_LATER}function C(e){return!(s(e)||e.fully_redeemed||!e.is_claimed_before&&e.fully_claimed)}var N=new Date;N.setDate(N.getDate()+4);var L=new Date(N.toDateString()).getTime()/1e3,T=new Date;T.setDate(T.getDate()-3);var S=new Date(T.toDateString()).getTime()/1e3;function I(e){return!!e.end_time&&!s(e)&&e.end_time<L}function A(e){var t=new Date;return t.setDate(t.getDate()+3),!s(e)&&!!e.end_time&&e.end_time<t.getTime()/1e3}function b(e){var t=new Date;return t.setDate(t.getDate()+3),e<=t.getTime()/1e3}function w(e){return!s(e)&&!!e.start_time&&e.start_time>S}function P(e){return!!e.start_time&&e.start_time>Date.now()/1e3}function D(e){return!(!e.shop_id&&e.voucher_market_type!==o.Tc.DEFAULT_MARKET_PLACE&&e.voucher_market_type!==o.Tc.OFFLINE_PAYMENT)&&P(e)}function U(e){return!!e.claim_end_time&&e.claim_end_time<Date.now()/1e3||!1}function M(e){return!!e.claim_start_time&&e.claim_start_time>Date.now()/1e3}function H(e){var t=e.fully_used,r=e.fully_claimed,n=e.disabled,o=e.has_expired,a=e.already_redeemed;return t||o||n||r&&!a||U(e)&&!a}var V=function(e){return!!e&&o.fq.includes(e)&&e!==o.i8.ALREADY_USED},x=function(e){return!!e&&o.Dh.includes(e)},F=function(e){return!!e&&e!==o.eg.CLAIM_ERROR_OK&&e!==o.eg.CLAIM_ERROR_EXIST};function k(e){return!e||[o.fr.OK,o.fr.VALID_NOT_START,o.fr.CLAIM_NOT_START,o.fr.FULLY_CLAIMED,o.fr.NON_CLAIMABLE].includes(e)}var G,B,W=r(58212),Y=r(14047),j=r(33914),K={ID:"co.id",SG:"sg",MY:"com.my",VN:"vn",PH:"ph",TH:"co.th",TW:"tw",BR:"com.br"}[(0,j.Kd)()],z={test:"test.",uat:"uat.",live:""},X=null!=(G=z[(0,j.dU)()])?G:z.live,Q={ID:"co.id"}[(0,j.Kd)()],Z={test:"test.",uat:"uat.",live:""},q=null!=(B=Z[(0,j.dU)()])?B:Z.live;function J(e,t,r){var n=e.use_link,o=e.shop_id,a=e.promotionid,i=e.promotion_id,u=e.signature;return n&&!o?n:"homepage"===r&&c(e)?W.cJ.getUrl({promotionId:a||i,signature:u||""}):t||""}function $(e,t){var r=(void 0===t?{fromMyVoucherPage:!1}:t).fromMyVoucherPage,n=void 0!==r&&r;if(e.exclusive_channel_type)return e.exclusive_channel_type===o.uQ.LIVESTREAM?function(e,t){if(void 0===t&&(t={customFromSource:"voucher_use_pc"}),e.exclusive_channel_type===o.uQ.LIVESTREAM&&void 0!==K&&void 0!==X){var r="https://live."+X+"shopee."+K+"/middle-page",n={};return e.shop_id?(n.type="shop_session",n.id=e.shop_id):n.type="lp",r+(0,Y.Wc)(n)+"#"+t.customFromSource}}(e):e.exclusive_channel_type===o.uQ.SHORT_VIDEO?function(e,t){if(e.exclusive_channel_type===o.uQ.SHORT_VIDEO&&void 0!==Q&&void 0!==q){var r="https://sv."+q+"shopee."+Q+"/landing",n={type:"voucher",targetPage:"common-timeline",fromSource:"PC",location:t.location};return e.shop_id&&(n.extInfo=JSON.stringify({shopid:e.shop_id})),r+(0,Y.Wc)(n)}}(e,{location:n?"voucher_wallet":"cart_voucher_drawer"}):void 0}var ee=r(86704),te=(ee.I18n.t,ee.I18n.t),re=function(e){if(!e||e===o.eg.CLAIM_ERROR_EXIST)return"";switch(e){case o.eg.CLAIM_ERROR_NO_QUOTA:return te("is_fully_redeemed");case o.eg.CLAIM_ERROR_EXPIRED:return te("is_expired");default:return te("is_invalid")}},ne=function(e){if(!e)return"";switch(e){case o.i8.NO_QUOTA:return te("is_fully_redeemed");case o.i8.CODE_EXPIRED:return te("is_expired");default:return te("is_invalid")}};function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe.apply(this,arguments)}function ae(e){var t=function(e,t){return void 0===t&&(t="\n"),e.split(t).map((function(e){return e.trim()}))}(e);return t.map((function(e){return 0===e.length?e:"- "+e}))}function ie(e){var t=e.invalid_message_code;return e.is_claimed_before?t?o.zQ.CLAIMED_INVALID:o.zQ.CLAIMED_VALID:o.zQ.UNCLAIMED}function ce(e,t){var r,n=(null==e?void 0:e.value_in_secs)||0;switch(null==e?void 0:e.type){case o.QG.MINUTES:n=Math.floor(n/60),r="minutes";break;case o.QG.HOURS:n=Math.floor(n/3600),r="hours";break;case o.QG.DAYS:n=Math.floor(n/86400),r="days";break;default:n=t||0,r="days"}return{duration:n,durationType:r}}function ue(e,t,r){var n=r.shortFormat,o=r.isUserOwned,i=r.useNewTimeVersion,c=e.claim_start_time,u=e.start_time,l=!!c&&Date.now()/1e3<c,s=l&&!o?c:u;if("number"!=typeof s)return"";var _=l&&!o?"label_voucher_claim":"label_voucher_use",h=n?a.x:a.aA;return b(s)?t(_+"_in",{time:i?(0,a.Ml)({timestampInSecond:s,opt:{roundUpDay:!0},unitLowerBounds:{day:1+1/86400,hour:1+1/3600},timeBetweenMin:1,totalUnits:1,endUnit:"minute"}):(0,a.Ml)({timestampInSecond:s,unitLowerBounds:{day:1+1/86400,hour:1+1/3600},totalUnits:1})}):t(_+"_from",{date:h(s)})}function le(e,t){return!e&&t}function se(e,t){var r=null!=t&&t!==o.i8.NONE&&t!==o.i8.INVALID&&t!==o.i8.CODE_EXPIRED&&t!==o.i8.NO_QUOTA;return e&&r}function _e(e,t,r){return e&&null!=r&&r!==o.i8.NONE||!e&&t}function he(e){var t=oe({},e,{activityId:""+e.activityId});return Object.keys(t).forEach((function(e){var r=e;t[r]=encodeURIComponent(btoa(JSON.stringify(t[r]||"")))})),t}},1366:function(e,t,r){"use strict";r.d(t,{mO:function(){return E},ZP:function(){return g},gZ:function(){return d}});var n=r(63804),o=r.n(n),a=r(82433),i=r(69664),c=r(33914),u=r(86704),l=r(25632),s=r(41064),_=r(10616),h=r.n(_),f=(0,c.Kd)(),p=function(e){var t=e.min_spend;return(0,u.t)("label_voucher_wallet_minimum_purchase",{minSpend:(0,i.U)(t||0,f)})},d=function(e){var t,r;switch(e.reward_type){case s.$P.NORMAL_VOUCHER:case s.$P.SHIPPING_FEE:if(t=e.reward_percentage||e.discount_percentage||0,"reward_percentage_with_decimal"in e&&(r=e.reward_percentage_with_decimal||0),t>0||r)return(0,u.t)("label_voucher_discount_percentage_off",{value:r?(0,i.nE)(r):(0,i.AS)(t,f)});if((t=e.reward_value||e.discount_value||0)>0)return(0,u.t)("label_voucher_discount_value_off",{value:(0,i.us)(t,f)});break;case s.$P.COIN_CASHBACK_VOUCHER:if((t=e.coin_percentage||e.reward_percentage||0)>0)return(0,u.t)("label_voucher_coins_cashback_value",{value:t});if((t=e.reward_value||0)>0)return(0,u.t)("label_voucher_fixed_coins_cashback_value",{value:t})}return""},v=function(e){var t;switch(e.reward_type){case s.$P.NORMAL_VOUCHER:case s.$P.SHIPPING_FEE:if((t=e.discount_cap||e.reward_cap||0)>0)return(0,u.t)("label_voucher_max_value")+" "+(0,i.x2)(t,f);break;case s.$P.COIN_CASHBACK_VOUCHER:if((t=e.coin_cap||e.reward_cap||0)>0)return(0,u.t)("label_capped_x",{n:(0,i.Ho)(t,f)})}return""},m={small:{mainText:"gCzrmH",subTitle:"DznC4v"},default:{mainText:"jncqUR",subTitle:"Gxhccf"}};function E(e){var t=e.voucher;return t.title||[d(t),p(t),v(t)].filter(Boolean).join(" ")}function O(e){var t=e.voucher,r=e.badges,n=e.sizeStyle,a=void 0===n?"default":n;return t.title||o().createElement(o().Fragment,null,o().createElement("div",{className:"VgIkiE"},r,o().createElement("div",{className:h()(m[a].mainText,"-h0ONY")},d(t))),o().createElement("div",{className:h()(m[a].subTitle,"_4oXJov")},[p(t),v(t)].filter(Boolean).join(" ")))}var g=(0,u.withI18nCollections)([l.L])((function(e){var t=e.className,r=e.voucher,n=e.badges,i=e.sizeStyle;return o().createElement(a.l.Consumer,null,(function(e){var a=e.voucher;return!a&&r&&(a=r),a?o().createElement("div",{className:h()("ZqlitM",t)},o().createElement(O,{sizeStyle:i,badges:n,voucher:a})):""}))}))},7e3:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(63804),o=r(10616),a=r.n(o),i=r(15935),c=r(41064),u=r(59439),l={voucherRight:"Bq8vEv",voucherRightInfo:"rOe3Nv",columns:"idk8HV",specificLabel:"XS+3tS"};function s(e){var t=e.voucher,r=e.isFromCart,o=e.isEnabled,s=e.displayExpiry,_=void 0===s||s,h=e.className,f=t.shop_id,p=t.voucher_market_type,d=t.voucher_external_market_type,v=p===c.Tc.OFFLINE_PAYMENT,m=d===c.sd.AIRPAY_OPV,E=(0,u.AE)(t);return n.createElement("div",{className:a()(l.voucherRightInfo,E?l.shoppingMall:"",l.columns,h)},t.reward_type===c.$P.FREE_SHIPPING_VOUCHER?r?n.createElement(i.oe,{voucher:t}):n.createElement(i.Sh,{voucher:t}):v||m?n.createElement(i.N0,{voucher:t}):n.createElement(i.$j,{voucher:t}),!!f&&n.createElement(i.s_,{className:l.specificLabel,voucher:t}),!f&&n.createElement(i.Th,{voucher:t}),_&&n.createElement(i.EU,{voucher:t,isInvalid:!1===o&&!r,isUserOwned:r}))}},82433:function(e,t,r){"use strict";r.d(t,{l:function(){return o}});var n=r(63804),o=r.n(n)().createContext({})},15935:function(e,t,r){"use strict";r.d(t,{h9:function(){return It},ox:function(){return kt},Ns:function(){return Ae},eN:function(){return se},d0:function(){return me},ZD:function(){return or},rO:function(){return Ne},s_:function(){return Ye},FP:function(){return fe},fm:function(){return ye},RE:function(){return M},Vp:function(){return Gt},i8:function(){return ct},EU:function(){return W},PU:function(){return n.ZP},Tg:function(){return ae},Mg:function(){return Q},oe:function(){return we},mO:function(){return n.mO},Ec:function(){return ie},n3:function(){return rr},Sh:function(){return $},Ae:function(){return J},$j:function(){return y},Th:function(){return ke},N0:function(){return te},HQ:function(){return Te},zG:function(){return Le}});var n=r(1366),o=r(63804),a=r.n(o),i=r(10616),c=r.n(i),u=r(86704),l=r(25632),s="IR99jR",_="yy2frc",h="fpQyMI",f=r(33914),p=r(41064),d=r(60548),v=r(2704),m=(0,u.withI18nCollections)([l.L])((function(e){var t=e.voucher,r=e.className,n=e.textClassName,o=t.is_shop_official,i=t.is_shop_preferred,l=t.shop_id;return o||i?!l&&o&&i?a().createElement("div",{className:c()(s,r)},a().createElement("span",{className:c()(h,_,n)},(0,u.t)("label_voucher_mall_preferred"))):o?a().createElement("div",{className:s},a().createElement("span",{className:c()(h,_,n)},(0,u.t)("label_voucher_mall"))):a().createElement("div",{className:s},a().createElement("span",{className:c()("vGFP4G",_,n)},(0,u.t)("label_voucher_preferred"))):null}));function E(e){var t=e.voucher,r=t.is_shop_official,n=t.is_shop_preferred,o=t.shop_id;if(!r&&!n)return null;var i=(!o&&r&&n?p.Xq.preferred_mall:r?p.Xq.mall:p.Xq.preferred)[(0,f.Kd)()];if(!i)return null;var c=(0,v.n$)(i),u=c.hash,l=c.height,s=c.width;return a().createElement("div",{className:"E7Lx-Q"},a().createElement("div",{className:"_3xdUZb",style:{backgroundImage:'url("'+(0,d.Jn)(u)+'")',height:l,width:s}}))}var O=function(e){var t=e.voucher;return t.shop_id?a().createElement(m,{voucher:t}):a().createElement(E,{voucher:t})};function g(e){var t=e.voucher,r=e.className,n=t.customised_product_scope_tag_image_hash;if(!n)return null;var o=(0,v.n$)(n),i=o.hash,u=o.height,l=o.width;return a().createElement("div",{className:"ZXJx3V"},a().createElement("div",{className:c()("_08xXaG",r)},a().createElement("div",{className:"iOmuew",style:{backgroundImage:'url("'+(0,d.Jn)(i)+'")',height:u,width:l}})))}var y=(0,u.withI18nCollections)([l.L])((function(e){var t=e.className,r=e.shopTypeClassName,o=e.voucher;return a().createElement("div",{className:c()("TzKqcU",t)},o.title?o.title:a().createElement(n.ZP,{className:"IHQvLS",badges:!!o.customised_product_scope_tag_image_hash&&a().createElement(g,{voucher:o})||0===o.shop_id&&a().createElement(O,{voucher:o,textClassName:r})}))})),R="wjLEf2",C="YHiqRk",N="mE6THY",L="KekO72",T="_0M2MBQ",S="jkJz3H",I="f3Fjt0",A=r(59439),b=r(51122);u.I18n.t;var w=(0,f.Kd)();function P(e){var t=e.className,r=e.progressBarClassName,n=e.progress,a=e.start,i=e.end;if(n<p.kG[w])return null;var u={width:n+"%",height:"100%",background:"linear-gradient(270deg, "+(!!a&&a||"#FFB000")+" 0%, "+(!!i&&i||!!a&&a||"#EB1717")+" 100%)"};return o.createElement("div",{className:c()("JabP-+",t)},o.createElement("div",{style:u,className:r}))}var D=r(59366),U=u.I18n.t,M=(0,u.I18n.withI18nCollections)([l.L])((function(e){var t=e.voucher,r=e.upcomingGrayText,n=e.shortFormat,o=e.className,i=e.isUserOwned,u=e.useNewTimeVersion,l=(0,A.qr)(t,U,{shortFormat:n,isUserOwned:i,useNewTimeVersion:u});return l?a().createElement("div",{className:c()(R,I,!r&&"D30MEe","Sgu4Ir",o)},a().createElement(D.Z,{className:"X437xN"}),a().createElement("span",null,l)):null})),H=r(95325),V=r(12260),x=r(54705),F=u.I18n.t,k=u.I18n.withI18nCollections,G=(0,f.Kd)(),B=p.sU[G],W=k([l.L])((function(e){var t=e.voucher,r=e.className,n=e.isInvalid,o=e.upcomingGrayText,i=e.isUserOwned,u=(0,H.useSelector)((function(e){return(0,V.Au)(e.featureToggles,x.QNI)})),s=!n&&(0,A.bN)(t),_=!n&&(0,A.xF)(t),h=a().useState(""),f=h[0],d=h[1],v=t.voucher_market_type===p.Tc.OFFLINE_PAYMENT,m=(0,A.Nq)(t),E=v||m;if(a().useEffect((function(){(0,b.R8)(t.end_time||0,l.L,{roundUpDay:E}).then((function(e){d(e)}))}),[t,E]),(0,A.np)(t)){var O=i||t.is_claimed_before||t.user_voucher_claimed_before;return a().createElement(M,{className:r,voucher:t,upcomingGrayText:o,isUserOwned:O,useNewTimeVersion:E})}var g,y=t.quota_type,w=t.percentage_used,D=t.use_type,U=w||0,k=D&&D===p.yD.PUBLIC,G=!n&&(k||y===p.Y.USAGE_CONTROLLED_PRIVATE_VOUCHER),W=G&&(U===B.FIRST_TIER||U>B.FIRST_TIER),Y=t.is_claimed_before,j=t.valid_duration,K=t.valid_days,z=(0,A.iX)(j,K),X=z.duration,Q=z.durationType,Z=!Y&&X;if(g=_?E?""+F("label_voucher_use_from",{date:(0,b.Xm)(t.start_time||0)}):F("label_start_at")+": "+(0,b.Xm)(t.start_time||0):Z?F("label_voucher_valid_duration_"+Q,{n:X}):s?F("label_voucher_expiring_soon")+": "+f:F("label_valid_until")+": "+(0,b.aA)(t.end_time||0),G){var q=U===B.SECOND_TIER||U>B.SECOND_TIER;return a().createElement("span",{className:c()("ezBzbg",R,I,u&&C,r)},!u&&a().createElement(P,{progress:U}),a().createElement("div",{className:c()("_8Tbi9Q",u&&"K8ADlz")},W&&a().createElement("span",{className:q?"xFqjTo":""},F("label_voucher_usage_percentage_used",{percentage:U}),", "),a().createElement("span",{className:c()(_?N:s&&!Z?T:L,W||Z?"":S)},g)))}return a().createElement("span",{className:c()(!Z&&S,R,I,r,_?N:s&&!Z?T:L,u&&C)},g)})),Y=r(82433),j=r(44437),K=r(56775),z=r(59110),X={default:{logoSize:""},big:{logoSize:"dbCP0j"}};function Q(e){var t=e.className,r=e.logoClassName,n=e.shouldGoToShopPage,o=e.sizeStyle,i=void 0===o?"default":o,u=(0,K.useHistory)();return a().createElement(Y.l.Consumer,null,(function(e){var o=e.voucher;return a().createElement("div",{className:c()("QDRB5E",t,X[i].logoSize),onClick:n?function(){u.push(z.Ri.getUrl({shopId:o.shop_id||0}))}:null},o&&o.icon_hash&&a().createElement(j.p,{src:(0,d.Jn)(o.icon_hash),className:c()("rSE65G",r)})||a().createElement("div",{className:"VVBpoz"},a().createElement("svg",{enableBackground:"new 0 0 15 15",viewBox:"0 0 15 15",x:"0",y:"0"},a().createElement("g",null,a().createElement("circle",{cx:"7.5",cy:"4.5",fill:"none",r:"3.8",strokeMiterlimit:"10",stroke:"#c6c6c6"}),a().createElement("path",{d:"m1.5 14.2c0-3.3 2.7-6 6-6s6 2.7 6 6",fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",stroke:"#c6c6c6"})))))}))}var Z=r(69664),q=u.I18n.t,J=(0,u.I18n.withI18nCollections)([l.L])((0,H.connect)((function(e){return{SHOULD_SHOW_FREE_SHIPPING_MIN_SPEND:(0,V.Au)(e.featureToggles,x.inS)}}),{})((function(e){var t=e.SHOULD_SHOW_FREE_SHIPPING_MIN_SPEND,r=e.voucher,n=(0,f.Kd)(),a=r.min_spend,i=r.title;return o.createElement(o.Fragment,null,e.badges,o.createElement("span",{className:"_48LAeS"},i||(t&&"number"==typeof a?q("label_voucher_wallet_minimum_purchase",{minSpend:(0,Z.U)(a,n)}):q("label_free_shipping_header"))))})));function $(e){var t=e.className,r=e.voucher;return a().createElement("div",{className:c()("l-n4wI",t)},a().createElement(J,{voucher:r,badges:!!r.customised_product_scope_tag_image_hash&&a().createElement(g,{voucher:r,className:"AuYgmE"})}))}var ee="_8Wx-Sr",te=(0,u.withI18nCollections)([l.L])((function(e){var t,r=e.className,o=e.voucher,i=(0,A.AE)(o),l=o.title?o.title:function(e){switch(e.reward_type){case p.$P.PREPAID_CASHBACK:return(0,u.t)("label_voucher_offline_payment_cashback");case p.$P.PREPAID_COIN_CASHBACK:return(0,u.t)("label_voucher_offline_payment_coin_cashback");case p.$P.PREPAID_DISCOUNT:return(0,u.t)("label_voucher_offline_payment_discount");default:return""}}(o),s=p.ob.SKU_OPV===o.ui_display_type,_=o.customised_mall_name;return i||s?a().createElement(a().Fragment,null,a().createElement("div",{title:_,className:c()("E7iZSK",r)},s?(null===(t=o.sku_opv_extra_info)||void 0===t?void 0:t.sku_name)||(0,u.t)("label_voucher_opv_product"):o.customised_mall_name),a().createElement("div",{title:l,className:c()(ee,"JaK+rz",r)},l)):a().createElement("div",{className:c()(ee,r)},l||a().createElement(n.ZP,{className:"A9y5sq"}))})),re=r(11873),ne={voucherBody:"iMhHLx",voucher:"zun--d",shadow:"TWfWw5",sawtoothContainer:"+GeQNS",sawtoothLine:"_6wBBz-",sawtooth:"Kp5Iz4",preferred:"lK+4+b",ofs:"YURV7a",sMart:"_5bfgyY",voucherLeftFlat:"fstq5k",bottom:"FZSSpQ",border:"usyKea",voucherRightFlat:"R-nDkM"};function oe(e){var t=e.usePreferredShopColorScheme,r=e.isShopeeMart,n=e.isOfficial,o=e.styles;return o&&t?r?o.sMart:n?o.ofs:o.preferred:""}var ae=(0,re.Z)((function(e){var t=e.children,r=e.className,n=e.trackingClick,a=e.trackingRef,i=e.sawtoothClassName,u=e.showRightBorder,l=void 0===u||u,s=e.onClick,_=e.borderColor,h=function(){s&&s(),n()},f={"--border-color":_||"#e8e8e8"};return o.createElement(Y.l.Consumer,null,(function(e){var n=e.type,u=e.usePreferredShopColorScheme,s=e.isOfficial,_=e.isShopeeMart;return o.createElement("div",{style:f,className:c()(n===p.wK.FLAT||n===p.wK.FLAT_WITH_SHADOW?ne.voucherLeftFlat:ne.voucherLeft,r,oe({usePreferredShopColorScheme:u,isOfficial:s,isShopeeMart:_,styles:ne})),onClick:h,ref:a},t,o.createElement("div",{className:ne.sawtoothContainer},o.createElement("div",{className:c()(ne.sawtooth,i,(n===p.wK.FLAT_WITH_SHADOW||n===p.wK.NORMAL_WITH_SHADOW)&&ne.shadow)},o.createElement("div",{className:ne.sawtoothLine}))),n===p.wK.NORMAL_WITH_SHADOW&&o.createElement("div",{className:ne.bottom}),!1!==l&&o.createElement("div",{className:ne.border}))}))}),"SellerVoucherLeft",{reportOnce:!0}),ie=(0,re.Z)((function(e){var t=e.children,r=e.className,n=e.trackingRef,a=e.trackingClick,i=e.onClick,u={"--border-color":e.borderColor||"#e8e8e8"};return o.createElement(Y.l.Consumer,null,(function(e){var l=e.type,s=e.usePreferredShopColorScheme,_=e.isOfficial,h=e.isShopeeMart;return o.createElement("div",{style:u,className:c()(l===p.wK.FLAT||l===p.wK.FLAT_WITH_SHADOW?ne.voucherRightFlat:ne.voucherRight,r,oe({usePreferredShopColorScheme:s,isOfficial:_,isShopeeMart:h,styles:ne})),ref:n,onClick:function(){"function"==typeof i&&i(),a()}},t,l===p.wK.NORMAL_WITH_SHADOW&&o.createElement("div",{className:ne.border}))}))}),"SellerVoucherRight",{reportOnce:!0}),ce={fsVoucherLeftFlat:"yVY8iM",voucherFlat:"ffHYjA",sawtooth:"YC5sTx",text:"F89aKQ",small:"pAraTA"},ue=r(71391),le={default:{voucherFlat:""},small:{voucherFlat:ce.voucherFlatSmall}},se=(0,u.withI18nCollections)([l.L])((0,ue.Z)((function(e){var t=e.className,r=e.grayscale,n=e.trackingClick,a=e.sizeStyle,i=void 0===a?"default":a,l=e.borderColor,s=(0,f.Kd)(),_={"--border-color":l||(r?"#bdbdbd":"#00bfa5"),"--background-color":r?"#bdbdbd":"#00bfa5"};return o.createElement("div",{className:c()(ce.fsVoucherLeftFlat,t,r&&ce.grayscale,le[i].voucherFlat),onClick:n,style:_},o.createElement("div",{className:c()(ce.text,"VN"===s&&ce.small)},(0,u.t)("label_free_shipping")),o.createElement("div",{className:ce.sawtooth}))}),"VoucherWalletLeft")),_e={default:{voucherFlat:""},small:{voucherFlat:"hndpI9"}},he=u.I18n.t,fe=(0,u.I18n.withI18nCollections)([l.L])((0,ue.Z)((function(e){var t=e.className,r=e.iconClassName,n=e.iconTextClassName,a=e.sawtoothClassName,i=e.onClick,u=e.grayscale,l=e.trackingClick,s=e.sizeStyle,_=void 0===s?"default":s,h=e.shopTypeVisible,f=function(){i&&i(),l()};return o.createElement(Y.l.Consumer,null,(function(e){var i=e.voucher,l=e.type;return o.createElement("div",{className:c()("lpWPNb",t,u&&"_4Abwfy",_e[_].voucherFlat),onClick:f},i&&i.icon_hash&&o.createElement(j.p,{src:(0,d.Jn)(i.icon_hash),wrapperClassName:c()("G6PvHv",r),placeholderClassName:"ycuKIk",className:"AwBXYf"})||o.createElement("div",{className:c()("z9tDj3",r)},o.createElement("svg",{enableBackground:"new 0 0 15 15",viewBox:"0 0 15 15",x:"0",y:"0"},o.createElement("g",null,o.createElement("circle",{cx:"7.5",cy:"4.5",fill:"none",r:"3.8",strokeMiterlimit:"10",stroke:"#c6c6c6"}),o.createElement("path",{d:"m1.5 14.2c0-3.3 2.7-6 6-6s6 2.7 6 6",fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",stroke:"#c6c6c6"})))),h&&(i.is_shop_official||i.is_shop_preferred)&&o.createElement("div",{className:"_8+zNCT"},o.createElement("div",{className:"KSm9rI"},o.createElement(O,{voucher:i}))),o.createElement("div",{className:c()("ffPRiE",n)},i.icon_text||i.shop_name||he("label_voucher_shop")),o.createElement("div",{className:c()("XherGz",a)},o.createElement("div",{className:c()("Eswk4H",(l===p.wK.FLAT_WITH_SHADOW||l===p.wK.NORMAL_WITH_SHADOW)&&"_0D15JW")})))}))}),"VoucherWalletLeft")),pe={opvVoucherLeftFlat:"CzMsRo",grayscale:"V-YCxF",iconText:"kJ0g9B",voucherFlat:"iJXPhw",shoppingMallOpvVoucherLeftFlat:"R88AmF",sawtoothContainer:"-9zjhk",sawtooth:"_5YdUCB",shadow:"m30R7W",grid:"XmFyl2",iconWrapper:"culjpv",iconPlaceholder:"hlLcd1",shoppingMall:"fCuM2i",iconPlaceholderMall:"jnmvZh",icon:"DRN91Y",iconEmpty:"V7-NMk",mallImage:"zN-q+n",brand:"x2AEZ3"},de={default:{voucherFlat:""},small:{voucherFlat:pe.voucherFlatSmall}};function ve(e){var t,r;return e?e.icon_hash?(0,d.Jn)(e.icon_hash):e.icon_url?e.icon_url:null!==(t=e.airpay_opv_extra_info)&&void 0!==t&&t.icon_url?null===(r=e.airpay_opv_extra_info)||void 0===r?void 0:r.icon_url:void 0:""}var me=(0,ue.Z)((function(e){var t=e.className,r=e.iconClassName,n=e.iconTextClassName,a=e.onClick,i=e.grayscale,u=e.trackingClick,l=e.sizeStyle,s=void 0===l?"default":l,_=function(){a&&a(),u()};return o.createElement(Y.l.Consumer,null,(function(e){var a,u=e.voucher,l=e.type;if(!u)return o.createElement("div",null);var h=(0,A.AE)(u),f=u.ui_display_type===p.ob.SKU_OPV;if(h||f){var v=u.sku_opv_extra_info||{},m=v.brand_image_hash,E=v.brand_image_url,O=(0,d.Jn)(m)||E;return o.createElement("div",{className:c()(pe.shoppingMallOpvVoucherLeftFlat,t,i&&pe.grayscale,de[s].voucherFlat),onClick:_},o.createElement(j.p,{src:ve(u),wrapperClassName:pe.mallImage,placeholderClassName:pe.iconPlaceholder,className:pe.icon,isCovered:!0}),O&&o.createElement("div",{className:pe.brand,style:{backgroundImage:'url("'+O+'")'}}))}return o.createElement("div",{className:c()(pe.opvVoucherLeftFlat,t,i&&pe.grayscale,de[s].voucherFlat),onClick:_},o.createElement(j.p,{src:ve(u),wrapperClassName:c()(pe.iconWrapper,r),placeholderClassName:pe.iconPlaceholder,className:pe.icon}),o.createElement("div",{className:c()(pe.iconText,n)},u.icon_text),o.createElement("div",{className:pe.sawtoothContainer},o.createElement("div",{className:c()(pe.sawtooth,(l===p.wK.FLAT_WITH_SHADOW||l===p.wK.NORMAL_WITH_SHADOW)&&pe.shadow,(a={},a[pe.grayscale]=i,a))})))}))}),"VoucherWalletLeft"),Ee={shopeeVoucherLeftFlat:"RtkwZ6",voucherFlatSmall:"i9I+mu",sawtooth:"Ofo6O6",iconWrapper:"aEXgu6",iconPlaceholder:"z36P9q",icon:"cTell6",iconText:"cJTUcI",uppercase:"VAmsiW"};function Oe(){return o.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56"},o.createElement("g",{id:"spec",fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"shopee-logo-copy",transform:"translate(10 8)",fill:"#FFF"},o.createElement("g",{id:"Group-5",transform:"translate(8.31)"},o.createElement("g",{id:"Group-23"},o.createElement("path",{d:"M18.612 9.889l-1.964.074c-.17-4.48-3.348-7.98-7.15-7.98-3.804 0-6.982 3.5-7.152 7.98L.382 9.89C.59 4.406 4.575.017 9.497.017c4.922 0 8.908 4.39 9.115 9.872z",id:"Stroke-1",fillRule:"nonzero"}),o.createElement("path",{d:"M12.577 32.648c-.94.399-2.2.613-3.2.546a10.371 10.371 0 0 1-4.36-1.121c-.49-.25-1.208-.744-1.749-1.195-.123-.102-.187-.194-.068-.361.126-.19.627-.913.706-1.033.106-.162.28-.17.441-.045l.218.168c1.295 1.008 2.966 1.764 4.823 1.835 2.341-.032 4.04-1.074 4.343-2.689.334-1.78-1.086-3.306-3.82-4.157-.87-.271-3.055-1.14-3.46-1.376-1.904-1.11-2.792-2.566-2.665-4.358.193-2.484 2.512-4.345 5.454-4.358a9.976 9.976 0 0 1 3.873.794c.43.18 1.23.608 1.515.82.2.145.184.307.105.433-.116.193-.462.731-.601.956-.102.153-.228.171-.406.058-1.505-1.004-3.053-1.344-4.446-1.372-2.01.04-3.525 1.226-3.625 2.853-.026 1.47 1.097 2.535 3.483 3.349 4.925 1.572 6.791 3.42 6.438 6.316-.218 1.787-1.31 3.22-2.999 3.937z",id:"Fill-3"}))),o.createElement("path",{d:"M2.687 9.19h30.005a2.293 2.293 0 0 1 2.293 2.293c0 .057 0 .057-.003.113l-1.111 22.406a4.914 4.914 0 0 1-4.908 4.67H6.416a4.914 4.914 0 0 1-4.908-4.67L.397 11.596a2.293 2.293 0 0 1 2.177-2.404c.056-.002.056-.002.113-.002zm0 1.965h-.016a.328.328 0 0 0-.31.344l1.11 22.406a2.948 2.948 0 0 0 2.945 2.802h22.547a2.948 2.948 0 0 0 2.945-2.802l1.111-22.406v-.016a.328.328 0 0 0-.327-.328H2.687z",id:"Rectangle",fillRule:"nonzero"}))))}var ge={default:{voucherFlat:""},small:{voucherFlat:Ee.voucherFlatSmall}},ye=(0,u.withI18nCollections)([l.L])((0,ue.Z)((function(e){var t=e.className,r=e.grayscale,n=e.trackingClick,a=e.sizeStyle,i=void 0===a?"default":a,l={"--border-color":e.borderColor||(r?"#bdbdbd":"#ee4d2d"),"--background-color":r?"#bdbdbd":"#ee4d2d"};return o.createElement(Y.l.Consumer,null,(function(e){var a=e.voucher;return o.createElement("div",{className:c()(Ee.shopeeVoucherLeftFlat,t,r&&Ee.grayscale,ge[i].voucherFlat),onClick:n,style:l},a&&a.icon_hash&&o.createElement(j.p,{src:a.icon_hash&&(0,d.Jn)(a.icon_hash),wrapperClassName:Ee.iconWrapper,placeholderClassName:Ee.iconPlaceholder,className:Ee.icon})||o.createElement("div",null,o.createElement(Oe,null)),o.createElement("div",{className:Ee.iconText},a&&a.icon_text||o.createElement("div",{className:Ee.uppercase},(0,u.t)("label_shopee"))),o.createElement("div",{className:Ee.sawtooth}))}))}),"VoucherWalletLeft")),Re=["voucher","children","className","type","usePreferredShopColorScheme","isOfficial","isShopeeMart"];function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ce.apply(this,arguments)}function Ne(e){var t=e.voucher,r=e.children,n=e.className,i=e.type,u=void 0===i?p.wK.FLAT_WITH_SHADOW:i,l=e.usePreferredShopColorScheme,s=e.isOfficial,_=e.isShopeeMart,h=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,Re),f=(0,o.useMemo)((function(){return{voucher:t,type:u,usePreferredShopColorScheme:l,isOfficial:s,isShopeeMart:_}}),[u,t,l,s,_]);return a().createElement(Y.l.Provider,{value:f},a().createElement("div",Ce({className:c()(ne.voucherBody,ne.voucher,n,u===p.wK.FLAT_WITH_SHADOW&&ne.shadow)},h),r))}function Le(e){var t=e.voucher,r=e.children,n=e.className,o=e.type,i=void 0===o?p.wK.FLAT_WITH_SHADOW:o,u=e.onClick;return a().createElement(Y.l.Provider,{value:{voucher:t,type:i}},a().createElement("div",{className:c()("M0gH+B",n,i===p.wK.FLAT_WITH_SHADOW&&"W5QpBe"),onClick:u},r))}var Te=(0,re.Z)((function(e){var t=e.children,r=e.className,n=e.grayscale,o=e.trackingRef,i=e.trackingClick,u={"--border-color":e.borderColor||"#e8e8e8"};return a().createElement("div",{className:c()("tstbQl",r,n&&"xz4spb"),ref:o,onClick:i,style:u},t)}),"VoucherWalletRight",{reportOnce:!0}),Se={dpVoucherLeftFlat:"lKAXEH",grayscale:"Bq17Ox",iconText:"lPPGBb",voucherFlat:"PGps61",sawtoothContainer:"_1XvV1Z",sawtooth:"dGAkZ1",shadow:"FuXeJi",iconWrapper:"rPwsKP",iconPlaceholder:"OATqa2",icon:"_2g1FOa",uppercase:"_6LJcGn"},Ie={default:{voucherFlat:""},small:{voucherFlat:Se.voucherFlatSmall}},Ae=(0,u.withI18nCollections)([l.L])((0,ue.Z)((function(e){var t=e.className,r=e.grayscale,n=e.trackingClick,a=e.sizeStyle,i=void 0===a?"default":a,l={"--border-color":e.borderColor||"#e8e8e8"};return o.createElement(Y.l.Consumer,null,(function(e){var a=e.voucher,s=e.type;return o.createElement("div",{className:c()(Se.dpVoucherLeftFlat,t,r&&Se.grayscale,Ie[i].voucherFlat),onClick:n,style:l},a&&a.icon_hash&&o.createElement(j.p,{src:(0,d.Jn)(a.icon_hash),className:Se.icon,wrapperClassName:Se.iconWrapper,placeholderClassName:Se.iconPlaceholder})||o.createElement("div",null,o.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56"},o.createElement("g",{id:"spec",fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"M17.71 12h19.952v32.331H17.71V12zm7.482 27.357v2.487h4.988v-2.487h-4.988zm-4.57-23.217v18.594h13.886V16.14H20.622zm23.654 20.215a14.925 14.925 0 0 0 2.112-7.678c0-2.807-.771-5.434-2.112-7.678l1.926-1.621a17.41 17.41 0 0 1 2.673 9.299c0 3.418-.98 6.606-2.673 9.298l-1.926-1.62zm-3.884-3.269a9.957 9.957 0 0 0 1.022-4.41c0-1.582-.368-3.08-1.022-4.409l1.95-1.64a12.44 12.44 0 0 1 1.559 6.05 12.44 12.44 0 0 1-1.56 6.05l-1.95-1.641zM11.099 20.999a14.925 14.925 0 0 0-2.112 7.678c0 2.807.77 5.433 2.112 7.678l-1.926 1.62A17.41 17.41 0 0 1 6.5 28.677c0-3.418.98-6.607 2.673-9.299l1.926 1.62zm3.884 3.268a9.957 9.957 0 0 0-1.022 4.41c0 1.583.368 3.08 1.022 4.409l-1.95 1.64a12.44 12.44 0 0 1-1.559-6.05c0-2.195.566-4.258 1.56-6.05l1.95 1.641z",fill:"#26AA99"})))),o.createElement("div",{className:Se.iconText},a.icon_text||a.dp_category_name||o.createElement("div",{className:Se.uppercase},(0,u.t)("label_digital_purchase"))),o.createElement("div",{className:Se.sawtoothContainer},o.createElement("div",{className:c()(Se.sawtooth,(s===p.wK.FLAT_WITH_SHADOW||s===p.wK.NORMAL_WITH_SHADOW)&&Se.shadow)})))}))}),"VoucherWalletLeft")),be=(0,H.connect)((function(e){return{SHOULD_SHOW_FREE_SHIPPING_MIN_SPEND:(0,V.Au)(e.featureToggles,x.xkh)}}),{})((function(e){var t=e.className,r=e.SHOULD_SHOW_FREE_SHIPPING_MIN_SPEND,n=e.voucher,a=(0,f.Kd)(),i=n.min_spend,c=n.title;return o.createElement("div",{className:t},o.createElement("span",{className:"Ld5Adi"},!!n.customised_product_scope_tag_image_hash&&o.createElement(g,{voucher:n,className:"HcoWRF"}),o.createElement("span",{className:"Ir75Jq"},c||(r&&"number"==typeof i?(0,u.t)("label_voucher_wallet_minimum_purchase",{minSpend:(0,Z.ld)(i,a)}):(0,u.t)("label_free_shipping_header")))))})),we=(0,u.withI18nCollections)([l.L])(be),Pe="NzYAiR",De="QYu8Qd",Ue="MbupFe";function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function He(e){var t=e.key,r=e.boxClassName,n=e.className,a=e.text,i=e.useTranslation;return o.createElement("div",{key:t,className:r},o.createElement("div",{className:n},i?(0,u.t)(a):a))}function Ve(e){var t=e.labelBoxClassName;return c()(Pe,t)}function xe(e){var t=e.labelClassName;return c()(De,t)}var Fe=[{condition:function(e){var t=e.display_labels;return!!t&&t.includes(p.Bq.NEW_USER)},key:"new-user-label",text:function(){return(0,u.t)("label_voucher_new_user")},boxClassName:Ve,className:xe},{condition:function(e){var t=e.display_labels;return!!t&&t.includes(p.Bq.SHOPEEPAY)},key:"shopee-wallet-only-label",text:function(e){return e.reward_type===p.$P.FREE_SHIPPING_VOUCHER?"voucher_wallet_label_shopee_wallet_only_fsv":"label_shopee_wallet_only"},boxClassName:Ve,className:xe},{condition:function(e){var t=e.display_labels;return!!t&&t.includes(p.Bq.JKO_PAY)},key:"jko-pay-label",text:function(){return(0,u.t)("label_voucher_jko")},boxClassName:Ve,className:xe},{condition:function(e){var t=e.display_labels;return!!t&&t.includes(p.Bq.SHOPEEPAY_LATER)},key:"shopee-pay-later-label",text:function(){return(0,u.t)("label_voucher_shopeepay_later")},boxClassName:Ve,className:xe},{condition:function(e){var t=e.display_labels;return!!t&&t.includes(p.Bq.LIVE_ONLY)},key:"shopee-live-only-label",text:function(){return(0,u.t)("label_voucher_live_only")},boxClassName:Ve,className:xe},{condition:function(e){var t=e.display_labels;return!!t&&t.includes(p.Bq.VIDEO_ONLY)},key:"shopee-video-only-label",text:function(){return(0,u.t)("label_voucher_video_only")},boxClassName:Ve,className:xe}],ke=(0,u.withI18nCollections)([l.L])((function(e){var t=e.voucher,r=t.display_labels,n=t.customised_labels,a=t.distributed_labels,i=t.voucher_market_type,u=t.ui_display_type,l=e.voucher,s=e.className,_=e.hideOnNoLabel,h=e.labelClassName,f=e.labelBoxClassName,d=e.labelLimit,v=(0,A.AE)({ui_display_type:u}),m=(0,A.Nq)(l),E=i===p.Tc.OFFLINE_PAYMENT||m,O=(0,H.useSelector)((function(e){return(0,V.Au)(e.featureToggles,x.QNI)})),g=JSON.stringify(n),y=JSON.stringify(r),R=o.useRef(null);if(o.useEffect((function(){var e=R&&R.current;if(e&&O)for(var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.children);!(t=r()).done;){var n=t.value,o=getComputedStyle(n);if(n.offsetTop<e.offsetHeight&&"0 1 auto"!==o.getPropertyValue("flex")&&(n.style.flex="0 1 auto"),n.offsetTop>=e.offsetHeight){n.style.flex="1 1 0";var a=e.offsetWidth-n.offsetLeft-8;n.style.flex="1 1 "+a+"px";break}}}),[y,g,O]),E)return a?o.createElement("div",{className:c()(Ue,v?"nlefgj":"",s)},a.map((function(e,t){return e&&e.content&&o.createElement("div",{key:t,className:Pe,style:e.color?{color:e.color,border:"1px solid "+e.color}:{}},o.createElement("div",{className:De},e.content))}))):null;var C=function(e,t){var r=t.labelClassName,n=t.labelBoxClassName,o=t.labelLimit,a=e.customised_labels,i=Fe.map((function(t){return t.condition(e)?He({key:t.key,text:t.text(e),boxClassName:"function"==typeof t.boxClassName?t.boxClassName({labelClassName:r,labelBoxClassName:n}):t.boxClassName,className:"function"==typeof t.className?t.className({labelClassName:r,labelBoxClassName:n}):t.className,useTranslation:!0}):null})),u=a&&a.length?a.map((function(e,t){return e&&e.content?He({key:"custom-label-"+t,text:e.content,boxClassName:c()(Pe,n),className:c()(De,r)}):null})):[],l=i.concat(u).filter(Boolean);return o?l.slice(0,o):l}(l,{labelClassName:h,labelBoxClassName:f,labelLimit:d||(O?4:2)});return _&&0===C.length?null:o.createElement("div",{ref:R,className:c()(Ue,O&&"n93Rpg",s)},C)})),Ge=u.I18n.t;function Be(e){var t=e.className,r=e.children;return a().createElement("div",{className:c()("FXgYXC",t)},r)}function We(e){var t=e.children,r=e.isOfs,n=e.isShopeeMart;return a().createElement("div",{className:c()(r&&!n?"h+qhc-":"_0ZyHDJ")},a().createElement("div",{className:"HrAW6i"},t))}var Ye=(0,u.I18n.withI18nCollections)([l.L])((function(e){var t=e.voucher,r=t.customised_labels,n=t.product_limit,o=t.display_labels,i=e.className,c=e.isOfs,u=e.isShopeeMart,l=e.limit,s=void 0===l?0:l,_=!!o&&o.includes(p.Bq.LIVE_ONLY),h=!!o&&o.includes(p.Bq.VIDEO_ONLY),f=[];return _&&f.push(a().createElement(We,{key:"live_only_label",isOfs:c,isShopeeMart:u},Ge("label_voucher_live_only"))),h&&f.push(a().createElement(We,{key:"video_only_label",isOfs:c,isShopeeMart:u},Ge("label_voucher_video_only"))),r&&r.length>0?(r.forEach((function(e,t){e&&e.content&&(!s||t<s)&&f.push(a().createElement(We,{key:"custom_label_"+t,isOfs:c,isShopeeMart:u},e.content))})),a().createElement(Be,{className:i},f)):(n&&f.push(a().createElement(We,{key:"specific_products_label",isOfs:c,isShopeeMart:u},Ge("voucher_label_specific_products"))),f.length?a().createElement(Be,{className:i},f):a().createElement("div",null))})),je=(r(84614),r(56624)),Ke=r(46967),ze=r(77055),Xe=r(68166),Qe=r(77066),Ze=r(17602),qe=r(84937);function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Je.apply(this,arguments)}var $e,et,tt,rt=o.useEffect,nt=o.useRef,ot=o.useCallback,at="VoucherCustomErrorPopup",it=($e=function(e){var t=e.title,r=e.message,n=e.cancelText,a=e.confirmText,i=e.handleCancel,c=e.handleConfirm,u=(e.targetType?e.targetType+".":"")+"VoucherCustomErrorActionButton",l=e.targetData||{},s=(0,Ze.Z)(u,l);return o.createElement("div",{className:"wVqUfl"},o.createElement("h3",{className:"_6ldMrX"},t),o.createElement("p",{className:"_7TgaU0"},r),o.createElement("div",{className:"cQy+JE",ref:s},o.createElement(Ke.Sy,{onClick:i,shouldStopPropagate:!0},n),o.createElement(Qe.ZP,{targetType:u,targetData:l},o.createElement(Ke.nQ,{onClick:c,shouldStopPropagate:!0},a))))},tt=function(e){return e.displayName||e.name||"Component"}(et=o.forwardRef((function(e,t){return o.createElement(qe.Z,{onTrack:u.Tracking.onTrack},o.createElement($e,Je({},e,{ref:t})))}))),et.displayName="WithVoucherWrap("+tt+")",et),ct=o.memo((0,u.withI18nCollections)([l.L])((function(e){var t,r=e.isOpen,n=e.onClose,a=e.onConfirm,i=e.errorConfig,c=(0,H.useDispatch)(),l=(0,Qe.LN)(),s=(0,Qe.JA)(),_=i||{},h=r&&_.use_link,f=(t=(0,K.useHistory)(),ot((function(e){var r=(0,ze.h)(e,u.config.ROOT_DOMAIN),n=r.url;r.sameDomain?t.push(n):location.href=e}),[t])),p=nt({dispatch:c,targetType:l,targetData:s,config:_,onClose:n,onConfirm:a,redirect:f});p.current={dispatch:c,targetType:l,targetData:s,config:_,onClose:n,onConfirm:a,redirect:f};var d=(0,je.xh)(),v=d.showPopup,m=d.dismissPopup;return rt((function(){var e=p.current,t=e.targetType,r=e.targetData,n=e.config,a=e.onClose,i=e.onConfirm,c=e.redirect;h&&v(o.createElement(it,{title:n.title||(0,u.t)("voucher_cust_err_msg_title"),message:n.content||(0,u.t)("voucher_cust_err_msg_content"),cancelText:(0,u.t)("voucher_label_close"),confirmText:n.cta_button||(0,u.t)("voucher_cust_err_msg_cta"),handleCancel:function(){m(at),"function"==typeof a&&a()},handleConfirm:function(){"function"==typeof i&&i(),n.use_link&&c(n.use_link)},targetType:t,targetData:r}),!1,a,at,!0)}),[h]),null})),(function(e,t){return!(0,Xe.Z)(e,t,["isOpen"],["errorConfig"])})),ut=(r(45622),"_7KXzJc"),lt=function(e){var t=e.className;return o.createElement("svg",{width:"16",height:"16",className:c()(ut,t)},o.createElement("g",{fill:"currentColor",fillRule:"nonzero"},o.createElement("path",{d:"M15.514 7.16a1.58 1.58 0 0 0-1.156-.492 1.56 1.56 0 0 0-1.148.482c-.324.324-.482.71-.482 1.157 0 .447.155.827.473 1.148.322.325.71.482 1.157.482.447 0 .832-.158 1.156-.482.324-.325.482-.7.482-1.148 0-.446-.158-.824-.482-1.147zM12.386 11.444c-.42 0-.771.14-1.06.43-.29.288-.43.63-.43 1.041 0 .413.138.765.43 1.062.287.29.64.428 1.06.428.412 0 .754-.14 1.043-.428.298-.299.447-.649.447-1.062 0-.411-.151-.751-.447-1.04a1.418 1.418 0 0 0-1.043-.43zM12.605 5.582c.482 0 .903-.176 1.253-.525.35-.352.526-.772.526-1.262 0-.5-.175-.92-.526-1.271a1.71 1.71 0 0 0-1.253-.516c-.5 0-.92.174-1.262.516a1.73 1.73 0 0 0-.525 1.27c0 .49.175.911.525 1.263.35.35.771.525 1.262.525zM7.76 13.345c-.369 0-.686.13-.947.395-.256.26-.385.577-.385.955 0 .368.13.686.385.936a1.3 1.3 0 0 0 .946.387 1.3 1.3 0 0 0 .947-.387c.26-.256.394-.568.394-.936 0-.378-.131-.701-.394-.965a1.287 1.287 0 0 0-.947-.385zM7.76 0c-.535 0-.99.185-1.367.56-.377.378-.561.825-.561 1.36 0 .534.184.998.56 1.376.377.375.833.56 1.367.56.535 0 .99-.185 1.367-.56.377-.378.57-.842.57-1.376a1.85 1.85 0 0 0-.57-1.36A1.862 1.862 0 0 0 7.76 0zM3.142 4.679a.865.865 0 0 0 .63-.254c.351-.35.351-.92 0-1.27a.865.865 0 0 0-.63-.254.871.871 0 0 0-.623.254.872.872 0 0 0 0 1.27.872.872 0 0 0 .623.254zM3.142 11.627c-.325 0-.6.127-.842.361a1.1 1.1 0 0 0-.35.823c0 .325.114.605.35.84.237.238.517.36.842.36.324 0 .604-.122.84-.36.237-.235.351-.515.351-.84a1.1 1.1 0 0 0-.35-.823c-.241-.234-.517-.36-.841-.36zM1.792 7.57a.985.985 0 0 0-.727-.306c-.29 0-.543.105-.745.307a.999.999 0 0 0-.298.736A1.019 1.019 0 0 0 1.065 9.35c.29 0 .526-.097.727-.299.202-.202.307-.456.307-.744 0-.29-.105-.534-.307-.736z"})))},st=r(17561),_t=r(67950),ht=r(16540),ft=r(17729),pt=r(3367);function dt(e){var t=e.className;return a().createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.33366 5.33301C3.8609 5.33301 2.66699 6.52692 2.66699 7.99967V13.9997H4.00033C5.1049 13.9997 6.00033 14.8951 6.00033 15.9997C6.00033 17.1042 5.1049 17.9997 4.00033 17.9997H2.66699V23.9997C2.66699 25.4724 3.8609 26.6663 5.33366 26.6663H12.0003V23.9997H13.3337V26.6663H26.667C28.1398 26.6663 29.3337 25.4724 29.3337 23.9997V17.9997H27.3337C26.2291 17.9997 25.3337 17.1042 25.3337 15.9997C25.3337 14.8951 26.2291 13.9997 27.3337 13.9997H29.3337V7.99967C29.3337 6.52692 28.1398 5.33301 26.667 5.33301H13.3337V7.99967H12.0003V5.33301H5.33366ZM13.3337 9.99967H12.0003V12.6663H13.3337V9.99967ZM12.0003 14.6663H13.3337V17.333H12.0003V14.6663ZM13.3337 19.333H12.0003V21.9997H13.3337V19.333Z",fill:"#EE4D2D"}))}function vt(e){var t=e.num,r=e.className,n=e.iconClassName;return a().createElement("div",{className:c()("XrpgG6",r)},"+",t,a().createElement(dt,{className:c()(n)}))}var mt=r(26686),Et=o.useCallback,Ot={progress:st.Z.INIT};function gt(e){var t=e.afterClaim,r=e.onClaim,n=e.applyText,a=e.voucher,i=e.className,l=e.containerClassName,s=e.applyBtnClassName,_=e.disableClaimingOnFullyClaimed,h=e.shouldExpandButtonClickArea,f=e.accountStatus,p=e.buttonDisabled,d=e.onAnimationChange,v=e.needAnimation,m=f===pt.d.LOGGED_IN,E=(0,K.useHistory)(),O=(0,H.useSelector)((function(e){return a&&a.voucher_code&&e.voucher.claimProgress[a.voucher_code]||Ot})),g=a.usage_limit_per_user,y=O.progress===st.Z.REQ,R=a.is_claimed_before||O.progress===st.Z.OK,C=_&&100===a.percentage_claimed,N=Boolean(R&&t),L=(0,o.useState)(!1),T=L[0],S=L[1],I=(0,o.useRef)(0);(0,o.useEffect)((function(){O.progress===st.Z.REQ&&(I.current=st.Z.REQ)}),[O.progress]),(0,o.useEffect)((function(){v&&O.progress!==st.Z.REQ&&I.current===st.Z.REQ&&(O.progress===st.Z.OK&&S(!0),I.current=st.Z.OK,setTimeout((function(){S(!1),d&&d(!1)}),900))}),[v,O.progress,d,I.current]);var b=Et((function(e){e.stopPropagation(),y||T||(m||E.push((0,ht.FK)(_t.D_.getUrl(),{next:location.href})),N&&"function"==typeof t?t():[st.Z.INIT,st.Z.ERR].includes(O.progress)&&!C&&(r(),v&&d&&d(!0)))}),[d,v,m,N,t,O.progress,C,E,r,y,T]),w=N?(0,A.np)(a)?"UseLater":"AfterClaim":"";return o.createElement(Qe.ZP,{targetType:w},o.createElement("div",{className:c()(l,"yMeGP9"),onClick:h&&b},T&&o.createElement(vt,{num:g||0,className:c()("rs3NiE",T&&"_4XHCsM"),iconClassName:"y4HknO"}),o.createElement(Ke.nQ,{size:"s",disabled:(p||y||R&&!N||C)&&!T,className:c()("_27wMvC",i,!T&&N&&"wjinWT",!T&&N&&s,!T&&N&&(0,A.np)(a)&&"YQ56Rs"),onClick:b,shouldStopPropagate:!0},T?(0,u.t)("voucher_claim"):N?(0,A.np)(a)?(0,u.t)("label_voucher_use_later"):n||(0,u.t)("label_voucher_seller_voucher_use"):R?(0,u.t)("voucher_claimed"):y?o.createElement(lt,{className:"B7rdLr"}):(0,u.t)("voucher_claim"))))}var yt=(0,mt.q)((0,ft.u)({fetchOnMount:!0}),(0,u.withI18nCollections)([l.L]))(o.memo(gt,(function(e,t){return!(0,Xe.Z)(e,t,["voucher","onClaim"])}))),Rt=r(54777),Ct=["onClaim","voucher","trackClick"];function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nt.apply(this,arguments)}function Lt(){Lt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),i=new C(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=g(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var s={};function _(){}function h(){}function f(){}var p={};c(p,o,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var m=f.prototype=_.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,a,i,c){var u=l(e[o],e,a);if("throw"!==u.type){var s=u.arg,_=s.value;return _&&"object"==typeof _&&r.call(_,"__await")?t.resolve(_.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(_).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function g(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,c(m,"constructor",f),c(f,"constructor",h),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(m),c(m,i,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function Tt(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function St(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Tt(a,n,o,i,c,"next",e)}function c(e){Tt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function It(e){var t=(0,H.useDispatch)(),r=e.onClaim,n=e.voucher,i=e.trackClick,c=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,Ct),u=(0,o.useCallback)((function(){function e(){return(e=St(Lt().mark((function e(){var o,a,c,u,l,s,_;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i&&i(),o=n.promotionid,a=n.shop_id,e.next=4,t((0,Rt.Ek)({promotionid:o,voucher_code:n.voucher_code||"",shopid:a}));case 4:if(c=e.sent,u=c.error,l=c.response,s=p.eg.CLAIM_ERROR_OK,_=null,u||!l||l.error||!l.data?s=p.eg.CLAIM_ERROR_UNKNOWN:(s=l.data.invalid_message_code||s,_=l.data.error_config),e.t0=r,!e.t0){e.next=14;break}return e.next=14,r(n,s,_);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r,i,n]);return a().createElement(yt,Nt({},c,{onClaim:u,voucher:n}))}(0,u.withI18nCollections)([l.L])((function(e){var t=e.onApply,r=e.disabled,n=e.isApplying,i=e.trackingClick,c=(0,o.useCallback)((function(e){t(),e.stopPropagation()}),[t]);return a().createElement(Ke.Xd,{baseClass:"QBT1pQ",onClick:c,disabled:r,trackingClick:i,shouldStopPropagate:!0},n?a().createElement(lt,null):(0,u.t)("label_voucher_apply"))}));function At(e){var t=e.voucher,r=t.shop_id,n=(0,A.AE)(t);return o.createElement("div",{className:c()("aMrlTb",n?"WY5Jvp":"","opY6cr")},o.createElement(y,{voucher:t}),!!r&&o.createElement(Ye,{className:"L5TKMj",voucher:t}),!r&&!n&&o.createElement(ke,{voucher:t}),o.createElement(W,{voucher:t}))}var bt="nPHNox",wt=r.p+"98fdd4361a7be7b594d8720e75408fa1.png",Pt=r.p+"18f2123166fc527982d8f64bd3a69c4f.png",Dt=function(e){return e.reward_type===p.$P.SHIPPING_FEE?Pt:wt},Ut=(0,u.I18n.withI18nCollections)([l.L])((0,ue.Z)((function(e){var t,r=e.className,n=e.grayscale,a=e.voucher,i=e.trackingClick;return o.createElement("div",{className:c()("VMMFjn",(t={},t.qi2J3h=a.reward_type===p.$P.SHIPPING_FEE,t.nPHNox=n,t),r),onClick:i},a&&o.createElement(j.p,{src:a.icon_hash?(0,d.Jn)(a.icon_hash):Dt(a),wrapperClassName:"_4L0oZV",placeholderClassName:"D7X-Rb",className:"OV41Dp",hidePlaceholder:!0}),o.createElement("div",{className:"gcSuV9"},a&&a.icon_text||o.createElement("div",{className:"_9JQJLa"},a.icon_text||"")),o.createElement("div",{className:c()("NxVu8n",n&&bt)}))}),"VoucherWalletLeft")),Mt={voucherWrapper:"cjeow9",voucherBody:"_7Hm9FE",voucherLeftContainer:"lrJAWi",rightContainer:"Wd8SF-",cornerBadge:"RBLWmw",bold:"_9pNc2X",inValidCornerBadge:"DChD7Z",link:"n6o6Bk",highlighted:"_8xluWf",rightButtons:"+JyftT"},Ht=r(33714),Vt=r(53783),xt=u.I18n.t,Ft=(0,u.I18n.withI18nCollections)([l.L])((function(e){var t=e.className,r=o.useState(!1),n=r[0],a=r[1],i=(0,Vt.Z)("UseLink",e);return o.createElement(o.Fragment,null,o.createElement("div",{onClick:function(e){i(),a(!0),e.stopPropagation()}},o.createElement("a",{className:c()("F0GPeb",t)},xt("label_use"))),o.createElement(Ht.Z,{isOpen:n,onOverlayClick:function(){return a(!1)}},o.createElement(je.bO,{customDesc:xt("msg_download_app_to_use_voucher"),customTitle:xt("msg_voucher_is_used_on_shopeefood_app"),targetType:"VoucherWallet.DownloadAppPopup"})))}));(0,u.withI18nCollections)([l.ez])((function(e){var t,r=e.voucher,n=e.status,a=e.className,i=e.highlighted,l=r.left_count,s=r.use_type,_=r.quota_type,h=1===n,f=2===n,d=!h&&!f,v=0===l,m=(0,A.lT)(e.voucher),E=_===p.Y.USAGE_CONTROLLED_PRIVATE_VOUCHER,O=h||f||d&&s===p.yD.PUBLIC||E,g=(0,Ze.Z)("VoucherWalletCard",e);return o.createElement("div",{className:Mt.voucherWrapper,ref:g},o.createElement(Le,{className:c()(Mt.voucherBody,a),voucher:r},o.createElement("div",{className:Mt.voucherLeftContainer},o.createElement(Ut,{voucher:r,grayscale:!d})),o.createElement(Te,{voucher:r,grayscale:!d,className:c()(Mt.rightContainer,(t={},t[Mt.highlighted]=i,t))},o.createElement(At,{voucher:r}),o.createElement("div",{className:c()(Mt.columns,Mt.alignRight,Mt.rightButtons,!1)},d&&o.createElement(Ft,{voucher:r})))),O&&o.createElement("div",{className:c()(Mt.cornerBadge,!d&&Mt.inValidCornerBadge)},h?(0,u.t)("label_voucher_badge_used"):v?(0,u.t)("label_voucher_badge_used_up"):m?(0,u.t)("label_voucher_badge_expired"):r.fully_redeemed?(0,u.t)("label_voucher_fully_redeemed"):f?(0,u.t)("label_voucher_badge_invalid"):E?(0,u.t)("label_voucher_limited_stock"):l&&l<=1e3?(0,u.t)("label_n_left",{count:l}):(0,u.t)("label_voucher_limited_stock")))}));function kt(e){var t=e.children,r=e.className,n=e.invalid,o=e.onTop,i=c()("USK7u8",o?"_3yfNGl":"sUnwnY",n?"g5prK-":"jHLlgK",r);return a().createElement("div",{className:i},t)}var Gt=(0,u.withI18nCollections)([l.L])((function(e){var t=e.isShort,r=void 0!==t&&t,n=e.invalid,o=void 0!==n&&n,i=e.onTop,c=void 0!==i&&i,l=e.className,s=r?(0,u.t)("label_limited"):(0,u.t)("label_voucher_limited_stock"),_=(0,H.useSelector)((function(e){return(0,V.Au)(e.featureToggles,x.V6n)}));return a().createElement(Y.l.Consumer,null,(function(e){var t=e.voucher;if(t){var r=t.shop_id,n=t.quota_type,i=t.use_type;if(r&&!_)return;var u=n===p.Y.USAGE_CONTROLLED_PRIVATE_VOUCHER,h=i&&i===p.yD.PUBLIC;if(u||h)return a().createElement(kt,{className:l,invalid:o,onTop:c},s)}}))})),Bt=r(26355),Wt=r(7e3),Yt=r(89296),jt=r(39662),Kt=r(98523),zt=(0,f.Kd)(),Xt=(0,u.withI18nCollections)([l.L])((function(e){var t=e.voucher,r=e.shouldBeClickable,n=e.className,a=e.preSource,i=t.ui_display_type,c=o.useState(!1),l=c[0],s=c[1],_=(0,A.np)(t),h=(0,Vt.Z)(_?"UseLaterLink":"UseLink",e),f=(0,Kt.J)("FSV_VLP_VOUCHER_TOGGLE","FSV_VLP_VOUCHER_TOGGLE_WEB")[0],d=(0,H.useSelector)((function(e){return(0,V.Au)(e.featureToggles,x.v_0)})),m=(0,v.oW)(),E=(0,A.Nq)(t),O=(0,A.Z2)(t)||E,g=O&&i===p.ob.PUBLISHER_OPV,y=r?g?p.LH:(0,jt.D)(t,{useVLP:d,fromMyVoucherPage:!0,enableEncodeUrl:m,preSource:a},null==f?void 0:f.parameter):void 0;f&&"homepage"===f.parameter?(0,A.np)(t)&&!(0,A.wi)(t)&&(y=(0,A.Xz)(t,y,f.parameter)):(0,A.np)(t)&&(y=(0,A.Xz)(t,y));var R="TH"===zt||"VN"===zt;return o.createElement(o.Fragment,null,o.createElement("div",{onClick:function(e){h(),O&&s(!0),e.stopPropagation()}},o.createElement(Yt.Z,{className:n,to:O||g?void 0:y},(0,A.np)(t)&&!O?(0,u.t)("label_voucher_use_later"):(0,u.t)("label_use"))),o.createElement(Ht.Z,{isOpen:l,onOverlayClick:function(){return s(!1)}},o.createElement(je.bO,{customDesc:(0,u.t)("page_wallet_label_app_only"),customTitle:R||E?(0,u.t)("msg_voucher_airpay_offline_popup"):O?(0,u.t)("msg_download_app_to_use_voucher"):(0,u.t)("msg_voucher_shopeepay_offline_popup"),targetType:"VoucherWallet.DownloadAppPopup"})))})),Qt=r(26589),Zt=r(51408),qt=r(14047),Jt=(0,u.withI18nCollections)([l.L])((0,ue.Z)((function(e){var t,r=e.className,n=e.voucher,a=e.shouldBeClickable,i=e.trackingClick,l=e.dpSource,s=n.voucher_code,_=n.promotionid,h=n.signature,f=o.useState(!1),d=f[0],m=f[1],E=(0,v.oW)(),O=(0,v.T_)(),g=(0,A.Z2)(n)||(0,A.Nq)(n),y=2===(0,Zt.getVariateConfig)("dp.CP");if((0,A.iK)(n)&&y){var R=(0,A.ZD)({activityId:_,voucherCode:s,dp_from_source:l||p.aB.VOUCHER_WALLET_HOME});t=Qt.Sl.getUrl(R)}else t=a?{pathname:O.getUrl(E?void 0:{voucherCode:s||"0",promotionId:_,signature:h||""}),search:(0,qt.Wc)(Object.assign({action:g?"use_now":"use"},E?{evcode:(0,v._B)(s||"0"),promotionId:_,signature:h||""}:null))}:"";return o.createElement(o.Fragment,null,o.createElement("div",{className:c()("YtTFfx","_31O9Wz",r),onClick:function(e){i(),g&&m(!0),e.stopPropagation()}},a&&!g?o.createElement(K.Link,{to:t},(0,u.t)("label_voucher_tnc")):o.createElement("div",{className:c()("Qf4rJ8",g&&"b45rQq")},(0,u.t)("label_voucher_tnc"))),o.createElement(Ht.Z,{isOpen:d,onOverlayClick:function(){m(!1)}},o.createElement(je.bO,{customDesc:(0,u.t)("page_wallet_label_app_only"),customTitle:(0,u.t)("msg_download_app_to_use_voucher"),targetType:"VoucherWallet.DownloadAppPopup"})))}),"TCLink")),$t="ysKaPV";function er(e){var t,r=e.voucher,n=e.isEnabled,o=e.isClickable,i=e.voucherStatus,u=e.voucherLocation,l=e.status,s=e.highlighted,_=void 0!==s&&s,h=e.dpSource,f=e.preSource,p=(0,A.AE)(r);return a().createElement(Te,{className:c()("_8fIXo+",(t={},t._4tVdMA=_,t.ysKaPV=p,t)),grayscale:!n,voucherStatus:i,voucher:r,voucherLocation:u},a().createElement(Wt.Z,{voucher:r,isEnabled:n}),a().createElement("div",{className:c()("-noJH7","_2I7nMk","_3n5QZ7",!n&&"ifVQph")},n&&a().createElement(Xt,{voucher:r,className:c()("NGQ9Qe",p?$t:""),voucherStatus:i,voucherLocation:u,shouldBeClickable:o,preSource:f}),a().createElement(Jt,{className:p?$t:"",voucher:r,voucherStatus:i,voucherLocation:u,shouldBeClickable:o,status:l,dpSource:h})))}function tr(e){var t,r=e.voucher,n=e.status,a=e.className,i=e.isClickable,l=e.voucherLocation,s=e.highlighted,_=void 0!==s&&s,h=e.dpSource,f=e.preSource,d=r.reward_type,v=r.left_count,m=r.shop_id,E=r.voucher_market_type,O=(r.quota_type,1===n),g=2===n,y=!O&&!g,R=0===v,C=(0,Bt.lT)(e.voucher),N=(p.Y.USAGE_CONTROLLED_PRIVATE_VOUCHER,d===p.$P.FREE_SHIPPING_VOUCHER),L=E===p.Tc.DIGITAL_PURCHASE,T=E===p.Tc.OFFLINE_PAYMENT,S=(0,A.Nq)(r),I=1===n?"used":2===n?"invalid":"valid",b=i?{to:z.Ri.getUrl({shopId:m})}:{},w=(0,Ze.Z)("VoucherWalletCard",e);return o.createElement("div",{className:"zwg7RL",ref:w},o.createElement(Le,{className:c()("KLU19H",a),voucher:r},o.createElement("div",{className:"sCUh+W"},N?o.createElement(se,{grayscale:!y,voucherStatus:I,voucher:r,voucherLocation:l}):L?o.createElement(Ae,{grayscale:!y,voucherStatus:I,voucher:r,voucherLocation:l}):T||S?o.createElement(me,{grayscale:!y,voucherStatus:I,voucher:r,voucherLocation:l}):m?o.createElement(Yt.Z,b,o.createElement(fe,{shopTypeVisible:!0,grayscale:!y,className:c()("a61c6M",(t={},t.gMXfIx=_,t)),voucherStatus:I,voucher:r,voucherLocation:l})):o.createElement(ye,{grayscale:!y,voucherStatus:I,voucher:r,voucherLocation:l})),o.createElement(er,{voucher:r,status:n,isEnabled:y,isClickable:i,voucherStatus:I,voucherLocation:l,highlighted:_,dpSource:h,preSource:f}),y?o.createElement(Gt,null):o.createElement("div",{className:c()("-dtmFA","VeUMfQ")},O?(0,u.t)("label_voucher_badge_used"):C?(0,u.t)("label_voucher_badge_expired"):R?(0,u.t)("label_voucher_fully_redeemed"):g?(0,u.t)("label_voucher_badge_invalid"):void 0)))}tr.defaultProps={isClickable:!0};var rr=(0,u.withI18nCollections)([l.ez])(tr);function nr(e){return a().createElement("svg",{width:"5",height:"6",viewBox:"0 0 5 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className},a().createElement("path",{d:"M1.50391 0.716797L2.50977 2.46973L3.53516 0.716797H4.8291L3.22754 3.30957L4.89258 6H3.59863L2.52441 4.17383L1.4502 6H0.151367L1.81152 3.30957L0.214844 0.716797H1.50391Z",fill:"#EE4D2D"}))}function or(e){return a().createElement("div",{className:c()("oJmMfg",e.className)},a().createElement(nr,{className:c()("Nsg2GP",e.iconClassName)})," ",a().createElement("div",null,e.num))}r(57351)},57351:function(e,t,r){"use strict";r.d(t,{GN:function(){return s}});var n,o=r(63804),a=r(86704),i=r(41064),c=r(25632),u=Object.freeze(((n={})[i.eg.CLAIM_ERROR_UNKNOWN]="msg_voucher_server_error",n[i.eg.CLAIM_ERROR_EXIST]="alert_claim_error_exist",n[i.eg.CLAIM_ERROR_INVALID]="alert_claim_error_invalid",n[i.eg.CLAIM_ERROR_EXPIRED]="alert_claim_error_expired",n[i.eg.CLAIM_ERROR_NO_QUOTA]="alert_claim_error_no_quota",n[i.eg.CLAIM_ERROR_USER_SCOPE]="alert_claim_error_user_scope",n[i.eg.CLAIM_ERROR_NOT_START]="alert_claim_error_not_start",n[i.eg.CLAIM_ERROR_FROM_SELF_SHOP]="alert_claim_error_self_shop",n[i.eg.CLAIM_ERROR_NOT_FOUND]="alert_claim_error_not_found",n));function l(e){var t=e.errorCode;return(0,a.useI18nCollections)(c.L),o.createElement(o.Fragment,null,(0,a.t)(u[t]||"msg_voucher_server_error"))}var s=function(e){return o.createElement(o.Suspense,{fallback:""},o.createElement(l,{errorCode:e}))}},16826:function(e,t,r){"use strict";r.d(t,{vg:function(){return be},zH:function(){return n},Vn:function(){return Q},Nb:function(){return Pe},zz:function(){return we},iI:function(){return Ie},LN:function(){return Te},xD:function(){return Oe},u$:function(){return Ee},F8:function(){return me},C8:function(){return q},TT:function(){return ye},Ek:function(){return Re},i:function(){return ge},AU:function(){return Ae},WF:function(){return Ne},Vk:function(){return Ce},Ex:function(){return Le}});var n={};r.r(n),r.d(n,{URL_BATCH_GET_VOUCHERS_BY_PROMOTION_IDS:function(){return m},URL_BATCH_GET_VOUCHER_BY_PRMOTION_ID:function(){return d},URL_BATCH_GET_VOUCHER_BY_PRMOTION_ID_LITE:function(){return v},URL_BFF_BATCH_GET_VOUCHERS_BY_PROMOTION_IDS:function(){return E},URL_COLLECTIONS_GET_VOUCHERS:function(){return V},URL_GET_BFF_RECOMMENDED_MICROSITE_GRID_VOUCHERS:function(){return D},URL_GET_BFF_RECOMMENDED_VOUCHERS:function(){return P},URL_GET_MPI_RECOMMENDED_OPV:function(){return H},URL_GET_MPI_RECOMMENDED_VOUCHERS_BY_MODEL:function(){return M},URL_GET_PARTNER_VOUCHERS:function(){return c},URL_GET_RECOMMENDED_VOUCHERS_BY_MODEL:function(){return U},URL_GET_RECOMMEND_LITE_VOUCHERS:function(){return A},URL_GET_RECOMMEND_PLATFORM_VOUCHERS:function(){return R},URL_GET_RECOMMEND_SHOP_VOUCHERS:function(){return y},URL_GET_RECOMMEND_VOUCHERS:function(){return i},URL_GET_SHOP_VOUCHERS_BY_SHOPID:function(){return _},URL_GET_SHOP_VOUCHERS_BY_SHOPID_LITE:function(){return h},URL_GET_SHOP_VOUCHER_LIST_BY_SHOPID:function(){return f},URL_GET_SHOP_VOUCHER_LIST_BY_SHOPID_LITE:function(){return p},URL_GET_USER_VOUCHER_BY_TIME:function(){return O},URL_GET_USER_VOUCHER_LIST:function(){return b},URL_GET_USER_VOUCHER_LIST_META:function(){return w},URL_GET_VOUCHERS:function(){return o},URL_GET_VOUCHERS_LITE:function(){return a},URL_GET_VOUCHER_BY_PRMOTION_ID:function(){return s},URL_GET_VOUCHER_TERMS_AND_CONDITIONS:function(){return g},URL_MARK_PARTNER_VOUCHERS:function(){return u},URL_SAVE_PLATFORM_VOUCHER_BY_VOUCHER_CODE:function(){return N},URL_SAVE_SHOP_VOUCHER:function(){return L},URL_SAVE_SHOP_VOUCHER_BY_VOUCHER_CODE:function(){return C},URL_SAVE_VOUCHER:function(){return l},URL_VALIDATE_PLATFORM_VOUCHER_BY_VOUCHER_CODE:function(){return S},URL_VALIDATE_SHOP_VOUCHER_BY_VOUCHER_CODE:function(){return T},URL_VALIDATE_VOUCHER_DRAWER:function(){return I}}),r(14047);var o="/api/v2/voucher_wallet/get_vouchers",a="/api/v2/voucher_wallet/spl/get_vouchers",i="/api/v2/voucher_wallet/get_recommend_vouchers",c="/api/v2/voucher_wallet/get_partner_vouchers",u="/api/v2/voucher_wallet/mark_partner_voucher",l="/api/v2/voucher_wallet/save_voucher",s="/api/v2/voucher_wallet/get_free_shipping_voucher_by_promotion_id",_="/api/v2/voucher_wallet/get_shop_vouchers_by_shopid",h="/api/v2/voucher_wallet/spl/get_shop_vouchers_by_shopid",f="/api/v2/voucher_wallet/get_shop_voucher_list_by_shopid",p="/api/v2/voucher_wallet/spl/get_shop_voucher_list_by_shopid",d="/api/v2/voucher_wallet/batch_get_voucher_by_promotion_id",v="/api/v2/voucher_wallet/spl/batch_get_voucher_by_promotion_id",m="/api/v2/voucher_wallet/batch_get_vouchers_by_promotion_ids",E="/api/v4/voucher_wallet/batch_get_vouchers_by_promotion_ids",O="/api/v2/voucher_wallet/get_user_voucher_by_time",g="/api/v2/voucher_wallet/get_voucher_terms_and_conditions",y="/api/v2/voucher_wallet/get_recommend_shop_vouchers",R="/api/v2/voucher_wallet/get_recommend_platform_vouchers",C="/api/v2/voucher_wallet/save_shop_voucher_by_voucher_code",N="/api/v2/voucher_wallet/save_platform_voucher_by_voucher_code",L="/api/v2/voucher_wallet/save_shop_voucher",T="/api/v2/voucher_wallet/validate_shop_voucher_by_voucher_code",S="/api/v2/voucher_wallet/validate_platform_voucher_by_voucher_code",I="/api/v4/voucher_wallet/validate_voucher_drawer",A="/api/v2/voucher_wallet/spl/get_recommend_vouchers",b="/api/v2/voucher_wallet/get_user_voucher_list",w="/api/v4/voucher_wallet/get_user_voucher_list_meta",P="/api/v4/recommend/recommend",D="/api/v4/mpi/get_microsite_recommended_vouchers",U="/api/v4/voucher/get_recommended_vouchers_by_model",M="/api/v4/mpi/rcmd/get_recommended_vouchers_by_model",H="/api/v4/mpi/rcmd/get_recommended_opv",V="/api/v4/microsite/get_vouchers",x=r(86704),F=r(17111);function k(){k=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),i=new C(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=g(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var s={};function _(){}function h(){}function f(){}var p={};c(p,o,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var m=f.prototype=_.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,a,i,c){var u=l(e[o],e,a);if("throw"!==u.type){var s=u.arg,_=s.value;return _&&"object"==typeof _&&r.call(_,"__await")?t.resolve(_.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(_).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function g(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,c(m,"constructor",f),c(f,"constructor",h),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(m),c(m,i,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}function B(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){B(a,n,o,i,c,"next",e)}function c(e){B(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Y=90309999;function j(e){return K.apply(this,arguments)}function K(){return(K=W(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error!==Y){e.next=2;break}return e.abrupt("return",new Promise((function(){})));case 2:if(!t.error){e.next=6;break}return e.abrupt("return",{error:t.error,error_msg:t.error_msg,data:t.data,response:void 0});case 6:return e.abrupt("return",{response:G({},t,{status:t.__raw.status,headers:t.__raw.headers})});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z="Voucher.PC",X=function(){return G({apiProtection:{signatureLevel:2}},{antiCrawler:{appKey:z,shouldReplaceHistory:!1}})};function Q(e,t){return Z.apply(this,arguments)}function Z(){return(Z=W(k().mark((function e(t,r){var n,o,a,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,F.ZP)(null!=(n=X())?n:{},null!=(o=null==r?void 0:r.antiFraudConfig)?o:{}),e.next=3,x.FetchUtils.get(t,G({},r,{antiFraudConfig:a}));case 3:return i=e.sent,e.next=6,j(i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,r){return J.apply(this,arguments)}function J(){return(J=W(k().mark((function e(t,r,n){var o,a,i,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,F.ZP)(null!=(o=X())?o:{},null!=(a=null==n?void 0:n.antiFraudConfig)?a:{}),e.next=3,x.FetchUtils.post(t,r||{},G({},n,{antiFraudConfig:i}));case 3:return c=e.sent,e.next=6,j(c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){$=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),i=new C(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=g(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var s={};function _(){}function h(){}function f(){}var p={};c(p,o,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(N([])));v&&v!==t&&r.call(v,o)&&(p=v);var m=f.prototype=_.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,a,i,c){var u=l(e[o],e,a);if("throw"!==u.type){var s=u.arg,_=s.value;return _&&"object"==typeof _&&r.call(_,"__await")?t.resolve(_.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(_).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function g(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,c(m,"constructor",f),c(f,"constructor",h),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(m),c(m,i,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ee(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function te(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ee(a,n,o,i,c,"next",e)}function c(e){ee(a,n,o,i,c,"throw",e)}i(void 0)}))}}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)}var ne=R,oe=C,ae=N,ie=L,ce=l,ue=T,le=S,se=I,_e=y,he=b,fe=w,pe=M,de=H,ve=m;function me(e,t,r,n,o){var a=o?{headers:o}:{};return q("/api/v2/voucher_wallet/get_voucher_detail",re({promotionid:e,voucher_code:t,signature:r},n),re({},a,{antiFraudConfig:{antiCrawler:{shouldReplaceHistory:!0}}}))}function Ee(e,t){var r=e.orders,n=e.shopid,o=e.group_buy_info,a=e.slash_price_info,i=e.spm_channel_id,c=e.legacy_spm_channel_id,u=e.check_voucher_payment_criteria,l=e.selected_payment_channel_data,s=e.card_bin_number,_=e.sorting_flag,h=e.priority_promotion_ids,f=e.has_redeem_coins,p=e.platform_vouchers;return q(_e,{orders:r,shopid:n,group_buy_info:o,slash_price_info:a,spm_channel_id:i,legacy_spm_channel_id:c,check_voucher_payment_criteria:u,selected_payment_channel_data:l,card_bin_number:s,sorting_flag:_,priority_promotion_ids:h,has_redeem_coins:f,platform_vouchers:p},t?{headers:t}:{})}function Oe(e,t){var r=e.orders,n=e.group_buy_info,o=e.slash_price_info,a=e.voucher_market_type,i=e.dp_items,c=e.check_voucher_payment_criteria,u=e.selected_payment_channel_data,l=e.spm_channel_id,s=e.legacy_spm_channel_id,_=e.card_bin_number,h=e.need_wallet_active_info,f=e.sorting_flag,p=e.priority_promotion_ids,d=e.voucher_payment_type,v=e.has_redeem_coins;return q(ne,re({orders:r,group_buy_info:n,slash_price_info:o,voucher_market_type:a,dp_items:i,check_voucher_payment_criteria:c,selected_payment_channel_data:u,spm_channel_id:l,legacy_spm_channel_id:s,card_bin_number:_,need_wallet_active_info:h,sorting_flag:f,priority_promotion_ids:p},null!=d?{voucher_payment_type:d}:{},{has_redeem_coins:v}),t?{headers:t}:{})}function ge(e,t){var r=e.voucher_code,n=e.shopid;return q(oe,{voucher_code:r,shopid:n},re({},t?{headers:t}:{}))}function ye(e,t){var r=e.voucher_code;return q(ae,{voucher_code:r},re({},t?{headers:t}:{}))}function Re(e,t){var r=e.promotionid,n=e.voucher_code,o=e.shopid;return q(ie,{promotionid:r,voucher_code:n,shopid:o},re({},t?{headers:t}:{}))}function Ce(e,t){return q(ue,e,re({},t?{headers:t}:{}))}function Ne(e,t){return q(le,e,re({},t?{headers:t}:{}))}function Le(e,t){return q(se,e,t?{headers:t}:{})}function Te(e,t){return Se.apply(this,arguments)}function Se(){return(Se=te($().mark((function e(t,r){var n,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===(n=re({},t)).user_voucher_list_type&&delete n.user_voucher_list_type,e.next=4,q(he,re({},n,{limit:n.limit||30,cursor:n.cursor||"",voucher_sort_flag:n.voucher_sort_flag||1}),r?{headers:r}:{});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return q(fe,{},e?{headers:e}:{})}function Ae(e,t){var r=e.voucher_code,n=e.voucher_promotionid,o=e.promotion_signature,a=e.need_user_voucher_status,i=e.source,c=e.sz_dfp,u=e.need_sz_dfp,l=void 0!==u&&u;return q(ce,re({voucher_code:r,voucher_promotionid:n,signature:o},c&&{security_device_fingerprint:c},a?{need_user_voucher_status:a}:{},null==i?{}:{signature_source:i}),re({},l?{antiFraudConfig:{deviceFingerPrint:{dataFormatter:function(e){return{security_device_fingerprint:e}}}}}:{},t?{headers:t}:{}))}function be(e,t,r){return q(ve,{promotion_info:e,need_user_voucher_status:!!t},r?{headers:r}:{})}function we(e){return q(pe,e)}function Pe(e){return q(de,e)}},69664:function(e,t,r){"use strict";r.d(t,{nE:function(){return l},ld:function(){return s},us:function(){return _},U:function(){return h},x2:function(){return f},Ho:function(){return p},AS:function(){return d},G:function(){return v},ce:function(){return m},yl:function(){return E}});var n=r(33914),o=r(43255);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}var i=(0,o.getUtilsByCountry)((0,n.Kd)(),n.of?(0,n.of)():void 0),c=i.localizeCompactNumber,u=i.compactCurrency;function l(e){return e=parseFloat(String(e||0))/1e5,isFinite(e)?"zh-Hant"===(0,n.of)()?parseFloat(((100-e)/10).toFixed(3)):parseFloat(e.toFixed(2)):e}var s=function(e,t){switch(t){case"TH":case"TW":return(0,o.formatCurrency)(t,(0,o.deflateServerNumber)(e,t));case"VN":return u((0,o.deflateServerNumber)(e,t),3);default:return u((0,o.deflateServerNumber)(e,t),2)}};function _(e,t,r){void 0===r&&(r=!1);var n=r?{symbol:""}:void 0;switch(t){case"TW":return(0,o.formatCurrency)(t,(0,o.deflateServerNumber)(e,t),n);case"VN":return u((0,o.deflateServerNumber)(e,t),a({maxPrecision:3},n));default:return u((0,o.deflateServerNumber)(e,t),n)}}function h(e,t){return s(e,t)}function f(e,t){return s(e,t)}function p(e,t){switch(t){case"ID":return c(e);case"VN":return u(e,{symbol:"",maxPrecision:3});default:return u(e,{symbol:"",precision:0},[])}}function d(e,t){return r=e,r=parseFloat(String(r||0)),isFinite(r)?"zh-Hant"===(0,n.of)()?Math.round(100-r)/10:Math.round(r):r;var r}var v=function(e){return u(e,{symbol:"",maxPrecision:3})},m=function(e,t){return u((0,o.deflateServerNumber)(e,t),{maxPrecision:3})},E=function(e,t){return u((0,o.deflateServerNumber)(e,t),{maxPrecision:3})}},41064:function(e,t,r){"use strict";r.d(t,{l2:function(){return X},eg:function(){return g},uQ:function(){return Q},Qb:function(){return J},sj:function(){return q},G_:function(){return $},j4:function(){return T},Dh:function(){return I},kv:function(){return K},fq:function(){return S},i8:function(){return y},me:function(){return C},LH:function(){return x},cJ:function(){return F},Xq:function(){return V},W2:function(){return M},h4:function(){return m},fr:function(){return b},Fx:function(){return R},j8:function(){return Z},o$:function(){return U},wK:function(){return d},sU:function(){return D},Y:function(){return A},kG:function(){return P},vc:function(){return j},tz:function(){return L},zQ:function(){return N},$s:function(){return Y},Bq:function(){return p},ob:function(){return w},aB:function(){return z},sd:function(){return f},vT:function(){return B},Tc:function(){return h},e7:function(){return l},O_:function(){return G},zf:function(){return W},QG:function(){return k},Q_:function(){return H},DF:function(){return v},$P:function(){return _},Z$:function(){return O},b4:function(){return E},yD:function(){return s}});var n,o,a,i,c,u=r(33914),l={NOT_MALL_ONLY:0,MALL_ONLY:1},s={PRIVATE:0,PUBLIC:1},_={NORMAL_VOUCHER:0,COIN_CASHBACK_VOUCHER:1,FREE_SHIPPING_VOUCHER:2,PREPAID_CASHBACK:3,PREPAID_COIN_CASHBACK:4,PREPAID_DISCOUNT:5,SHIPPING_FEE:6},h={DEFAULT_MARKET_PLACE:1,DIGITAL_PURCHASE:2,CASHLOAN_BUYER:3,OFFLINE_PAYMENT:4,CASHLOAN_SELLER:5,SHOPEE_EXPRESS:6,SHOPEE_FOOD:8,SHOPEEPAY_LATER:9},f={UNKNOWN:0,NOW_FOOD:1,AIRPAY_OPV:2,PARTNER:3},p={NEW_USER:1,SHOPEEPAY:2,SHOPEEPAY_LATER:3,JKO_PAY:4,LIVE_ONLY:5,VIDEO_ONLY:6},d={NORMAL:1,NORMAL_WITH_SHADOW:2,FLAT:3,FLAT_WITH_SHADOW:4},v={ALL:0,SHOPEE_VOUCHER:1,SHOP_VOUCHER:2,NOWFOOD_VOUCHER:3,OFFLINE_VOUCHER:4,DP_VOUCHER:5},m={ALL:0,SHOPEE_VOUCHER:1,SELLER_VOUCHER:2,DP_VOUCHER:3,OFFLINE_PAYMENT_VOUCHER:4,NOWFOOD_VOUCHER:5,PARTNER_VOUCHER:6,SHOPEE_FOOD_VOUCHER:7,FINANCIAL_PRODUCT_VOUCHER:9,SHOPEE_EXPRESS_VOUCHER:8},E={VALID:1,USED:2,INVALID:3},O={LATEST_SAVE_TIME:1,HIGHEST_GLOBAL_USAGE_RATE:2,LOWEST_TIME_TO_EXPIRY:3,LOWEST_TIME_TO_EXPIRY_WITHOUT_FILTER:5},g=(Object.freeze({DROPPED:-2,UNKNOWN:-1,NOT_FOUND:4,EXISTS:5,PROMOTION:14}),Object.freeze({CLAIM_ERROR_UNKNOWN:-1,CLAIM_ERROR_OK:0,CLAIM_ERROR_EXIST:1,CLAIM_ERROR_INVALID:2,CLAIM_ERROR_EXPIRED:3,CLAIM_ERROR_NO_QUOTA:4,CLAIM_ERROR_USER_SCOPE:5,CLAIM_ERROR_NOT_START:6,CLAIM_ERROR_FROM_SELF_SHOP:7,CLAIM_ERROR_NOT_FOUND:8})),y=Object.freeze({ERROR:-1,NONE:0,INVALID:1,WRONG_CODE:2,CODE_EXPIRED:3,NO_QUOTA:4,NO_APPLICABLE:5,ALREADY_USED:6,MIN_BUCKET_NOT_MET:7,NOT_STARTED:8,INVALID_COUNTRY:9,NOT_COMPLETE_TASK:10,UA_NO_MATCH:14,FROM_SELLER_OWN_SHOP:16,PAYMENT_NOT_MATCH:17,CLAIM_NOT_START:18,LOGISTICS_NOT_MATCH:19,NO_COMMON_PAYMENT_CRITERIA:21,ALLOW_DISPLAY:22,PAYMENT_FROZEN:23}),R={PLATFORM:1},C=((n={})[y.ERROR]="error",n[y.NONE]="none",n[y.INVALID]="invalid",n[y.WRONG_CODE]="wrong_code",n[y.CODE_EXPIRED]="code_expired",n[y.NO_QUOTA]="no_quota",n[y.NO_APPLICABLE]="no_applicable",n[y.ALREADY_USED]="already_used",n[y.MIN_BUCKET_NOT_MET]="min_bucket_not_met",n[y.NOT_STARTED]="not_started",n[y.INVALID_COUNTRY]="invalid_country",n[y.NOT_COMPLETE_TASK]="not_complete_task",n[y.UA_NO_MATCH]="ua_no_match",n[y.FROM_SELLER_OWN_SHOP]="from_seller_own_shop",n[y.PAYMENT_NOT_MATCH]="payment_not_match",n[y.CLAIM_NOT_START]="claim_not_start",n[y.LOGISTICS_NOT_MATCH]="logistics_not_match",n[y.NO_COMMON_PAYMENT_CRITERIA]="no_common_payment_criteria",n[y.ALLOW_DISPLAY]="allow_display",n[y.PAYMENT_FROZEN]="payment_frozen",n),N={UNCLAIMED:"unclaimed",CLAIMED_VALID:"claimed_valid",CLAIMED_INVALID:"claimed_invalid"},L={GO_SHOPPING:"go_shopping",ADD_MORE:"add_more",ACTIVE_NOW:"active_now",USE_LATER:"use_later"},T=[y.CODE_EXPIRED,y.NO_QUOTA,y.NOT_STARTED,y.INVALID,y.WRONG_CODE,y.NOT_COMPLETE_TASK,y.ALREADY_USED,y.FROM_SELLER_OWN_SHOP,y.INVALID_COUNTRY,y.CLAIM_NOT_START],S=[y.INVALID,y.WRONG_CODE,y.CODE_EXPIRED,y.NO_QUOTA,y.NOT_STARTED,y.NOT_COMPLETE_TASK,y.ALREADY_USED,y.FROM_SELLER_OWN_SHOP,y.INVALID_COUNTRY],I=[y.NO_APPLICABLE,y.MIN_BUCKET_NOT_MET,y.LOGISTICS_NOT_MATCH,y.UA_NO_MATCH,y.PAYMENT_NOT_MATCH,y.ALLOW_DISPLAY],A={CLAIM_CONTROLLED_PRIVATE_VOUCHER:0,USAGE_CONTROLLED_PRIVATE_VOUCHER:1},b=Object.freeze({UNKNOWN:-1,OK:0,EXPIRED:1,FULLY_REDEEMED:2,VALID_NOT_START:3,CLAIM_NOT_START:4,USER_SCOPE_NOT_MET:5,ALREADY_USED:6,FULLY_CLAIMED:7,FROM_OWN_SHOP:8,NOT_FOUND:9,NON_CLAIMABLE:10}),w=(b.UNKNOWN,b.EXPIRED,b.FULLY_REDEEMED,b.VALID_NOT_START,b.CLAIM_NOT_START,b.USER_SCOPE_NOT_MET,b.ALREADY_USED,b.FULLY_CLAIMED,b.FROM_OWN_SHOP,b.NOT_FOUND,b.NON_CLAIMABLE,{DEFAULT:0,SHOPPING_MALL_OPV:1,PUBLISHER_OPV:2,COD_OPV:3,SKU_OPV:4}),P={ID:0,TH:50,SG:50,VN:50,TW:50,PH:50,MY:50,BR:50,MX:50,CO:50,CL:50,AR:50,FR:50,PL:50,ES:50,IN:50},D={ID:{FIRST_TIER:25,SECOND_TIER:75},TH:{FIRST_TIER:50,SECOND_TIER:75},SG:{FIRST_TIER:50,SECOND_TIER:75},VN:{FIRST_TIER:50,SECOND_TIER:75},TW:{FIRST_TIER:50,SECOND_TIER:75},PH:{FIRST_TIER:50,SECOND_TIER:75},MY:{FIRST_TIER:50,SECOND_TIER:75},BR:{FIRST_TIER:50,SECOND_TIER:75},MX:{FIRST_TIER:50,SECOND_TIER:75},CO:{FIRST_TIER:50,SECOND_TIER:75},CL:{FIRST_TIER:50,SECOND_TIER:75},AR:{FIRST_TIER:50,SECOND_TIER:75},FR:{FIRST_TIER:50,SECOND_TIER:75},PL:{FIRST_TIER:50,SECOND_TIER:75},ES:{FIRST_TIER:50,SECOND_TIER:75},IN:{FIRST_TIER:50,SECOND_TIER:75}},U=5,M={SIGNATURE_SOURCE_DEFAULT:0,SIGNATURE_SOURCE_ROYALTY_USER:1,SIGNATURE_SOURCE_VOUCHER_CORE:2,SIGNATURE_SOURCE_MICROSITE:3,SIGNATURE_SOURCE_GAME_LUCKY_DRAW:4,SIGNATURE_SOURCE_INCENTIVE_SYSTEM:5,SIGNATURE_SOURCE_NEW_USER_ZONE:6,SIGNATURE_SOURCE_SELLER_MEMBERSHIP:7,SIGNATURE_SOURCE_PDP_BFF:8,SIGNATURE_SOURCE_VOUCHER_BFF:9,SIGNATURE_SOURCE_MPI_BFF:11},H={VOUCHER_VIEW_DEFAULT:0,VOUCHER_VIEW_ID:1,VOUCHER_VIEW_V4_RECOMMENDED_VOUCHER:1e3,VOUCHER_VIEW_V2_VOUCHER_CARD:1e5},V={preferred:{SG:null,ID:"5d8f830f48797d0743e2df4f9d9e2798?width=125&height=70",PH:"28e70c63dc9c3b9f0e4ec771d3d97da4?width=290&height=70",TH:"f2bd60c489a0bc7a2afb1f2c58a3c197",TW:"02007b1ccd2534395b381846c68680f2?width=200&height=70",VN:"c21b153ed2524337f929ddcb03dca6f2",MY:null,BR:null,MX:null,CO:null,CL:null},mall:{SG:"5b8fb0c872a5435b89736fe2dfd45add",ID:"4844cfbea954bfcdb8d7232f946122ee?width=125&height=70",PH:"8bc2fddd261b63ea3f2db4f3ac004664?width=120&height=70",TH:"8bc2fddd261b63ea3f2db4f3ac004664?width=120&height=70",TW:"98f562af7803bf8bebc9742b4be3f3d8?width=110&height=70",VN:"8bc2fddd261b63ea3f2db4f3ac004664?width=120&height=70",MY:null,BR:null,MX:null,CO:null,CL:null},preferred_mall:{SG:null,ID:"cd95e71737d7e9d6d017b9acd22bbff2?width=300&height=70",PH:"c9dbb09b61597ab5d1613af71a59ba1f?width=300&height=70",TH:null,TW:"b2c822995c9d96d5938ea8492ea73210?width=240&height=70",VN:"460aa43128b1ecc6867ae6db8fe30a21",MY:null,BR:null,MX:null,CO:null,CL:null}},x={ID:"/m/PakaiVoucherGooglePlay",TH:"/m/HowtoRedeemGooglePlay",MY:"/m/HowtoRedeemGooglePlay",PH:"/m/HowtoRedeemGooglePlay",SG:"/m/HowtoRedeemGooglePlay"}[(0,u.Kd)()]||"",F={SCENE_MICRO_SITE:1,SCENE_GAME_LUCK_DRAW:2,SCENE_MY_VOUCHER:3,SCENE_MY_VOUCHER_V2:5},k={OLD_FLOW:0,DAYS:1,HOURS:2,MINUTES:3},G={VOUCHER_RECOMMEND_SORT_FLAG_OLD:0,VOUCHER_RECOMMEND_SORT_FLAG_DEFAULT:1,VOUCHER_RECOMMEND_SORT_FLAG_CART:2,VOUCHER_RECOMMEND_SORT_FLAG_START_TIME_DESC:3,VOUCHER_RECOMMEND_SORT_FLAG_ITEM_CARD:4,VOUCHER_RECOMMEND_SORT_FLAG_BEST_VALUE_FOR_ITEM:5,VOUCHER_RECOMMEND_SORT_FLAG_BEST_VALUE:6,VOUCHER_RECOMMEND_SORT_FLAG_CART_AUTO_APPLY_NEW_USER:7,VOUCHER_RECOMMEND_SORT_FLAG_VOUCHER_DRAWER:8},B={DEFAULT_PAGE:1,ORDER_PAID_PAGE:2,FEED:4,LIVE_STREAMING:8,CHAT:16,FOOD_STORE_PAGE:32},W={NOT_APPLICABLE:0,SHOP_WELCOME:1,SECOND_ORDER:2,THIRD_ORDER:3},Y={SELLER_CENTER:2},j={NO_POPUP:0,SPP_POPUP:1,SPL_POPUP:2},K=((o={})[y.ERROR]="msg_voucher_server_error",o[y.INVALID]="msg_voucher_invalid",o[y.WRONG_CODE]="msg_voucher_wrong_code",o[y.CODE_EXPIRED]="msg_voucher_code_expired",o[y.NO_QUOTA]="msg_voucher_no_quota",o[y.NO_APPLICABLE]="msg_voucher_no_applicable",o[y.ALREADY_USED]="msg_voucher_already_used",o[y.MIN_BUCKET_NOT_MET]="msg_voucher_min_bucket_not_met",o[y.NOT_STARTED]="msg_voucher_not_started",o[y.NOT_COMPLETE_TASK]="msg_voucher_not_complete_task",o[y.UA_NO_MATCH]="msg_voucher_ua_no_match",o[y.FROM_SELLER_OWN_SHOP]="msg_voucher_from_seller_own_shop",o[y.PAYMENT_NOT_MATCH]="msg_voucher_payment_not_match",o[y.CLAIM_NOT_START]="msg_voucher_claim_not_start",o[y.LOGISTICS_NOT_MATCH]="msg_voucher_logistics_not_match",o[y.ALLOW_DISPLAY]="voucher_card_promotion_error_upcoming_voucher",(a={})[g.CLAIM_ERROR_UNKNOWN]="msg_claim_error_unknown",a[g.CLAIM_ERROR_OK]="msg_claim_error_ok",a[g.CLAIM_ERROR_EXIST]="msg_claim_error_already_claimed",a[g.CLAIM_ERROR_INVALID]="msg_claim_error_invalid",a[g.CLAIM_ERROR_EXPIRED]="msg_claim_error_expired",a[g.CLAIM_ERROR_NO_QUOTA]="msg_claim_error_no_quota",a[g.CLAIM_ERROR_USER_SCOPE]="msg_claim_error_user_scope",a[g.CLAIM_ERROR_NOT_START]="msg_claim_error_not_start",a[g.CLAIM_ERROR_FROM_SELF_SHOP]="msg_claim_error_self_shop",a[g.CLAIM_ERROR_NOT_FOUND]="msg_claim_error_not_found",(i={})[g.CLAIM_ERROR_UNKNOWN]="msg_input_claim_error_unknown",i[g.CLAIM_ERROR_OK]="msg_input_claim_error_ok",i[g.CLAIM_ERROR_EXIST]="msg_input_claim_error_already_claimed",i[g.CLAIM_ERROR_INVALID]="msg_input_claim_error_invalid",i[g.CLAIM_ERROR_EXPIRED]="msg_input_claim_error_expired",i[g.CLAIM_ERROR_NO_QUOTA]="msg_input_claim_error_no_quota",i[g.CLAIM_ERROR_USER_SCOPE]="msg_input_claim_error_user_scope",i[g.CLAIM_ERROR_NOT_START]="msg_input_claim_error_not_start",i[g.CLAIM_ERROR_FROM_SELF_SHOP]="msg_input_claim_error_self_shop",i[g.CLAIM_ERROR_NOT_FOUND]="msg_input_claim_error_not_found",(c={})[y.INVALID]="msg_input_voucher_invalid",c[y.WRONG_CODE]="msg_input_voucher_wrong_code",c[y.CODE_EXPIRED]="msg_input_voucher_code_expired",c[y.NO_QUOTA]="msg_input_voucher_no_quota",c[y.NO_APPLICABLE]="msg_input_voucher_no_applicable",c[y.ALREADY_USED]="msg_input_voucher_already_used",c[y.MIN_BUCKET_NOT_MET]="msg_input_voucher_min_bucket_not_met",c[y.NOT_STARTED]="msg_input_voucher_not_started",c[y.NOT_COMPLETE_TASK]="msg_input_voucher_not_complete_task",c[y.UA_NO_MATCH]="msg_input_voucher_ua_no_match",c[y.FROM_SELLER_OWN_SHOP]="msg_input_voucher_from_seller_own_shop",c[y.PAYMENT_NOT_MATCH]="msg_input_voucher_payment_not_match",c[y.CLAIM_NOT_START]="msg_input_voucher_claim_not_start",c[y.LOGISTICS_NOT_MATCH]="msg_input_voucher_logistics_not_match","#f69113"),z={VOUCHER_WALLET_HOME:"4",VOUCHER_WALLET_HISTORY:"4VoucherHistory",Microsite:"13Voucher",WelcomePackage:"31"},X={SG:"https://help.shopee.sg/portal/article/88502",MY:"https://help.shopee.com.my/portal/article/88289",TH:"https://help.shopee.co.th/portal/article/86417",VN:"https://help.shopee.vn/portal/article/88025",PH:"https://help.shopee.ph/portal/article/83229-[Promotions]-Why-are-promotions-not-applicable-for-products-from-certain-categories?",ID:"https://help.shopee.co.id/portal/article/81669",MX:"https://help.shopee.com.mx/portal/article/88412?source=4",PL:"https://help.shopee.pl/portal/article/87644",ES:"https://help.shopee.es/portal/article/78224-%C2%BFPor-qu%C3%A9-las-promociones-no-son-aplicables-a-los-productos-de-ciertas-categor%C3%ADas?previousPage=secondary%20category",TW:"",BR:"https://help.shopee.com.br/portal/article/88986?source=4",CO:"",CL:"",AR:"",FR:"",IN:""},Q={LIVESTREAM:1,SHORT_VIDEO:2},Z={VOUCHER_PAGES_WALLET:"voucher-pages/wallet",VOUCHER_PAGES_TNC:"voucher-pages/tnc",MICROSITE:"microsite",PRODUCT_PAGE:"product-page",SHOP:"shop",SEARCH:"search",CART:"cart",FLASH_SALE_PAGES:"flash-sale-pages",WELCOME_PAGE:"welcome-package",LOYALTY:"loyalty"},q={EXCEED_DAILY_QUOTA:1,EXCEED_WEEKLY_QUOTA:2,EXCEED_MONTHLY_QUOTA:3},J={ALL:1,WEB:2},$={APPLICABLE:0,NOT_PASS_MIN_SPEND:3,NOT_APPLICABLE_LOGISTICS:4,NO_APPLICABLE_RULES:5,PAYMENT_NOT_MATCH:8,EXCEED_DAILY_QUOTA:9,EXCEED_WEEKLY_QUOTA:10,INVALID_VOUCHER:10,WP_NO_NEED_FSV:11,RP100_WITH_FSV:12,EXCEED_MONTHLY_QUOTA:13}},80950:function(e,t,r){"use strict";r.d(t,{Au:function(){return o},_U:function(){return a},u7:function(){return i},rQ:function(){return c},cI:function(){return u},XB:function(){return l},KW:function(){return s},Ec:function(){return _},mk:function(){return h},Js:function(){return f}});var n=r(5113),o=(0,n.n)("FETCH_SHOP_VOUCHERS"),a=(0,n.n)("BATCH_FETCH_SHOP_VOUCHERS"),i=(0,n.n)("GET_VOUCHER_WALLET_VOUCHER_DETAIL"),c=(0,n.n)("FETCH_RECOMMEND_SHOP_VOUCHER"),u=(0,n.n)("SAVE_SHOP_VOUCHER"),l=(0,n.n)("SAVE_SHOP_VOUCHER_BY_VOUCHER_CODE"),s="ADD_RECOMMEND_SHOP_VOUCHER",_="REMOVE_RECOMMEND_SHOP_VOUCHER",h="UPDATE_RECOMMEND_SHOP_VOUCHER",f="SET_RECOMMEND_SHOP_VOUCHER_CLAIMED"},54777:function(e,t,r){"use strict";r.d(t,{F8:function(){return l},u$:function(){return s},Ek:function(){return _},i:function(){return h},iT:function(){return f},zd:function(){return p},G2:function(){return d}});var n=r(80950),o=r(16826);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(S){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new N(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=y(i,r);if(c){if(c===_)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===_)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var _={};function h(){}function f(){}function p(){}var d={};u(d,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==t&&r.call(m,o)&&(d=m);var E=p.prototype=h.prototype=Object.create(d);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(o,a,i,c){var u=s(e[o],e,a);if("throw"!==u.type){var l=u.arg,_=l.value;return _&&"object"==typeof _&&r.call(_,"__await")?t.resolve(_.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(_).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,_;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,_):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,u(E,"constructor",p),u(p,"constructor",f),f.displayName=u(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},O(g.prototype),u(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new g(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(E),u(E,c,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),_}},e}function c(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,u,"next",e)}function u(e){c(a,n,o,i,u,"throw",e)}i(void 0)}))}}var l=function(e){var t=e.promotionid,r=e.voucher_code,a=e.signature,c=void 0===a?"":a,l=e.need_basic_info,s=void 0!==l&&l,_=e.need_user_voucher_status,h=void 0!==_&&_,f=e.source,p=void 0===f?"0":f,d=e.addition,v=void 0===d?[]:d;return function(){var e=u(i().mark((function e(a){var u,l,_,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:n.u7.REQUESTED,promotionid:t,voucher_code:r,signature:c||"",need_basic_info:s,need_user_voucher_status:h,addition:v}),e.next=3,o.F8(t,r,c||"",{need_basic_info:s,need_user_voucher_status:h,source:p,addition:v});case 3:return u=e.sent,l=u.response,_=u.error,f=u.error_msg,"string"==typeof u.error&&"number"==typeof u.status&&(f=u.error,_=u.status),l&&!l.error&&l.data?a({type:n.u7.SUCCESS,data:l.data,promotionid:t,voucher_code:r,signature:c,need_basic_info:s,need_user_voucher_status:h,addition:v}):a({type:n.u7.FAILED,error:_,error_msg:f,promotionid:t,voucher_code:r,signature:c,need_basic_info:s,need_user_voucher_status:h,addition:v}),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},s=function(e){var t=e.orders,r=e.group_buy_info,c=e.slash_price_info,l=e.spm_channel_id,s=e.legacy_spm_channel_id,_=e.check_voucher_payment_criteria,h=e.card_bin_number,f=e.shopId,p=e.isCheckout,d=e.selected_payment_channel_data,v=e.sorting_flag,m=e.priority_promotion_ids,E=e.has_redeem_coins,O=e.platform_vouchers;return function(){var e=u(i().mark((function e(u){var g,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({type:n.rQ.REQUESTED,orders:t,groupBuyInfo:r,slashPriceInfo:c,spmChannelId:l,legacySpmChannelId:s,checkVoucherPaymentCriteria:_,cardBinNumber:h,shopId:f,isCheckout:p,selectedPaymentChannelData:d,sorting_flag:v,priority_promotion_ids:m}),e.next=3,o.u$(a({orders:t,shopid:f,group_buy_info:r,slash_price_info:c,spm_channel_id:l,legacy_spm_channel_id:s,check_voucher_payment_criteria:_,card_bin_number:h},v?{sorting_flag:v}:{},{priority_promotion_ids:m||[]},d?{selected_payment_channel_data:d}:{},{has_redeem_coins:E,platform_vouchers:O}));case 3:return g=e.sent,(y=g.response)&&!y.error&&y.data?u({type:n.rQ.SUCCESS,shopId:f,isCheckout:p,data:y.data}):u({type:n.rQ.FAILED,shopId:f,isCheckout:p,error:y&&y.error,error_msg:y&&y.error_msg}),e.abrupt("return",{response:y});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function _(e){var t=e.promotionid,r=e.voucher_code,c=e.shopid;return function(){var e=u(i().mark((function e(u){var l,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({type:n.cI.REQUESTED,promotionid:t,voucher_code:r,shopid:c}),e.next=3,o.Ek({promotionid:t,voucher_code:r,shopid:c});case 3:return l=e.sent,!(s=l.response)||s.error?u({type:n.cI.FAILED,error:s&&s.error,error_msg:s&&s.error_msg,promotionid:t,voucher_code:r,shopid:c}):u(a({type:n.cI.SUCCESS},s.data,{promotionid:t,voucher_code:r,shopid:c})),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function h(e){var t=e.voucher_code,r=e.shopid;return function(){var e=u(i().mark((function e(c){var u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:n.XB.REQUESTED,voucher_code:t,shopid:r}),e.next=3,o.i({voucher_code:t,shopid:r});case 3:return u=e.sent,!(l=u.response)||l.error||l.data&&(l.data.invalid_message_code||l.data.error_config)?c(a({type:n.XB.FAILED,error:l&&l.error,error_msg:l&&l.error_msg},l?l.data:{},{voucher_code:t,shopid:r})):c(a({type:n.XB.SUCCESS},l.data,{voucher_code:t,shopid:r})),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var f=function(e){return{type:n.KW,voucher:e}},p=function(e){return{type:n.Ec,voucher:e}},d=function(e){return{type:n.mk,voucher:e}}},92945:function(e,t,r){"use strict";r.d(t,{z5:function(){return n},hv:function(){return o},o$:function(){return a}}),r(41064);var n={NORMAL:0,MALL:1},o={ALL_PRODUCTS_IN_SELECTED_SHOP:"APSS",SELECTED_PRODUCTS_OR_CATEGORIES_IN_SELECTED_SHOP:"SPCSS",PRODUCTS_CROSS_SHOPEE_PLATFORM:"PCSP",SELECTED_PRODUCTS_OR_CATEGORIES_CROSS_SHOPEE_PLATFORM:"SPCCSP",PRODUCTS_CROSS_SHOPEE_MALL:"PCSM",SELECTED_PRODUCTS_OR_CATEGORIES_CROSS_SHOPEE_MALL:"SPCSM"},a=5},26355:function(e,t,r){"use strict";r.d(t,{av:function(){return a},Xp:function(){return i},lT:function(){return l},WS:function(){return s},qV:function(){return _},Q5:function(){return h},CV:function(){return f},sl:function(){return p}}),r(43255);var n=r(92945),o=r(41064);function a(e,t,r){if(t>e.length){var n=t-e.length;e.splice.apply(e,[e.length,n].concat(new Array(n).fill(null)))}for(var o=arguments.length,a=new Array(o>3?o-3:0),i=3;i<o;i++)a[i-3]=arguments[i];return e.splice.apply(e,[t,r].concat(a)),e}var i=function(e){return e.shop_id?e.product_limit?n.hv.SELECTED_PRODUCTS_OR_CATEGORIES_IN_SELECTED_SHOP:n.hv.ALL_PRODUCTS_IN_SELECTED_SHOP:e.platform_type===n.z5.MALL?e.product_limit?n.hv.SELECTED_PRODUCTS_OR_CATEGORIES_CROSS_SHOPEE_MALL:n.hv.PRODUCTS_CROSS_SHOPEE_MALL:e.product_limit?n.hv.SELECTED_PRODUCTS_OR_CATEGORIES_CROSS_SHOPEE_PLATFORM:n.hv.PRODUCTS_CROSS_SHOPEE_PLATFORM},c=new Date;c.setDate(c.getDate()+4),c=new Date(c.toDateString()).getTime()/1e3;var u=new Date;function l(e){return!!e.end_time&&e.end_time<Date.now()/1e3}u.setDate(u.getDate()-3),u=new Date(u.toDateString()).getTime()/1e3;var s=function(e){var t=e.voucher_market_type,r=e.shop_id;return t===o.Tc.DEFAULT_MARKET_PLACE?0===r?o.DF.SHOPEE_VOUCHER:o.DF.SHOP_VOUCHER:t===o.Tc.OFFLINE_PAYMENT?o.DF.OFFLINE_VOUCHER:t===o.Tc.DIGITAL_PURCHASE?o.DF.DP_VOUCHER:0},_=function(e,t){var r=e.filter((function(e){return e===t})),n=e.filter((function(e){return e!==t}));return 0===r.length?[t].concat(n).filter(Boolean):[].concat(r,n).filter(Boolean)},h=function(e){return"type:"+e.user_voucher_list_type+"-sort:"+e.voucher_sort_flag};function f(e){return function(e){return e.voucher_market_type===o.Tc.OFFLINE_PAYMENT}(e)?o.h4.OFFLINE_PAYMENT_VOUCHER:function(e){return e&&e.voucher_market_type===o.Tc.DIGITAL_PURCHASE}(e)?o.h4.DP_VOUCHER:function(e){return 3===e.third_party_type||!1}(e)?o.h4.NOWFOOD_VOUCHER:function(e){return Boolean(e.shop_id||!1)}(e)?o.h4.SELLER_VOUCHER:function(e){return e.voucher_external_market_type===o.sd.PARTNER}(e)?o.h4.PARTNER_VOUCHER:o.h4.SHOPEE_VOUCHER}function p(e){return!e||[o.fr.OK,o.fr.VALID_NOT_START,o.fr.CLAIM_NOT_START,o.fr.FULLY_CLAIMED,o.fr.NON_CLAIMABLE].includes(e)}},79861:function(e,t,r){"use strict";var n=r(63804),o=r(86704),a=r(84937);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}t.Z=function(e){var t=n.forwardRef((function(t,r){return n.createElement(a.Z,{onTrack:o.Tracking.onTrack},n.createElement(e,i({},t,{ref:r})))})),r=function(e){return e.displayName||e.name||"Component"}(t);return t.displayName="WithVoucherWrap("+r+")",t}},90932:function(e,t,r){var n={"./cl.png":82756,"./co.png":83409,"./pl.png":84915,"./sg.png":44603};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=90932},646:function(e,t,r){var n={"./ar.png":82399,"./br.png":66410,"./cl.png":1883,"./co.png":20108,"./es.png":16802,"./fr.png":41146,"./id.png":89345,"./in.png":49238,"./mx.png":91932,"./my.png":93785,"./ph.png":87362,"./pl.png":58579,"./sg.png":43670,"./th.png":10273,"./tw.png":66835,"./vn.png":36483};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=646},41584:function(e,t,r){var n={"./ar.png":22218};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=41584},17807:function(e,t,r){var n={"./ar.png":36822,"./br.png":6331,"./cl.png":96329,"./co.png":95556,"./es.png":12272,"./fr.png":47096,"./id.png":74362,"./in.png":55905,"./mx.png":26411,"./my.png":5863,"./ph.png":21022,"./pl.png":97742,"./sg.png":82625,"./th.png":84595,"./tw.png":89304,"./vn.png":90837};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=17807},16130:function(e,t,r){var n={"./ar.png":90544,"./br.png":81169,"./cl.png":30844,"./co.png":52518,"./es.png":26152,"./fr.png":27798,"./id.png":65156,"./in.png":64081,"./mx.png":79578,"./my.png":24091,"./ph.png":28638,"./pl.png":77893,"./sg.png":35058,"./th.png":22927,"./tw.png":48748,"./vn.png":87152};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=16130},19592:function(e,t,r){var n={"./popup_apponly@2x.png":80468,"./popup_mall_apponly@2x.png":8184};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=19592},77376:function(e,t,r){var n={"./popup_apponly_tw@2x.png":11145,"./popup_mall_apponly_tw@2x.png":55588};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=77376},87114:function(e,t,r){"use strict";e.exports=r.microfeI(4)},20843:function(e,t,r){"use strict";e.exports=r.microfeI(2)},57705:function(e,t,r){"use strict";e.exports=r.microfeI(1)},43255:function(e,t,r){"use strict";e.exports=r.microfeI(0)},57944:function(e,t,r){"use strict";e.exports=r.microfeI(3)}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopee.io/pcmall-voucher/_/484.cc0581589785e53f6a4c.legacy.js.map