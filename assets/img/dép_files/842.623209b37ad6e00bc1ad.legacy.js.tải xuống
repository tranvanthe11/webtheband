(self.wpJsonpPcmallPcpagevoucherdetail=self.wpJsonpPcmallPcpagevoucherdetail||[]).push([[842],{26842:function(e,t,a){"use strict";a.d(t,{u:function(){return H}});var r,i,n,c,o,s,_,d,u,f,E,m,l,b=a(63804),p=a(17),S=a(34190),C=a(86704),h=a(56791);C.FetchUtils.fetch,C.FetchUtils.genericHttp,(i=r||(r={})).REQUESTED="ACCOUNT/FETCH_ACCOUNT_INFO_REQUESTED",i.SUCCESS="ACCOUNT/FETCH_ACCOUNT_INFO_SUCCESS",i.FAILED="ACCOUNT/FETCH_ACCOUNT_INFO_FAILED",function(e){e.REQUESTED="ACCOUNT/SET_ADULT_CONSENT_TIMESTAMP_REQUESTED",e.SUCCESS="ACCOUNT/SET_ADULT_CONSENT_TIMESTAMP_SUCCESS",e.FAILED="ACCOUNT/SET_ADULT_CONSENT_TIMESTAMP_FAILED"}(n||(n={})),function(e){e.REQUESTED="ACCOUNT/ACCEPT_PRIVACY_POLICY_REQUESTED",e.SUCCESS="ACCOUNT/ACCEPT_PRIVACY_POLICY_SUCCESS",e.FAILED="ACCOUNT/ACCEPT_PRIVACY_POLICY_FAILED"}(c||(c={})),function(e){e.REQUESTED="ACCOUNT/BIND_PHONE_NUMBER_REQUESTED",e.SUCCESS="ACCOUNT/BIND_PHONE_NUMBER_SUCCESS",e.FAILED="ACCOUNT/BIND_PHONE_NUMBER_FAILED"}(o||(o={})),function(e){e.REQUESTED="ADD_PHONE/ADD_PHONE_NUMBER_REQUESTED",e.SUCCESS="ADD_PHONE/ADD_PHONE_NUMBER_SUCCESS",e.FAILED="ADD_PHONE/ADD_PHONE_NUMBER_FAILED"}(s||(s={})),function(e){e.REQUESTED="CHANGE_PHONE/UPDATE_PHONE_NUMBER_REQUESTED",e.FAILED="CHANGE_PHONE/UPDATE_PHONE_NUMBER_FAILED",e.SUCCESS="CHANGE_PHONE/UPDATE_PHONE_NUMBER_SUCCESS"}(_||(_={})),function(e){e.REQUESTED="CHANGE_EMAIL/CHANGE_EMAIL_REQUESTED",e.FAILED="CHANGE_EMAIL/CHANGE_EMAIL_FAILED",e.SUCCESS="CHANGE_EMAIL/CHANGE_EMAIL_SUCCESS"}(d||(d={})),function(e){e.FAILED="USER_PROFILE/UPDATE_USER_PROFILE_FAILED",e.SUCCESS="USER_PROFILE/UPDATE_USER_PROFILE_SUCCESS",e.REQUESTED="USER_PROFILE/UPDATE_USER_PROFILE_REQUESTED"}(u||(u={})),function(e){e.FAILED="USER_PROFILE/UPDATE_USERNAME_FAILED",e.SUCCESS="USER_PROFILE/UPDATE_USERNAME_SUCCESS",e.REQUESTED="USER_PROFILE/UPDATE_USERNAME_REQUESTED"}(f||(f={})),function(e){e.REQUESTED="USER_GDPR/ACCEPT_COOKIES_REQUESTED",e.SUCCESS="USER_GDPR/ACCEPT_COOKIES_SUCCESS",e.FAILED="USER_GDPR/ACCEPT_COOKIES_FAILED"}(E||(E={})),function(e){e.REQUESTED="USER_GDPR/SET_DATA_PROCESSING_CONSENT_REQUESTED",e.SUCCESS="USER_GDPR/SET_DATA_PROCESSING_CONSENT_SUCCESS",e.FAILED="USER_GDPR/SET_DATA_PROCESSING_CONSENT_FAILED"}(m||(m={})),function(e){e.REQUESTED="ACCOUNT/CHANGE_TAX_ID_REQUESTED",e.SUCCESS="ACCOUNT/CHANGE_TAX_ID_SUCCESS",e.FAILED="ACCOUNT/CHANGE_TAX_ID_FAILED"}(l||(l={}));var T=Object.freeze({username:"",default_address:void 0,holiday_mode_on:!1,holiday_mode_mtime:null,userid:0,shopid:0,access:{wallet_setting:void 0,wallet_provider:void 0},phone:"",recent_cart_items:[],recent_cart_item_details:[],has_password:!1,phone_verified:!1,payment_password:void 0,cart_item_count:0,web_option:void 0,portrait:"",is_seller:!1,is_mall_seller:!1,email:"",email_verified:!1,is_ads_whitelist:!1,is_cc_installment_payment_eligible:!1,is_non_cc_installment_payment_eligible:!1,credit_card_channel:void 0,not_new_user:!1,ctime:0,feed_account_info:void 0,birth_timestamp:void 0,adult_consent:void 0,cb_option:0,tos_accepted_time:void 0,cover:"",cookies_accepted_time:void 0,disallow_data_processing:void 0,tax_id:""}),A=a(17561),N=(a(63247),a(59470)),O=a(4232);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},I.apply(this,arguments)}a(87114),a(33914),a(32132),a(44099),a(43741),a(17731);var g={"initialRender-clientExecution":"cfdf19eab444e5ebae9d7726c67868e2","initialRender-appStartRender":"ed5b025d8ba8f06e75d2b63de237852c","initialRender-appDidMount":"f8b963aef12f771d45f1888698244735","initialRender-heroComponentMount":"f8e50fb0dd9c8938a8e27eb069b95840","initialRender-duration":"9575502851d5a58fb996a27501876f80","navigation-heroComponentMount":"60d4b38e3c56770434b75ab8470e861a","navigation-duration":"d48ddf5ea6214eaa9065e00403ef49ce","ImageServer-domainLookupStart":"8d0fcc1f36d0e3a8cb88d9dad34dce22","ImageServer-domainLookupEnd":"75f3b398390d5b4225f1eb6b748602fa","ImageServer-connectStart":"5a9096f399610be2fd3b8be96eabe6f1","ImageServer-connectEnd":"f987f50d7988eb114cd0e943d63fec4c","ImageServer-requestStart":"d8e9cbdd340b9eceded88d3fda5b626f","ImageServer-responseStart":"424051a25481346368ccd8c69d5cf565","ImageServer-responseEnd":"3c968b6aeabd2bafd3cb61457908c038","ImageServer-domInteractive":"c656365153c90a60e1d2623996228990","ImageServer-domContentLoadedEventStart":"1f9c11b67c33dba3403e274a358f1682","ImageServer-domContentLoadedEventEnd":"3819d71f736f7a63ca6019bba75b4beb","ImageServer-domComplete":"4c04f7c20ea6fbd06bf8b3c6785433ac","ImageServer-lcpStartTime":"7cafb7046c4f1e6016e152a6380515ca","ImageServer-totalImageBytes":"867331904aac51d4824de290c010fa61","ImageServer-transferBytes":"f02a837ca37e7bf078c7d3ac3324a9db","ImageServer-imageLoadSpeed":"5b2371a91dfed2eeee20b5ee630b32c1","ImageServer-successRate":"c6c96eb5c7775ce6451590211bf43f64","ImageServer-errorCount":"d27a8ac8c8acb865dacd1ed691ba478a","ImageServer-duration":"6aa74f8d0477adc3fb8117d39ce7b71c","MicrositePageConfigAPI-duration":"e19dedbaefb345ef7122d9c8f3a24479","loadDfpWebTrace-sdkLoaded":"bf934355a88c5e44bc31f28d3e98d5bb","loadDfpWebTrace-duration":"6d2a183bf1a51bb190d19406bb452a2b","accountInfo-duration":"e49b9d1525561159e27d98d528d69913","postWithSignature-SapSdkInvoked":"bed38d40ded2a6ed2701680d24eaa995","postWithSignature-duration":"5a6aac5c28fd2847fba9e0db2a1c349b","antiCrawlerWebSdk-generateDataForGetRequest":"7490b682ff73d63f076d3f3ca65d827b","antiCrawlerWebSdk-generateDataForPostRequest":"dcbb9feea53d05f9a56f8d568636c414","antiCrawlerWebSdk-loadingSdkStart":"18da8b5293ecaa4258748c3c81bec647","antiCrawlerWebSdk-initStart":"d2df3acdbfeb77ed5a9745a803f63c5d","antiCrawlerWebSdk-initStartAfterRequestIdleCallback":"13e08b97a69b0df19a003e3f6b5146e5","antiCrawlerWebSdk-initEnd":"0ebb02619e78b48f04bafc2f466792a1","antiCrawlerWebSdk-sdkLoaded":"3c75d84a16adf5262520b9b63efbe991","antiCrawlerWebSdk-sdkInitialized":"ed3c3ec4987e7bdd2e4be9c9055dcb2a","antiCrawlerWebSdk-loadingSdkEnd":"ee48e0c22186b73404a2ef805362613d","antiCrawlerWebSdk-duration":"0e51cae67b33e9b622edabf0af94aa1e","captcha-sdkExecution":"8154990708c4fd9247b27bd4763a8a7f","captcha-duration":"450fb4d431ed777081e96b41728d7ec3","captchaPage-CLS":"6481c944515d6262daead21b31a32b59","captchaPage-FCP":"0d5c4dfc1729842bd103b94147329a1a","captchaPage-FID":"95576811ec100abe39f72bd91c9efe32","captchaPage-LCP":"750ef2d1f2371b4ea75cb24d23a864f9","captchaPage-TTFB":"f6a5c3802eca11c9fb08f21ade9b8fca","captchaPage-componentDidMount":"41d1c61744c572b19f6532e2cd061e17","captchaPage-componentWillUnmount":"ccd795168f74f1c2a5aae75e5b123b2f","captchaPage-duration":"0a1716bc309c6a1fe36bec5a9c0d23a2","prefetchCartAssets-assetsFetched":"7b365a7eb4d3cb9a1a96d919827720cf","prefetchCartAssets-duration":"98276e6e347217fa69b10b2ce51630d1"},v={page_name:"page_name",pageName:"page_name",component_name:"component_name",componentName:"component_name",operation_name:"operation_name",operationName:"operation_name",status:"status",page_url:"page_url",pageUrl:"page_url",url:"url",custom_field:"custom_field",customField:"custom_field"};function U(e,t,a){var r=t||null;if(r){var i=function(e,t){var a=e.traceName+"-"+e.metricName,r=t&&t[a]||g[a];if(r){var i=e.attributes||{},n=Object.keys(i),c={},o={};return n.forEach((function(e){var t=i[e];e in v?o[v[e]]=t:c[e]=t})),I({point_id:r,duration:e.value,data:c},o)}}(e,a);i&&r.sendData(i)}}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},D.apply(this,arguments)}function R(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=new(function(){function e(){var e=this;this._firebase=null,this._trace=null,this._platformTrace=null,this._platformTraceName="",this._appRouterConfig=null,this._performanceMetrics={},this._customAttributes={},this._startTime=null,this._timeOffset=null,this._isTraceRunning=!1,this._pathname=null,this.setupFirebase=function(t){t&&(e.firebase=t.firebase,e.trace=t.trace)},this.addMetric=function(t){e._performanceMetrics[t]=e.now},this.addAttributes=function(t){e._customAttributes=D({},e._customAttributes,t)},this.dumpEntries=function(){var t=e._customAttributes||{};e._platformTrace&&Object.keys(t).forEach((function(a){var r=t[a];r&&e._platformTrace&&e._platformTrace.putAttribute(a,String(r))}));var a=e._performanceMetrics||{};Object.keys(a).forEach((function(r){var i=a[r];if(i){var n=Math.floor(i-(e._timeOffset||0));e._platformTrace&&e._platformTrace.putMetric(r,n),U({traceName:e._platformTraceName,metricName:r,value:n,attributes:t})}})),e._performanceMetrics={},e._customAttributes={}},this.startTrace=function(t){e.stopTrace(),e._platformTraceName=t,e._isTraceRunning=!0,window&&window.location&&(e._pathname=window.location.pathname);var a=e.currentRouteIdentifier;a&&(e._customAttributes=D({},e._customAttributes,{pageName:a})),e._isFirstPlatformTrace||(e._timeOffset=e.now),e._isFirstPlatformTrace=!1,e._firebase&&e._trace&&(e._platformTrace=e._trace(e._firebase,t),e._platformTrace.start())},this.stopTrace=function(){if(e._isTraceRunning){var t=e.currentRouteIdentifier;t&&e._platformTrace&&e._platformTrace.putAttribute("pageName",t),e.dumpEntries(),e._platformTrace&&e._platformTrace.stop(),U({traceName:e._platformTraceName,metricName:"duration",value:e.now-(e._timeOffset||0),attributes:e._customAttributes}),e._isTraceRunning=!1}},this.handleNavigate=function(){try{e._isFirstPlatformTrace||e.startTrace("navigation")}catch(t){window&&window.Sentry&&window.Sentry.captureException(t)}},this._appRouterConfig=null,this._isFirstPlatformTrace=!0,this._performanceMetrics={},this._customAttributes={},this._startTime=(new Date).getTime(),this._timeOffset=0,document&&document.addEventListener&&document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.stopTrace()}))}var t,a;return t=e,(a=[{key:"firebase",get:function(){return this._firebase},set:function(e){e&&!this._firebase&&(this._firebase=e)}},{key:"trace",get:function(){return this._trace},set:function(e){e&&!this._trace&&(this._trace=e)}},{key:"appRouterConfig",set:function(e){e&&(this._appRouterConfig=e)}},{key:"currentRouteIdentifier",get:function(){if(this._pathname&&this._appRouterConfig){var e=(0,O.f)(this._appRouterConfig,this._pathname),t=e[e.length-1];if(t&&t.route)return String(t.route.name||t.route.path||"")}}},{key:"now",get:function(){return window&&window.performance&&window.performance.now?window.performance.now():(new Date).getTime()-(this._startTime||0)}}])&&R(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}());function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},w.apply(this,arguments)}new(function(){function e(e,t,a,r){var i=this;this._traceName="",this._metrics={},this._attributes={},this._trace=null,this._apmsPointConversion={},this._timeOffset=null,this._timeElapsed=null,this._isTraceRunning=!1,this.start=function(e){var t=(e||{}).resetTimer,a=void 0===t||t;return i._isTraceRunning||(i._timeOffset=a?P.now:i._timeOffset,i._isTraceRunning=!0,i._trace&&i._trace.start()),i},this.forceStart=function(e){var t=(e||{}).resetTimer,a=void 0===t||t;return i._initiateTrace(),i._timeOffset=a?P.now:i._timeOffset,i._isTraceRunning=!0,i._trace&&i._trace.start(),i},this.stop=function(){return i._isTraceRunning?(i._isTraceRunning=!1,i._timeElapsed=P.now-(i._timeOffset||0),i._trace&&i._trace.stop(),i._metrics=w({},i._metrics,{duration:Math.floor(i._timeElapsed)}),Object.keys(i._metrics).forEach((function(e){U({traceName:i._traceName,metricName:e,value:i._metrics[e],attributes:i._attributes},i._apmsCustomTracker,i._apmsPointConversion)})),i):i},this.discard=function(){return i._initiateTrace(),i},this.markMetric=function(e){var t,a=Math.floor(P.now-(i._timeOffset||0));return i._trace&&i._trace.putMetric(e,a),i._metrics=w({},i._metrics,((t={})[e]=a,t)),i},this.markCustomMetric=function(e,t){var a;return i._trace&&i._trace.putMetric(e,t),i._metrics=w({},i._metrics,((a={})[e]=t,a)),i},this.record=function(e,t,a){i._trace&&i._trace.record(e,t,a);var r=a||{metrics:{},attributes:{}},n=r.metrics||{},c=r.attributes||{};return Object.keys(w({},n,{duration:t})).forEach((function(e){U({traceName:i._traceName,metricName:e,value:n[e],attributes:c},i._apmsCustomTracker,i._apmsPointConversion)})),i},this.addAttributes=function(e){return i._attributes=w({},i._attributes,e),i._trace?(Object.keys(e).forEach((function(t){var a=e[t];a&&i._trace&&i._trace.putAttribute(t,a)})),i):i},this.removeAttribute=function(e){return delete i._attributes[e],i._trace&&i._trace.removeAttribute(e),i},this.getAttribute=function(e){return i._attributes[e]||""},this.getMetric=function(e){return i._metrics[e]||0},this.incrementMetric=function(e,t){return i._trace?(i._trace.incrementMetric(e,t),i):i},this._traceName=e,this._attributes=t||{},this._apmsCustomTracker=a,this._apmsPointConversion=r||{},this._timeOffset=0,this._timeElapsed=0,this._initiateTrace()}return e.prototype._initiateTrace=function(){var e=this;if(this._isTraceRunning=!1,P.firebase&&P.trace){this._trace=P.trace(P.firebase,this._traceName);var t=this._attributes||{};Object.keys(t).forEach((function(a){var r=t[a];r&&e._trace&&e._trace.putAttribute(a,r)}))}},e}())("accountInfo",{type:"accountInfoLoad"}),a(77944);var y=a(70373),L=a(89620);function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},F.apply(this,arguments)}var M,k=(M=!0,{maybeAddProxy:function(e){return"undefined"==typeof Proxy?e:new Proxy(e,{get:function(e,t){if(M){if(["cartItemCount","isAdsWhitelist","isCCInstallmentPaymentEligible","isNonCCInstallmentPaymentEligible","recentCartItems"].includes(String(t))){var a=new Error;(0,y.Z)("[READING_ACCOUNT_API_V2] ",t,a)}return e[t]}}})},getPlainObject:function(e){M=!1;var t=F({},e);return M=!0,t}}).maybeAddProxy;function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},G.apply(this,arguments)}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Z.apply(this,arguments)}var H=function(e){return function(e){return function(t){var a,r,i,n,c,o,s,_=(a=(0,b.useContext)(p.AccountContext),r=a.actions,i=function(e){var t=(0,N.Z)(e,["info"]),a=(0,N.Z)(t,["userid"],null),r=(0,N.Z)(e,["progress"],A.Z.INIT),i=(0,N.Z)(e,["error"]),n=r===A.Z.INIT||r===A.Z.REQ||r===A.Z.ERR&&i!==h.j.NOT_LOGIN?L.d.UNKNOWN:r===A.Z.OK&&a?L.d.LOGGED_IN:L.d.NOT_LOGGED_IN;return{accountInfo:k({userId:(0,N.Z)(t,["userid"])||T.userid,username:(0,N.Z)(t,["username"])||T.username,email:(0,N.Z)(t,["email"])||T.email,emailVerified:(0,N.Z)(t,["email_verified"])||T.email_verified,phone:(0,N.Z)(t,["phone"])||T.phone,hasPassword:(0,N.Z)(t,["has_password"])||T.has_password,portrait:(0,N.Z)(t,["portrait"])||T.portrait,adultConsentTimestamp:(0,N.Z)(t,["adult_consent"])||T.adult_consent,birthTimestamp:(0,N.Z)(t,["birth_timestamp"])||T.birth_timestamp,cartItemCount:(0,N.Z)(t,["cart_item_count"])||T.cart_item_count,ctime:(0,N.Z)(t,["ctime"])||T.ctime,creditCardChannel:(0,N.Z)(t,["credit_card_channel"])||T.credit_card_channel,isAdsWhitelist:(0,N.Z)(t,["is_ads_whitelist"])||T.is_ads_whitelist,isCCInstallmentPaymentEligible:(0,N.Z)(t,["is_cc_installment_payment_eligible"])||T.is_cc_installment_payment_eligible,isNonCCInstallmentPaymentEligible:(0,N.Z)(t,["is_non_cc_installment_payment_eligible"])||T.is_non_cc_installment_payment_eligible,isSeller:(0,N.Z)(t,["is_seller"])||T.is_seller,isMallSeller:(0,N.Z)(t,["is_mall_seller"])||T.is_mall_seller,isNewUser:!(0,N.Z)(t,["not_new_user"])||T.not_new_user,recentCartItems:(0,N.Z)(t,["recent_cart_items"])||T.recent_cart_items,shopId:(0,N.Z)(t,["shopid"])||T.shopid,tosAcceptedTime:(0,N.Z)(t,["tos_accepted_time"])||T.tos_accepted_time,webOption:(0,N.Z)(t,["web_option"])||T.web_option,paymentPassword:(0,N.Z)(t,["payment_password"])||T.payment_password,cbOption:(0,N.Z)(t,["cb_option"])||T.cb_option,cookiesAcceptedTime:(0,N.Z)(t,["cookies_accepted_time"])||T.cookies_accepted_time,disallowDataProcessing:(0,N.Z)(t,["disallow_data_processing"])||T.disallow_data_processing,taxId:(0,N.Z)(t,["tax_id"])||T.tax_id}),accountStatus:n,accountInfoProgress:r,accountInfoError:i}}(a.state),n=i.accountStatus,c=i.accountInfo,o=c.username,s=c.portrait,(0,b.useEffect)((function(){n===L.d.LOGGED_IN?(0,S.RD)({username:o,portrait:s}):n===L.d.NOT_LOGGED_IN&&(0,S.hW)()}),[n,o,s]),G({},i,r));return b.createElement(e,Z({},t,_))}}}},89620:function(e,t,a){"use strict";var r;a.d(t,{d:function(){return r}}),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOGGED_IN=1]="LOGGED_IN",e[e.NOT_LOGGED_IN=2]="NOT_LOGGED_IN"}(r||(r={}))}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopee.io/pcmall-voucher/_/842.623209b37ad6e00bc1ad.legacy.js.map