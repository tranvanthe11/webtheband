(self.miniJsonp=self.miniJsonp||[]).push([[493],{95212:(e,r,t)=>{var o;self,e.exports=(o=t(26842),(()=>{"use strict";var e={1855:e=>{e.exports=o}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var a=r[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{t.r(n),t.d(n,{IMG_STATUS:()=>f,MAX:()=>v,getPromotionStatus:()=>c,getReplyToolkit:()=>e,handleCacheKey:()=>o,handleCalculate:()=>p,handleCalculateClickableCard:()=>g,handleCalculateDynamic:()=>y,handleCondition:()=>i,handleHostname:()=>u,handleServerImageUrl:()=>l,loadImageStyle:()=>a});var e=function(e){var r=e.replyToMessage,t=e.handleMessageIsSend,o=e.scrollToMessage,n=!!r,a=n&&t(r);return{showReplyToMessage:n,isReplyToMessageSend:a,handleScrollToReplyToMessage:function(){n&&o({messageId:r.id})}}},r=t(1855),o=function(e,r,t){e&&t[e]&&r!==e&&(t[r]=t[e],delete t[e])},a=function(e){var r=e.url,t=e.handleError,o=e.handleLoad,n=new Image;n.onload=function(){return o(n)},n.onerror=t,n.src=r},l=function(e){var t,o,n,a=e.thumb_url,l=e.image_url;"url"in e&&(t=e.url,o=e.url_hash,n=e.file_server_id);var i=l||t;return 1!==n&&(a||o)?"".concat((0,r.getFileServer)()).concat(a||o):i},i=function(e,r){var t=e.thumb_url,o=e.thumb_width,n=e.thumb_height;return!!t&&0!==o&&0!==n&&r!==f.FAILED},u=function(e){var r=(e.split("/")[2]||"").split(".");return"www"===r[0]&&r.shift(),r.join(".")},s=r.PromotionStatus.UPCOMING,d=r.PromotionStatus.ONGOING,h=r.PromotionStatus.EXPIRED,c=function(e,r,t){return e<r?s:e>=t?h:d},f={INIT:0,LOADING:1,LOADED:2,FAILED:3},p=function(e,r){var t,o,n;return t=216,(e=e||t)>(r=r||t)?(o=e>t?t:e,n=Math.floor(o/e*r)):(n=r>t?t:r,o=Math.floor(n/r*e)),{width:o,height:n}},g=function(e,r){var t;return{width:178,height:(t=Math.floor(178/e*(r||267)))<71.2?71.2:t>267?267:t}},v=330,m=110,y=function(e,r){var t=0,o=0,n=0;return r>=e?(n=r/e)>3?(o=v,t=m):e<m?(t=m,o=m*n):(o=v,t=v/n):e>r&&((n=e/r)>3?(t=v,o=m):r<m?(o=m,t=m*n):(t=v,o=v/n)),p(t,o)}})(),n})())}}]);